(function(){"use strict";var e={6292:function(e,t,o){var i=o(9963),s=o(6252);const n={key:0},a={key:1};function l(e,t,o,i,l,r){const d=(0,s.up)("Start"),c=(0,s.up)("WelcomeScreen"),u=(0,s.up)("CardModal"),h=(0,s.up)("ImageManager"),p=(0,s.up)("PopupManager"),g=(0,s.up)("Version3Import");return(0,s.wg)(),(0,s.iD)(s.HY,null,[this.$root.session.settings?((0,s.wg)(),(0,s.iD)("div",n,[(0,s.Wm)(d)])):(0,s.kq)("",!0),this.$root.session.settings?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",a,[(0,s.Wm)(c)])),e.$root.session.EditCard?((0,s.wg)(),(0,s.j4)(u,{key:e.$root.EditCardrefresh})):(0,s.kq)("",!0),e.$root.imagemanager?((0,s.wg)(),(0,s.j4)(h,{key:3})):(0,s.kq)("",!0),(0,s.Wm)(p),l.v3import?((0,s.wg)(),(0,s.j4)(g,{key:4})):(0,s.kq)("",!0),(0,s._)("input",{type:"file",id:"wavemakerHiddenPicker",name:"upload",accept:".wm4",onChange:t[0]||(t[0]=(...t)=>e.file_load&&e.file_load(...t)),style:{display:"none"}},null,32)],64)}var r=JSON.parse('{"name":"wavemakercards-v4","version":"0.1.3","private":true,"description":"Wavemaker cards is software to help you plan and write your novel","scripts":{"serve":"vue-cli-service serve","build":"vue-cli-service build","lint":"vue-cli-service lint","electron:build":"vue-cli-service electron:build","electron:serve":"vue-cli-service electron:serve","postinstall":"electron-builder install-app-deps","postuninstall":"electron-builder install-app-deps"},"main":"background.js","dependencies":{"@tiptap/extension-bubble-menu":"^2.0.0-beta.202","@tiptap/extension-dropcursor":"^2.0.0-beta.25","@tiptap/extension-image":"^2.0.0-beta.27","@tiptap/extension-task-item":"^2.0.0-beta.32","@tiptap/extension-task-list":"^2.0.0-beta.26","@tiptap/extension-typography":"^2.0.0-beta.20","@tiptap/starter-kit":"^2.0.0-beta.185","@tiptap/vue-3":"^2.0.0-beta.91","@vueuse/core":"^9.3.1","@vueuse/rxjs":"^9.3.1","@yeger/vue-masonry-wall":"^3.2.22","core-js":"^3.8.3","dexie":"^3.2.2","dexie-export-import":"^1.0.3","dexie-observable":"^3.0.0-beta.11","merge-webpack-plugin":"^0.2.1","register-service-worker":"^1.7.2","rxjs":"^7.5.7","showdown":"^2.1.0","uuid":"^9.0.0","vue":"^3.2.41","vue-draggable-next":"^2.1.1","vue-draggable-resizable":"^2.3.0"},"devDependencies":{"@babel/core":"^7.12.16","@babel/eslint-parser":"^7.12.16","@vue/cli-plugin-babel":"~5.0.0","@vue/cli-plugin-eslint":"~5.0.0","@vue/cli-plugin-pwa":"~5.0.0","@vue/cli-service":"~5.0.0","electron":"^13.0.0","electron-devtools-installer":"^3.1.0","eslint":"^7.32.0","eslint-plugin-vue":"^8.0.3","vue-cli-plugin-electron-builder":"~2.1.1"}}');const d={data(){return{}},methods:{file_loadDB(){document.getElementById("wavemakerHiddenPicker").click()},file_load(e){console.log(e.target.files);var t=new FileReader;t.onload=async e=>{const t=new Blob([e.target.result],{type:"text/json;charset=utf-8"});await this.$root.databaseImport(t),console.log("import complete"),this.$root.getSettings()},t.readAsText(e.target.files.item(0))},async file_downloadDB(){if(!confirm("This will download a copy of your project to your device"))return!1;var e=new Date,t=String(e.getDate()).padStart(2,"0"),o=String(e.getMonth()+1).padStart(2,"0"),i=e.getFullYear(),s=e.getHours()+"-"+e.getMinutes()+"-"+e.getSeconds();let n=this.$root.session.settings.ProjectName;n=n.replace(/[\W_]+/g,"-");let a=n+"["+i+"-"+o+"-"+t+"-"+s+"].wm4",l=await this.$root.databaseExport();const r=new Blob([l],{type:"text/json;charset=utf-8"}),d=URL.createObjectURL(r),c=document.createElement("a");c.href=d,c.target="_blank",c.download=a,c.click(),URL.revokeObjectURL(d)}},mounted(){let e=document.createElement("input");e.type="file",e.id="wavemakerHiddenPicker",e.accept=".wm4",e.style="display:none",document.body.appendChild(e)}};var c=d,u=o(9520);o(4624);const h=new u.ZP("wavemakerv4"),p={Settings:"uuid, settings, lastupdated",Writer:"uuid, title, description, files, lastupdated",Cards:"uuid, title,description,content,style,labels,options,lastupdated",Files:"uuid, writerid, title, content, lastupdated",Snowflake:"uuid, title, description,content,lastupdated",Timeline:"uuid, title, description,content,lastupdated",Gridplanner:"uuid, title, description,content,lastupdated",Mindmap:"uuid, title, description,content,lastupdated",ImageLibrary:"uuid, title, base64"};h.version(1).stores(p);const g=async e=>{await h.import(e,{clearTablesBeforeImport:!0})},m=async()=>{const e=await h.export();return e};var w=o(5357);const v={data(){return{db:h,useObservable:w.mA,liveQuery:u.Y1,databaseImport:g,databaseExport:m,windowID:null}},methods:{async getImage(e){return await this.$root.db.ImageLibrary.get(e)},async AddRecord(e,t){return t.lastupdated=Date.now(),await this.db[e].add(t)},async UpdateRecord(e,t,o){return o.uuid=t,o.lastupdated=Date.now(),await this.db[e].put(JSON.parse(JSON.stringify(o)))},async DeleteRecord(e,t){return await this.db[e].delete(t)},clearDatabase(){this.$root.db.Settings.clear(),this.$root.db.Writer.clear(),this.$root.db.Cards.clear(),this.$root.db.Files.clear(),this.$root.db.Mindmap.clear(),this.$root.db.ImageLibrary.clear(),this.$root.db.Gridplanner.clear(),this.$root.db.Snowflake.clear(),this.$root.db.Timeline.clear()},async getSettings(e){if(!e){let t=await this.$root.db.Settings.toArray();e=t[0].uuid}this.$root.session.settings=this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Settings.get(e))))}},beforeMount(){this.windowID=this.uuid()}};var C=v;const f={data(){return{SettingsTemplate:{documentprefs:{align:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-align")),fontsize:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-fontsize")),lspacing:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-lspacing")),indentation:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-indentation")),pspacing:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-pspacing")),page:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-page")),font:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-font")),color:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-color")),bgcolor:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-bgcolor")),h1align:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-h1align")),h2align:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-h2align")),h3align:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-h3align")),h4align:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-h4align")),distractionfree_font:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--distractionfree-font")),distractionfree_bg:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--distractionfree-bg")),distractionfree_fg:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--distractionfree-fg")),typesound:!1}}}},methods:{dotrim(e){return" "===e[0]&&(e=e.substring(1)),e},makeNewCard(e){let t=this.$root.uuid();e&&(t=e);let o={};o.uuid=t,o.projectID=this.$root.$data.session.selectedProject,o.title="",o.description="",o.showdesc=!1,o.content="",o.labels=[],o.images=[],o.style="",o.options={},o.color="--card1",this.$root.AddRecord("Cards",o),this.$root.$data.session.EditCard=o.uuid}}};var H=f;const L={data(){return{GoogleDriveApi:{CLIENT_ID:"451112835343-dfdk5iglpkorfmt3ouu5puogmvmvn22p.apps.googleusercontent.com",API_KEY:"AIzaSyAq4C0VCC3I88n7GdW1VilDmcZdYle-UoU",DISCOVERY_DOC:"https://www.googleapis.com/discovery/v1/apis/drive/v3/rest",SCOPES:"https://www.googleapis.com/auth/drive.file",gapiInited:!1,gisInited:!1,tokenClient:null,loggedin:!1,files:[],CURRENT_FILE_OBJ:null,CURRENT_FILE_NAME:"",CURRENT_FILE_CONTENTS:"",loading:!1}}},methods:{async GoogleDriveInitializeGapi(){console.log("GoogleDriveInitializeGapi"),await window.gapi.client.init({apiKey:this.GoogleDriveApi.API_KEY,discoveryDocs:[this.GoogleDriveApi.DISCOVERY_DOC]}),this.GoogleDriveApi.gapiInited=!0,this.GoogleDriveCheckAuthStatus()},async GoogleDrivegisLoaded(){console.log("GoogleDrivegisLoaded"),this.GoogleDriveApi.tokenClient=window.google.accounts.oauth2.initTokenClient({client_id:this.GoogleDriveApi.CLIENT_ID,scope:this.GoogleDriveApi.SCOPES,callback:""}),this.GoogleDriveApi.gisInited=!0,this.GoogleDriveCheckAuthStatus()},GoogleDriveCheckAuthStatus(){console.log("GoogleDriveCheckAuthStatus"),this.GoogleDriveApi.gapiInited&&this.GoogleDriveApi.gisInited&&this.GoogleDriveAuthStart()},async GoogleDriveAuthStart(){console.log("GoogleDriveAuthStart"),this.GoogleDriveApi.tokenClient.callback=e=>{if(console.log("GoogleDriveAuthStart","callback",e),void 0!==e.error)throw e;this.GoogleDriveApi.loggedin=!0},null===window.gapi.client.getToken()?this.GoogleDriveApi.tokenClient.requestAccessToken({prompt:"consent"}):this.GoogleDriveApi.tokenClient.requestAccessToken({prompt:""})},GoogleDriveSignOut(){const e=window.gapi.client.getToken();null!==e&&(window.google.accounts.oauth2.revoke(e.access_token),window.gapi.client.setToken(""),this.GoogleDriveApi.loggedin=!1,this.$root.$data.popup.name=null)},async GoogleDriveListFiles(){let e;this.GoogleDriveApi.searching=!0,console.log("GoogleDriveListFiles");try{e=await window.gapi.client.drive.files.list({pageSize:10,fields:"files(id, name, size,  modifiedTime)",q:"name contains '.wm4'"})}catch(o){return void console.log(o.message)}const t=e.result.files;t&&0!=t.length?(this.GoogleDriveApi.files=t,this.GoogleDriveApi.searching=!1):console.log("No files found.")},GoogleDriveReadFile(){var e=window.gapi.client.drive.files.get({fileId:this.GoogleDriveApi.CURRENT_FILE_OBJ.id,alt:"media"});return e.then((async e=>{const t=new Blob([e.body],{type:"text/json;charset=utf-8"});await this.$root.databaseImport(t),this.$root.getSettings()}),(function(e){console.error(e)})),this.$root.$data.popup.name=null,e},async GoogleDriveWriteFile(e){this.GoogleDriveApi.loading=!0,this.GoogleDriveApi.CURRENT_FILE_NAME=this.$root.session.settings.ProjectName;let t=await this.$root.databaseExport();console.log("blob",t);let o=await t.text();console.log("CURRENT_FILE_CONTENTS",o);var i="";console.log(this.GoogleDriveApi.CURRENT_FILE_OBJ),this.GoogleDriveApi.CURRENT_FILE_OBJ&&(i=this.GoogleDriveApi.CURRENT_FILE_OBJ.id);const s="-------314159265358979323846",n="\r\n--"+s+"\r\n",a="\r\n--"+s+"--",l="application/json";var r,d={name:this.GoogleDriveApi.CURRENT_FILE_NAME+".wm4",mimeType:l},c=n+"Content-Type: application/json\r\n\r\n"+JSON.stringify(d)+n+"Content-Type: "+l+"\r\n\r\n"+o+a;""==i?(console.log("newfile"),r=window.gapi.client.request({path:"/upload/drive/v3/files",method:"POST",params:{uploadType:"multipart"},headers:{"Content-Type":'multipart/related; boundary="'+s+'"'},body:c})):r=window.gapi.client.request({path:"/upload/drive/v3/files/"+i,method:"PATCH",params:{uploadType:"multipart"},headers:{"Content-Type":'multipart/related; boundary="'+s+'"'},body:c}),e||(e=e=>{this.GoogleDriveApi.CURRENT_FILE_OBJ?console.log("Data Saved to GDrive",this.GoogleDriveApi.CURRENT_FILE_OBJ):console.log("Data Created on GDrive"),this.GoogleDriveApi.CURRENT_FILE_OBJ=e,this.GoogleDriveApi.loading=!1,this.$root.$data.popup.name=null}),r.execute(e)},GoogleDriveSignIn(){window.gapi.load("client",this.GoogleDriveInitializeGapi),this.GoogleDrivegisLoaded()}}};var V=L;const _={key:0,class:"wavemakerPopupBlackout"},y={key:0,class:"wavemakerPopup",style:{"text-align":"center"}},k={style:{"text-align":"right"}},b={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},$=(0,s._)("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1),D=[$];function x(e,t,o,n,a,l){const r=(0,s.up)("ApiForm"),d=(0,s.up)("SettingsPopup"),c=(0,s.up)("GoogleDrive");return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.$root.$data.popup.name?((0,s.wg)(),(0,s.iD)("div",_)):(0,s.kq)("",!0),(0,s.Wm)(i.uT,{name:"bounce"},{default:(0,s.w5)((()=>[e.$root.$data.popup.name?((0,s.wg)(),(0,s.iD)("div",y,[(0,s._)("div",k,[(0,s._)("button",{class:"clearInterfaceIconButton",onClick:t[0]||(t[0]=t=>e.$root.$data.popup.name=null)},[((0,s.wg)(),(0,s.iD)("svg",b,D))])]),"ApiForm"===e.$root.$data.popup.name?((0,s.wg)(),(0,s.j4)(r,{key:0})):(0,s.kq)("",!0),"SettingsPopup"===e.$root.$data.popup.name?((0,s.wg)(),(0,s.j4)(d,{key:1})):(0,s.kq)("",!0),"GoogleDrive"===e.$root.$data.popup.name?((0,s.wg)(),(0,s.j4)(c,{key:2})):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])),_:1})],64)}var M=o(3577);const A={key:0},B=(0,s._)("svg",{class:"wavemakerLoadingIcon",version:"1.1",id:"L9",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 100","enable-background":"new 0 0 0 0","xml:space":"preserve"},[(0,s._)("path",{d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50"},[(0,s._)("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})])],-1),I=[B],S={key:1,class:"wavemakerForm"},E={key:0},T=(0,s._)("h1",null,"Log In",-1),U=(0,s._)("label",null,"email",-1),Z=(0,s._)("label",null,"Password",-1),N={key:1};function j(e,t,o,n,a,l){return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.$root.$data.api_credentials.loading?((0,s.wg)(),(0,s.iD)("div",A,I)):(0,s.kq)("",!0),e.$root.$data.api_credentials.loading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",S,[e.$root.$data.api_credentials.loggedin?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",E,[T,U,(0,s.wy)((0,s._)("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=t=>e.$root.$data.api_credentials.email=t),class:"formInput"},null,512),[[i.nr,e.$root.$data.api_credentials.email]]),Z,(0,s.wy)((0,s._)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=t=>e.$root.$data.api_credentials.password=t),class:"formInput"},null,512),[[i.nr,e.$root.$data.api_credentials.password]]),(0,s._)("button",{onClick:t[2]||(t[2]=t=>e.$root.api_login()),class:"formButton"},"Log IN"),(0,s._)("div",null,(0,M.zw)(e.$root.$data.api_credentials.error),1)])),e.$root.$data.api_credentials.loggedin?((0,s.wg)(),(0,s.iD)("div",N,[(0,s._)("button",{onClick:t[3]||(t[3]=t=>e.$root.api_logout()),class:"formButton"},"Log Out"),(0,s._)("button",{onClick:t[4]||(t[4]=e=>l.get()),class:"formButton"},"Get File"),(0,s._)("button",{onClick:t[5]||(t[5]=e=>l.set()),class:"formButton"},"Set File")])):(0,s.kq)("",!0)]))],64)}var z={name:"ApiForm",methods:{async get(){let e=await this.$root.api_get();console.log("GET -> ",e)},async set(){let e=await this.$root.api_set();console.log("SET -> ",e)}}},P=o(3744);const F=(0,P.Z)(z,[["render",j]]);var G=F;const R=e=>((0,s.dD)("data-v-2bcf17c6"),e=e(),(0,s.Cn)(),e),W={style:{"text-align":"left"}},q={class:"container"},O={class:"item item-center"},Y=R((()=>(0,s._)("h2",null,"Document Preferences",-1))),J=R((()=>(0,s._)("label",null,"Alignment",-1))),K=R((()=>(0,s._)("option",{value:"left"},"Align Left",-1))),Q=R((()=>(0,s._)("option",{value:"center"},"Align Center",-1))),X=R((()=>(0,s._)("option",{value:"right"},"Align Right",-1))),ee=R((()=>(0,s._)("option",{value:"justify"},"Justify",-1))),te=[K,Q,X,ee],oe=R((()=>(0,s._)("label",null,"Font Size",-1))),ie=(0,s.uE)('<option value="1rem" data-v-2bcf17c6>Smallest</option><option value="1.5rem" data-v-2bcf17c6>Small</option><option value="2rem" data-v-2bcf17c6>Standard</option><option value="3rem" data-v-2bcf17c6>Big</option><option value="3.5rem" data-v-2bcf17c6>Biggest</option>',5),se=[ie],ne=R((()=>(0,s._)("label",null,"Line Height",-1))),ae=R((()=>(0,s._)("option",{value:"3rem"},"Standard Spacing",-1))),le=R((()=>(0,s._)("option",{value:"4rem"},"Double Spaced",-1))),re=R((()=>(0,s._)("option",{value:"5rem"},"2.5 Spaced",-1))),de=R((()=>(0,s._)("option",{value:"6rem"},"Triple Spaced",-1))),ce=[ae,le,re,de],ue=R((()=>(0,s._)("label",null,"Paragraph Indentation",-1))),he=R((()=>(0,s._)("option",{value:"20px"},"Yes",-1))),pe=R((()=>(0,s._)("option",{value:"0px"},"no",-1))),ge=[he,pe],me=R((()=>(0,s._)("label",null,"Paragraph Spacing",-1))),we=(0,s.uE)('<option value="20px" data-v-2bcf17c6>Standard Spacing</option><option value="30px" data-v-2bcf17c6>1.5x spacing</option><option value="40px" data-v-2bcf17c6>2x spacing</option><option value="50px" data-v-2bcf17c6>2.5x spacing</option><option value="100px" data-v-2bcf17c6>5x spacing</option>',5),ve=[we],Ce=R((()=>(0,s._)("label",null,"Page Width",-1))),fe=R((()=>(0,s._)("option",{value:"800px"},"Page Style",-1))),He=R((()=>(0,s._)("option",{value:"100%"},"Full Width",-1))),Le=[fe,He],Ve=R((()=>(0,s._)("label",null,"Text Colour",-1))),_e=R((()=>(0,s._)("label",null,"Page Colour",-1))),ye=R((()=>(0,s._)("label",null,"H1 Alignment",-1))),ke=R((()=>(0,s._)("option",{value:"left"},"Align Left",-1))),be=R((()=>(0,s._)("option",{value:"center"},"Align Center",-1))),$e=R((()=>(0,s._)("option",{value:"right"},"Align Right",-1))),De=R((()=>(0,s._)("option",{value:"justify"},"Justify",-1))),xe=[ke,be,$e,De],Me=R((()=>(0,s._)("label",null,"H2 Alignment",-1))),Ae=R((()=>(0,s._)("option",{value:"left"},"Align Left",-1))),Be=R((()=>(0,s._)("option",{value:"center"},"Align Center",-1))),Ie=R((()=>(0,s._)("option",{value:"right"},"Align Right",-1))),Se=R((()=>(0,s._)("option",{value:"justify"},"Justify",-1))),Ee=[Ae,Be,Ie,Se],Te=R((()=>(0,s._)("label",null,"H3 Alignment",-1))),Ue=R((()=>(0,s._)("option",{value:"left"},"Align Left",-1))),Ze=R((()=>(0,s._)("option",{value:"center"},"Align Center",-1))),Ne=R((()=>(0,s._)("option",{value:"right"},"Align Right",-1))),je=R((()=>(0,s._)("option",{value:"justify"},"Justify",-1))),ze=[Ue,Ze,Ne,je],Pe=R((()=>(0,s._)("label",null,"H4 Alignment",-1))),Fe=R((()=>(0,s._)("option",{value:"left"},"Align Left",-1))),Ge=R((()=>(0,s._)("option",{value:"center"},"Align Center",-1))),Re=R((()=>(0,s._)("option",{value:"right"},"Align Right",-1))),We=R((()=>(0,s._)("option",{value:"justify"},"Justify",-1))),qe=[Fe,Ge,Re,We],Oe=R((()=>(0,s._)("hr",null,null,-1))),Ye=R((()=>(0,s._)("h2",null,"Distraction-Free Preferences",-1))),Je=R((()=>(0,s._)("label",null,"Text Colour",-1))),Ke=R((()=>(0,s._)("label",null,"Page Colour",-1))),Qe=R((()=>(0,s._)("label",null,"Typewriter sound",-1))),Xe=R((()=>(0,s._)("br",null,null,-1))),et=R((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M13.5 21H6V17H13.5C15.43 17 17 15.43 17 13.5S15.43 10 13.5 10H11V14L4 8L11 2V6H13.5C17.64 6 21 9.36 21 13.5S17.64 21 13.5 21Z"})],-1))),tt={class:"item"},ot=R((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2C17.5,2 22,6 22,11A6,6 0 0,1 16,17H14.2C13.9,17 13.7,17.2 13.7,17.5C13.7,17.6 13.8,17.7 13.8,17.8C14.2,18.3 14.4,18.9 14.4,19.5C14.5,20.9 13.4,22 12,22M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C12.3,20 12.5,19.8 12.5,19.5C12.5,19.3 12.4,19.2 12.4,19.1C12,18.6 11.8,18.1 11.8,17.5C11.8,16.1 12.9,15 14.3,15H16A4,4 0 0,0 20,11C20,7.1 16.4,4 12,4M6.5,10C7.3,10 8,10.7 8,11.5C8,12.3 7.3,13 6.5,13C5.7,13 5,12.3 5,11.5C5,10.7 5.7,10 6.5,10M9.5,6C10.3,6 11,6.7 11,7.5C11,8.3 10.3,9 9.5,9C8.7,9 8,8.3 8,7.5C8,6.7 8.7,6 9.5,6M14.5,6C15.3,6 16,6.7 16,7.5C16,8.3 15.3,9 14.5,9C13.7,9 13,8.3 13,7.5C13,6.7 13.7,6 14.5,6M17.5,10C18.3,10 19,10.7 19,11.5C19,12.3 18.3,13 17.5,13C16.7,13 16,12.3 16,11.5C16,10.7 16.7,10 17.5,10Z"})],-1))),it={key:0,class:"dropdown"},st=["onClick"],nt=R((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M11 1H3C1.9 1 1 1.9 1 3V15L4 12H9V11C9 8.8 10.79 7 13 7V3C13 1.9 12.1 1 11 1M11 4L9.5 4C9.16 5.19 8.54 6.3 7.68 7.26L7.66 7.28L8.92 8.53L8.55 9.54L7 8L4.5 10.5L3.81 9.77L6.34 7.28C5.72 6.59 5.22 5.82 4.86 5H5.85C6.16 5.6 6.54 6.17 7 6.68C7.72 5.88 8.24 4.97 8.57 4L3 4V3H6.5V2H7.5V3H11V4M21 9H13C11.9 9 11 9.9 11 11V18C11 19.1 11.9 20 13 20H20L23 23V11C23 9.9 22.1 9 21 9M19.63 19L18.78 16.75H15.22L14.38 19H12.88L16.25 10H17.75L21.13 19H19.63M17 12L18.22 15.25H15.79L17 12Z"})],-1))),at={key:1,class:"dropdown"},lt=["onClick"],rt=R((()=>(0,s._)("hr",null,null,-1))),dt=R((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"})],-1))),ct=R((()=>(0,s._)("div",{style:{clear:"both"}},null,-1)));function ut(e,t,o,n,a,l){return(0,s.wg)(),(0,s.iD)("div",W,[(0,s._)("h1",null,(0,M.zw)(this.$root.setlang.settings.title),1),(0,s._)("div",q,[(0,s._)("div",O,[Y,J,(0,s.wy)((0,s._)("select",{class:"wavemaker-form","onUpdate:modelValue":t[0]||(t[0]=e=>this.$root.session.settings.documentprefs.align=e),onChange:t[1]||(t[1]=(...e)=>l.updateSettings&&l.updateSettings(...e))},te,544),[[i.bM,this.$root.session.settings.documentprefs.align]]),oe,(0,s.wy)((0,s._)("select",{class:"wavemaker-form","onUpdate:modelValue":t[2]||(t[2]=e=>this.$root.session.settings.documentprefs.fontsize=e),onChange:t[3]||(t[3]=(...e)=>l.updateSettings&&l.updateSettings(...e))},se,544),[[i.bM,this.$root.session.settings.documentprefs.fontsize]]),ne,(0,s.wy)((0,s._)("select",{class:"wavemaker-form","onUpdate:modelValue":t[4]||(t[4]=e=>this.$root.session.settings.documentprefs.lspacing=e),onChange:t[5]||(t[5]=(...e)=>l.updateSettings&&l.updateSettings(...e))},ce,544),[[i.bM,this.$root.session.settings.documentprefs.lspacing]]),ue,(0,s.wy)((0,s._)("select",{class:"wavemaker-form","onUpdate:modelValue":t[6]||(t[6]=e=>this.$root.session.settings.documentprefs.indentation=e),onChange:t[7]||(t[7]=(...e)=>l.updateSettings&&l.updateSettings(...e))},ge,544),[[i.bM,this.$root.session.settings.documentprefs.indentation]]),me,(0,s.wy)((0,s._)("select",{class:"wavemaker-form","onUpdate:modelValue":t[8]||(t[8]=e=>this.$root.session.settings.documentprefs.pspacing=e),onChange:t[9]||(t[9]=(...e)=>l.updateSettings&&l.updateSettings(...e))},ve,544),[[i.bM,this.$root.session.settings.documentprefs.pspacing]]),Ce,(0,s.wy)((0,s._)("select",{class:"wavemaker-form","onUpdate:modelValue":t[10]||(t[10]=e=>this.$root.session.settings.documentprefs.page=e),onChange:t[11]||(t[11]=(...e)=>l.updateSettings&&l.updateSettings(...e))},Le,544),[[i.bM,this.$root.session.settings.documentprefs.page]]),(0,s._)("table",null,[(0,s._)("tr",null,[(0,s._)("td",null,[Ve,(0,s.wy)((0,s._)("input",{type:"color","onUpdate:modelValue":t[12]||(t[12]=e=>this.$root.session.settings.documentprefs.color=e),onChange:t[13]||(t[13]=(...e)=>l.updateSettings&&l.updateSettings(...e))},null,544),[[i.nr,this.$root.session.settings.documentprefs.color]])]),(0,s._)("td",null,[_e,(0,s.wy)((0,s._)("input",{type:"color","onUpdate:modelValue":t[14]||(t[14]=e=>this.$root.session.settings.documentprefs.bgcolor=e),onChange:t[15]||(t[15]=(...e)=>l.updateSettings&&l.updateSettings(...e))},null,544),[[i.nr,this.$root.session.settings.documentprefs.bgcolor]])])])]),ye,(0,s.wy)((0,s._)("select",{class:"wavemaker-form","onUpdate:modelValue":t[16]||(t[16]=e=>this.$root.session.settings.documentprefs.h1align=e),onChange:t[17]||(t[17]=(...e)=>l.updateSettings&&l.updateSettings(...e))},xe,544),[[i.bM,this.$root.session.settings.documentprefs.h1align]]),Me,(0,s.wy)((0,s._)("select",{class:"wavemaker-form","onUpdate:modelValue":t[18]||(t[18]=e=>this.$root.session.settings.documentprefs.h2align=e),onChange:t[19]||(t[19]=(...e)=>l.updateSettings&&l.updateSettings(...e))},Ee,544),[[i.bM,this.$root.session.settings.documentprefs.h2align]]),Te,(0,s.wy)((0,s._)("select",{class:"wavemaker-form","onUpdate:modelValue":t[20]||(t[20]=e=>this.$root.session.settings.documentprefs.h3align=e),onChange:t[21]||(t[21]=(...e)=>l.updateSettings&&l.updateSettings(...e))},ze,544),[[i.bM,this.$root.session.settings.documentprefs.h3align]]),Pe,(0,s.wy)((0,s._)("select",{class:"wavemaker-form","onUpdate:modelValue":t[22]||(t[22]=e=>this.$root.session.settings.documentprefs.h4align=e),onChange:t[23]||(t[23]=(...e)=>l.updateSettings&&l.updateSettings(...e))},qe,544),[[i.bM,this.$root.session.settings.documentprefs.h4align]]),Oe,Ye,(0,s._)("table",null,[(0,s._)("tr",null,[(0,s._)("td",null,[Je,(0,s.wy)((0,s._)("input",{type:"color","onUpdate:modelValue":t[24]||(t[24]=e=>this.$root.session.settings.documentprefs.distractionfree_fg=e),onChange:t[25]||(t[25]=(...e)=>l.updateSettings&&l.updateSettings(...e)),style:{width:"30px",height:"30px"}},null,544),[[i.nr,this.$root.session.settings.documentprefs.distractionfree_fg]])]),(0,s._)("td",null,[Ke,(0,s.wy)((0,s._)("input",{type:"color","onUpdate:modelValue":t[26]||(t[26]=e=>this.$root.session.settings.documentprefs.distractionfree_bg=e),onChange:t[27]||(t[27]=(...e)=>l.updateSettings&&l.updateSettings(...e)),style:{width:"30px",height:"30px"}},null,544),[[i.nr,this.$root.session.settings.documentprefs.distractionfree_bg]])]),(0,s._)("td",null,[Qe,(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":t[28]||(t[28]=e=>this.$root.session.settings.documentprefs.typesound=e),style:{width:"20px",height:"20px"}},null,512),[[i.e8,this.$root.session.settings.documentprefs.typesound]])])])]),Xe,(0,s._)("button",{onClick:t[29]||(t[29]=(...e)=>l.resetSettings&&l.resetSettings(...e)),class:"interfaceBtn"},[et,(0,s.Uk)(" Reset to defaults")])]),(0,s._)("div",tt,[(0,s._)("button",{class:"interfaceBtn fullw",onClick:t[30]||(t[30]=e=>a.themes=!a.themes),style:{"text-align":"left"}},[ot,(0,s.Uk)(" "+(0,M.zw)(this.$root.setlang.settings.themes),1)]),a.themes?((0,s.wg)(),(0,s.iD)("div",it,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.$root.themeList,((e,t)=>((0,s.wg)(),(0,s.iD)("button",{class:"myoption",onClick:t=>l.setTheme(e.file),key:t},(0,M.zw)(e.name),9,st)))),128))])):(0,s.kq)("",!0),(0,s._)("button",{class:"interfaceBtn fullw",onClick:t[31]||(t[31]=e=>a.lang=!a.lang),style:{"text-align":"left"}},[nt,(0,s.Uk)(" "+(0,M.zw)(this.$root.setlang.settings.lang),1)]),a.lang?((0,s.wg)(),(0,s.iD)("div",at,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Object.keys(this.$root.language),((e,t)=>((0,s.wg)(),(0,s.iD)("button",{class:"myoption",key:t,onClick:t=>l.language(e)},(0,M.zw)(this.$root.language[e].info.name),9,lt)))),128))])):(0,s.kq)("",!0),rt,(0,s._)("button",{onClick:t[32]||(t[32]=(...e)=>l.clear&&l.clear(...e)),class:"interfaceBtn fullw",style:{"text-align":"left"}},[dt,(0,s.Uk)(" "+(0,M.zw)(this.$root.setlang.settings.close),1)])])]),ct])}var ht={name:"SettingsPopup",data(){return{themes:!1,lang:!1}},methods:{setTheme(e){this.$root.theme=e,this.$root.switchTheme(),this.themes=!1},language(e){this.$root.lang=e,this.$root.switchLang(),this.lang=!1},async clear(){confirm(this.$root.setlang.settings.clear)&&(window.removeEventListener("beforeunload",this.$root.unloadEvent),this.$root.session={},this.$root.popup={},this.$root.dbloaded=!1,this.$root.clearDatabase())},resetSettings(){this.$root.session.settings.documentprefs=JSON.parse(JSON.stringify(this.$root.SettingsTemplate.documentprefs)),this.updateSettings()},updateSettings(){document.documentElement.style.setProperty("--my-variable-name","pink"),document.documentElement.style.setProperty("--pageEditor-align",this.$root.session.settings.documentprefs.align),document.documentElement.style.setProperty("--pageEditor-fontsize",this.$root.session.settings.documentprefs.fontsize),document.documentElement.style.setProperty("--pageEditor-lspacing",this.$root.session.settings.documentprefs.lspacing),document.documentElement.style.setProperty("--pageEditor-indentation",this.$root.session.settings.documentprefs.indentation),document.documentElement.style.setProperty("--pageEditor-pspacing",this.$root.session.settings.documentprefs.pspacing),document.documentElement.style.setProperty("--pageEditor-page",this.$root.session.settings.documentprefs.page),document.documentElement.style.setProperty("--pageEditor-font",this.$root.session.settings.documentprefs.font),document.documentElement.style.setProperty("--pageEditor-color",this.$root.session.settings.documentprefs.color),document.documentElement.style.setProperty("--pageEditor-bgcolor",this.$root.session.settings.documentprefs.bgcolor),document.documentElement.style.setProperty("--pageEditor-font",this.$root.session.settings.documentprefs.distractionfree_font),document.documentElement.style.setProperty("--pageEditor-color",this.$root.session.settings.documentprefs.distractionfree_fg),document.documentElement.style.setProperty("--pageEditor-bgcolor",this.$root.session.settings.documentprefs.distractionfree_bg),this.$root.UpdateRecord("Settings",this.$root.session.settings.uuid,this.$root.session.settings)}},mounted(){console.log(this.$root.session.settings.documentprefs)}};const pt=(0,P.Z)(ht,[["render",ut],["__scopeId","data-v-2bcf17c6"]]);var gt=pt;const mt=e=>((0,s.dD)("data-v-4d53c791"),e=e(),(0,s.Cn)(),e),wt=mt((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M7.71,3.5L1.15,15L4.58,21L11.13,9.5M9.73,15L6.3,21H19.42L22.85,15M22.28,14L15.42,2H8.58L8.57,2L15.43,14H22.28Z"})],-1))),vt={key:1,style:{"text-align":"left"}},Ct={key:0},ft=mt((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M13 19C13 19.34 13.04 19.67 13.09 20H6.5C5 20 3.69 19.5 2.61 18.43C1.54 17.38 1 16.09 1 14.58C1 13.28 1.39 12.12 2.17 11.1S4 9.43 5.25 9.15C5.67 7.62 6.5 6.38 7.75 5.43S10.42 4 12 4C13.95 4 15.6 4.68 16.96 6.04C18.32 7.4 19 9.05 19 11C20.15 11.13 21.1 11.63 21.86 12.5C22.37 13.07 22.7 13.71 22.86 14.42C21.82 13.54 20.5 13 19 13C15.69 13 13 15.69 13 19M16 18H18V22H20V18H22L19 15L16 18Z"})],-1))),Ht={key:0,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Lt=mt((()=>(0,s._)("path",{d:"M18 14.5C19.11 14.5 20.11 14.95 20.83 15.67L22 14.5V18.5H18L19.77 16.73C19.32 16.28 18.69 16 18 16C16.62 16 15.5 17.12 15.5 18.5C15.5 19.88 16.62 21 18 21C18.82 21 19.54 20.61 20 20H21.71C21.12 21.47 19.68 22.5 18 22.5C15.79 22.5 14 20.71 14 18.5C14 16.29 15.79 14.5 18 14.5M10 4L12 6H20C21.1 6 22 6.89 22 8V13C21 12.38 19.79 12 18.5 12C14.91 12 12 14.91 12 18.5C12 19 12.06 19.5 12.17 20H4C2.89 20 2 19.1 2 18L2 6C2 4.89 2.89 4 4 4H10Z"},null,-1))),Vt={key:1,version:"1.1",viewBox:"0 0 100 100",width:"24px",height:"24px"},_t=mt((()=>(0,s._)("path",{d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50"},[(0,s._)("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})],-1))),yt=[_t],kt={key:1},bt=["onClick"],$t=(0,s.uE)('<svg viewBox="0 0 24 24" data-v-4d53c791><defs id="defs8" data-v-4d53c791></defs><path id="path2" d="M20,18H4V8H20M20,6H12L10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6Z" data-v-4d53c791></path><path id="path3731" d="m 11.084747,9.8305089 h 7.186439 V 17.01695 h -7.186439 z" style="fill:none;stroke-width:0.29943502;" data-v-4d53c791></path><path id="path3733" d="m 17.021865,11.84974 -1.7835,-1.787036 c -0.308989,-0.3095941 -0.810692,-0.3095941 -1.119667,0 l -1.777381,1.783961 c -0.104021,0.104223 -0.104021,0.269733 0,0.373956 l 0.538408,0.539479 0.357918,0.334109 c 0.107067,0.09809 0.269211,0.09809 0.376277,0 l 0.718911,-0.665156 c 0.198848,-0.183903 0.501704,-0.183903 0.697492,0 l 0.71891,0.665156 c 0.107081,0.09809 0.269212,0.09809 0.376292,0 l 0.357932,-0.334109 0.538408,-0.536404 c 0.100961,-0.101162 0.100961,-0.269733 0,-0.373956 z" style="stroke-width:0.0139114;" data-v-4d53c791></path><path id="path3735" d="m 11.325657,13.986203 2.793041,2.798572 c 0.308975,0.309566 0.810678,0.309566 1.119667,0 l 2.79304,-2.798572 c 0.483359,-0.4843 0.143785,-0.62837 -0.211087,-0.965553 l -0.437475,-0.416863 c -0.103993,-0.101148 -0.269211,-0.09807 -0.376277,0 l -0.718897,0.665156 c -0.198876,0.183917 -0.501703,0.183917 -0.697506,0 l -0.71891,-0.665156 c -0.106323,-0.09807 -0.269954,-0.09807 -0.376292,0 l -0.71891,0.665156 c -0.198848,0.183917 -0.501704,0.183917 -0.697492,0 l -0.718911,-0.665156 c -0.106336,-0.09807 -0.269955,-0.09807 -0.376292,0 l -0.403815,0.373969 c -0.37013,0.343305 -0.758647,0.499618 -0.253884,1.008447 z" style="stroke-width:0.0139114;" data-v-4d53c791></path></svg>',1),Dt={style:{"text-decoration":"italic"}},xt=mt((()=>(0,s._)("hr",null,null,-1))),Mt=mt((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M10 4A4 4 0 0 0 6 8A4 4 0 0 0 10 12A4 4 0 0 0 14 8A4 4 0 0 0 10 4M17.5 13C15 13 13 15 13 17.5C13 20 15 22 17.5 22C20 22 22 20 22 17.5C22 15 20 13 17.5 13M10 14C5.58 14 2 15.79 2 18V20H11.5A6.5 6.5 0 0 1 11 17.5A6.5 6.5 0 0 1 11.95 14.14C11.32 14.06 10.68 14 10 14M17.5 14.5C19.16 14.5 20.5 15.84 20.5 17.5C20.5 18.06 20.35 18.58 20.08 19L16 14.92C16.42 14.65 16.94 14.5 17.5 14.5M14.92 16L19 20.08C18.58 20.35 18.06 20.5 17.5 20.5C15.84 20.5 14.5 19.16 14.5 17.5C14.5 16.94 14.65 16.42 14.92 16Z"})],-1))),At={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Bt=mt((()=>(0,s._)("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1))),It=[Bt];function St(e,t,o,i,n,a){return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.$root.GoogleDriveApi.loggedin?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:t[0]||(t[0]=t=>e.$root.GoogleDriveSignIn()),class:"interfaceBtn GoogleDrive"},[wt,(0,s.Uk)(" "+(0,M.zw)(this.$root.setlang.google.info),1)])),e.$root.GoogleDriveApi.loggedin?((0,s.wg)(),(0,s.iD)("div",vt,[e.$root.session.settings?((0,s.wg)(),(0,s.iD)("div",Ct,[(0,s._)("h3",null,(0,M.zw)(this.$root.setlang.google.saveinfo),1),(0,s._)("h4",null,(0,M.zw)(this.$root.session.settings.ProjectName),1),(0,s._)("button",{onClick:t[1]||(t[1]=t=>e.$root.GoogleDriveWriteFile()),class:"interfaceBtn"},[ft,(0,s.Uk)(" "+(0,M.zw)(this.$root.setlang.google.save),1)])])):(0,s.kq)("",!0),(0,s._)("h3",null,(0,M.zw)(this.$root.setlang.google.files),1),(0,s._)("div",null,[(0,s._)("button",{onClick:t[2]||(t[2]=t=>{e.$root.GoogleDriveApi.files=[],e.$root.GoogleDriveListFiles()}),class:"interfaceBtn filebutton",style:{width:"auto"}},[e.$root.GoogleDriveApi.searching?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("svg",Ht,[(0,s.Uk)("> "),Lt])),e.$root.GoogleDriveApi.searching?((0,s.wg)(),(0,s.iD)("svg",Vt,yt)):(0,s.kq)("",!0),(0,s.Uk)(" "+(0,M.zw)(this.$root.setlang.google.search),1)])]),e.$root.GoogleDriveApi.files.length?((0,s.wg)(),(0,s.iD)("div",kt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.$root.GoogleDriveApi.files,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t},[(0,s._)("button",{onClick:t=>a.openFile(e),class:"interfaceBtn filebutton file"},[$t,(0,s._)("div",null,(0,M.zw)(e.name)+" - ("+(0,M.zw)(e.size+"bytes")+")",1),(0,s._)("div",Dt,(0,M.zw)(e.modifiedTime),1)],8,bt)])))),128))])):(0,s.kq)("",!0),(0,s._)("div",null,[xt,(0,s._)("button",{onClick:t[3]||(t[3]=(...t)=>e.$root.GoogleDriveSignOut&&e.$root.GoogleDriveSignOut(...t)),class:"interfaceBtn filebutton",style:{width:"auto",display:"inline-block"}},[Mt,(0,s.Uk)(" "+(0,M.zw)(this.$root.setlang.google.logout),1)]),(0,s._)("button",{class:"interfaceBtn filebutton logout",onClick:t[4]||(t[4]=t=>e.$root.popup.name=null)},[((0,s.wg)(),(0,s.iD)("svg",At,It)),(0,s.Uk)(" "+(0,M.zw)(this.$root.setlang.google.close),1)])])])):(0,s.kq)("",!0)],64)}var Et={name:"GoogleDrive",props:{msg:String},data(){return{tab:"load",searching:!1}},methods:{loggy(e){console.log(e)},openFile(e){this.$root.GoogleDriveApi.CURRENT_FILE_OBJ=e,this.$root.GoogleDriveApi.CURRENT_FILE_NAME=e.name,this.$root.GoogleDriveReadFile(),this.$root.popup.name=null}},mounted(){}};const Tt=(0,P.Z)(Et,[["render",St],["__scopeId","data-v-4d53c791"]]);var Ut=Tt,Zt={name:"PopupManager",components:{ApiForm:G,SettingsPopup:gt,GoogleDrive:Ut}};const Nt=(0,P.Z)(Zt,[["render",x]]);var jt=Nt;const zt=e=>((0,s.dD)("data-v-3910f573"),e=e(),(0,s.Cn)(),e),Pt={key:0,class:"wavemaker_welcome"},Ft={class:"wavemakerForm"},Gt={style:{"text-align":"center"}},Rt=(0,s.uE)('<svg id="wavemaker_logo" version="1.1" viewBox="0 0 24 24" height="50" width="50" data-v-3910f573><path d="M0 0h24v24H0V0z" fill="none" data-v-3910f573></path><g transform="matrix(0.046875,0,0,0.04604639,-1.951887,-3.0598516)" data-v-3910f573><g id="_921457168" data-v-3910f573><path class="wavemaker_logo-top" d="M 464.632,212.901 337.566,83.292 c -22.014,-22.454 -57.758,-22.454 -79.771,0 l -126.63,129.386 c -7.411,7.559 -7.411,19.563 0,27.122 l 38.359,39.127 25.5,24.232 c 7.628,7.114 19.18,7.114 26.808,0 l 51.219,-48.242 c 14.167,-13.338 35.744,-13.338 49.693,0 l 51.219,48.242 c 7.629,7.114 19.18,7.114 26.809,0 l 25.501,-24.232 38.359,-38.904 c 7.193,-7.337 7.193,-19.563 0,-27.122 z" data-v-3910f573></path><path class="wavemaker_logo-bottom" d="m 58.804,367.853 198.991,202.973 c 22.013,22.452 57.757,22.452 79.771,0 L 536.557,367.853 c 34.437,-35.125 10.244,-45.574 -15.039,-70.029 L 490.35,267.59 c -7.409,-7.336 -19.18,-7.113 -26.808,0 l -51.218,48.242 c -14.169,13.339 -35.744,13.339 -49.694,0 L 311.411,267.59 c -7.575,-7.113 -19.233,-7.113 -26.809,0 l -51.219,48.242 c -14.167,13.339 -35.744,13.339 -49.693,0 L 132.471,267.59 c -7.576,-7.113 -19.233,-7.113 -26.809,0 l -28.77,27.123 c -26.37,24.899 -54.05,36.236 -18.088,73.14 z" data-v-3910f573></path></g></g></svg><div class="softwareName" data-v-3910f573>Wavemaker Cards</div>',2),Wt=zt((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M10,16.5V7.5L16,12M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})],-1))),qt=["title"],Ot=zt((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M13.75,9H16.14L19,14H16.05L13.5,9.46M18.3,17H12.75L14.15,14.5H19.27L19.53,14.96M11.5,17L10.4,14.86L13.24,9.9L14.74,12.56L12.25,17M20,6H12L10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6Z"})],-1))),Yt=["title"],Jt=zt((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M19,20H4C2.89,20 2,19.1 2,18V6C2,4.89 2.89,4 4,4H10L12,6H19A2,2 0 0,1 21,8H21L4,8V18L6.14,10H23.21L20.93,18.5C20.7,19.37 19.92,20 19,20Z"})],-1))),Kt={class:"languages"},Qt=["value"],Xt=zt((()=>(0,s._)("label",null,"Legacy tools",-1))),eo=zt((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M20 6H2V2H20V6M16.5 12H15V17L18.61 19.16L19.36 17.94L16.5 16.25V12M23 16C23 19.87 19.87 23 16 23C13.62 23 11.53 21.81 10.26 20H3V7H19V9.68C21.36 10.81 23 13.21 23 16M8 12H10.26C10.83 11.19 11.56 10.5 12.41 10H8.5C8.22 10 8 10.22 8 10.5V12M21 16C21 13.24 18.76 11 16 11S11 13.24 11 16 13.24 21 16 21 21 18.76 21 16Z"})],-1))),to=zt((()=>(0,s._)("div",{style:{"background-color":"firebrick",color:"#fff",padding:"10px",margin:"10px"}},[(0,s._)("p",null,"This is an ALPHA version it may break - if you are having issues you can clear all the stored data for your browser - instructions linked below"),(0,s._)("a",{style:{color:"#fff"},href:"https://www.howtogeek.com/664912/how-to-clear-storage-and-site-data-for-a-single-site-on-google-chrome/",target:"blank"}," How to clear your cache on chrome based browsers ")],-1)));function oo(e,t,o,n,a,l){return this.$root.setlang?((0,s.wg)(),(0,s.iD)("div",Pt,[(0,s._)("div",Ft,[(0,s._)("div",Gt,[Rt,(0,s._)("div",null,"Version 4 ("+(0,M.zw)(this.$root.myPackage.version)+") ",1),(0,s._)("h3",null,(0,M.zw)(this.$root.setlang.welcome.info),1)]),(0,s._)("button",{class:"interfaceBtn fullw text-left focuson",onClick:t[0]||(t[0]=(...e)=>l.MakeSettings&&l.MakeSettings(...e))},[Wt,(0,s._)("span",null,(0,M.zw)(this.$root.setlang.welcome.getstarted),1)]),(0,s._)("button",{onClick:t[1]||(t[1]=t=>e.$root.$data.popup.name="GoogleDrive"),class:"interfaceBtn fullw text-left",title:this.$root.setlang.welcome.loadgoogle},[Ot,(0,s._)("span",null,(0,M.zw)(this.$root.setlang.welcome.loadgoogle),1)],8,qt),(0,s._)("button",{onClick:t[2]||(t[2]=(...t)=>e.$root.file_loadDB&&e.$root.file_loadDB(...t)),class:"interfaceBtn fullw text-left",title:this.$root.setlang.welcome.loadfile},[Jt,(0,s._)("span",null,(0,M.zw)(this.$root.setlang.welcome.loadfile),1)],8,Yt),(0,s._)("div",Kt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>this.$root.lang=e),onChange:t[4]||(t[4]=e=>this.$root.switchLang())},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Object.keys(this.$root.language),((e,t)=>((0,s.wg)(),(0,s.iD)("option",{key:t,value:e},(0,M.zw)(e)+" ("+(0,M.zw)(this.$root.language[e].info.name)+") ",9,Qt)))),128))],544),[[i.bM,this.$root.lang]])]),(0,s._)("div",null,[Xt,(0,s._)("button",{class:"interfaceBtn fullw text-left",onClick:t[5]||(t[5]=t=>e.$root.v3import=!0)},[eo,(0,s.Uk)(" Import a Wavemaker version 3 file")])]),to])])):(0,s.kq)("",!0)}var io={name:"welcomeSettings",data(){return{projname:"My New Project"}},methods:{MakeSettings(){let e=JSON.parse(JSON.stringify(this.$root.SettingsTemplate));e.uuid=this.$root.uuid(),e.ProjectName=this.projname,this.$root.AddRecord("Settings",e),this.$root.session.settings=this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Settings.get(e.uuid))))}}};const so=(0,P.Z)(io,[["render",oo],["__scopeId","data-v-3910f573"]]);var no=so;const ao={class:"toolbox"};function lo(e,t,o,i,n,a){const l=(0,s.up)("ProjectInfo"),r=(0,s.up)("WriterMenu"),d=(0,s.up)("CardsDatabaseHome"),c=(0,s.up)("PlanningBoardHome"),u=(0,s.up)("SnowFlake"),h=(0,s.up)("TimeLine"),p=(0,s.up)("MindMapHome"),g=(0,s.up)("GridPlannerHome"),m=(0,s.up)("ToolBar"),w=(0,s.up)("DistractionFree");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",ao,[e.$root.session.selectedTool?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(l,{key:0})),"writer"===e.$root.session.selectedTool?((0,s.wg)(),(0,s.j4)(r,{key:1})):(0,s.kq)("",!0),"cardsdatabase"===e.$root.session.selectedTool?((0,s.wg)(),(0,s.j4)(d,{key:2})):(0,s.kq)("",!0),"planningboard"===e.$root.session.selectedTool?((0,s.wg)(),(0,s.j4)(c,{key:3})):(0,s.kq)("",!0),"snowflake"===e.$root.session.selectedTool?((0,s.wg)(),(0,s.j4)(u,{key:4})):(0,s.kq)("",!0),"timeline"===e.$root.session.selectedTool?((0,s.wg)(),(0,s.j4)(h,{key:5})):(0,s.kq)("",!0),"mindmap"===e.$root.session.selectedTool?((0,s.wg)(),(0,s.j4)(p,{key:6})):(0,s.kq)("",!0),"gridplanner"===e.$root.session.selectedTool?((0,s.wg)(),(0,s.j4)(g,{key:7})):(0,s.kq)("",!0)]),(0,s.Wm)(m),"distractionfree"===e.$root.session.selectedTool?((0,s.wg)(),(0,s.j4)(w,{key:0})):(0,s.kq)("",!0)],64)}const ro=e=>((0,s.dD)("data-v-52f696e7"),e=e(),(0,s.Cn)(),e),co={key:0,class:"navbar"},uo=ro((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z"})],-1))),ho=[uo],po=ro((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M19 2L14 6.5V17.5L19 13V2M6.5 5C4.55 5 2.45 5.4 1 6.5V21.16C1 21.41 1.25 21.66 1.5 21.66C1.6 21.66 1.65 21.59 1.75 21.59C3.1 20.94 5.05 20.5 6.5 20.5C8.45 20.5 10.55 20.9 12 22C13.35 21.15 15.8 20.5 17.5 20.5C19.15 20.5 20.85 20.81 22.25 21.56C22.35 21.61 22.4 21.59 22.5 21.59C22.75 21.59 23 21.34 23 21.09V6.5C22.4 6.05 21.75 5.75 21 5.5V19C19.9 18.65 18.7 18.5 17.5 18.5C15.8 18.5 13.35 19.15 12 20V6.5C10.55 5.4 8.45 5 6.5 5Z"})],-1))),go=[po],mo=ro((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M22,9V7H20V5A2,2 0 0,0 18,3H4A2,2 0 0,0 2,5V19A2,2 0 0,0 4,21H18A2,2 0 0,0 20,19V17H22V15H20V13H22V11H20V9H22M18,19H4V5H18V19M6,13H11V17H6V13M12,7H16V10H12V7M6,7H11V12H6V7M12,11H16V17H12V11Z"})],-1))),wo=[mo],vo=ro((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M21 16V13C21 11.89 20.11 11 19 11H13V8H15V2H9V8H11V11H5C3.89 11 3 11.89 3 13V16H1V22H7V16H5V13H11V16H9V22H15V16H13V13H19V16H17V22H23V16H21M11 4H13V6H11V4M5 20H3V18H5V20M13 20H11V18H13V20M21 20H19V18H21V20Z"})],-1))),Co=[vo],fo=ro((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M14.25,12L16.27,11H23L22,9H18.03L20.42,5.83L19.43,3.83L15.37,9.2L13.35,10.21L13.75,8L17.83,2.62L15.64,2.22L12,7L8.4,2.2L6.2,2.6L10.26,8L10.66,10.21L8.82,9.29L8.66,9.21L4.6,3.8L3.6,5.8L6,9H2L1,11H7.77L9.75,12L7.73,13H1L2,15H5.97L3.58,18.17L4.57,20.17L8.63,14.8L10.65,13.79L10.25,16L6.17,21.38L8.36,21.79L12,17L15.6,21.8L17.8,21.4L13.74,16L13.34,13.79L15.34,14.79L19.4,20.2L20.4,18.2L18,15H22L23,13H16.23"})],-1))),Ho=[fo],Lo=ro((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12,20A7,7 0 0,1 5,13A7,7 0 0,1 12,6A7,7 0 0,1 19,13A7,7 0 0,1 12,20M12,4A9,9 0 0,0 3,13A9,9 0 0,0 12,22A9,9 0 0,0 21,13A9,9 0 0,0 12,4M12.5,8H11V14L15.75,16.85L16.5,15.62L12.5,13.25V8M7.88,3.39L6.6,1.86L2,5.71L3.29,7.24L7.88,3.39M22,5.72L17.4,1.86L16.11,3.39L20.71,7.25L22,5.72Z"})],-1))),Vo=[Lo],_o=ro((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M10,4V8H14V4H10M16,4V8H20V4H16M16,10V14H20V10H16M16,16V20H20V16H16M14,20V16H10V20H14M8,20V16H4V20H8M8,14V10H4V14H8M8,8V4H4V8H8M10,14H14V10H10V14M4,2H20A2,2 0 0,1 22,4V20A2,2 0 0,1 20,22H4C2.92,22 2,21.1 2,20V4A2,2 0 0,1 4,2Z"})],-1))),yo=[_o],ko=ro((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12,3C7.58,3 4,4.79 4,7C4,9.21 7.58,11 12,11C16.42,11 20,9.21 20,7C20,4.79 16.42,3 12,3M4,9V12C4,14.21 7.58,16 12,16C16.42,16 20,14.21 20,12V9C20,11.21 16.42,13 12,13C7.58,13 4,11.21 4,9M4,14V17C4,19.21 7.58,21 12,21C16.42,21 20,19.21 20,17V14C20,16.21 16.42,18 12,18C7.58,18 4,16.21 4,14Z"})],-1))),bo=[ko],$o={class:"TopToolbar"},Do=(0,s.uE)('<svg id="wavemaker_logo" version="1.1" viewBox="0 0 24 24" data-v-52f696e7><path d="M0 0h24v24H0V0z" fill="none" data-v-52f696e7></path><g transform="matrix(0.046875,0,0,0.04604639,-1.951887,-3.0598516)" data-v-52f696e7><g id="_921457168" data-v-52f696e7><path class="wavemaker_logo-top" d="M 464.632,212.901 337.566,83.292 c -22.014,-22.454 -57.758,-22.454 -79.771,0 l -126.63,129.386 c -7.411,7.559 -7.411,19.563 0,27.122 l 38.359,39.127 25.5,24.232 c 7.628,7.114 19.18,7.114 26.808,0 l 51.219,-48.242 c 14.167,-13.338 35.744,-13.338 49.693,0 l 51.219,48.242 c 7.629,7.114 19.18,7.114 26.809,0 l 25.501,-24.232 38.359,-38.904 c 7.193,-7.337 7.193,-19.563 0,-27.122 z" data-v-52f696e7></path><path class="wavemaker_logo-bottom" d="m 58.804,367.853 198.991,202.973 c 22.013,22.452 57.757,22.452 79.771,0 L 536.557,367.853 c 34.437,-35.125 10.244,-45.574 -15.039,-70.029 L 490.35,267.59 c -7.409,-7.336 -19.18,-7.113 -26.808,0 l -51.218,48.242 c -14.169,13.339 -35.744,13.339 -49.694,0 L 311.411,267.59 c -7.575,-7.113 -19.233,-7.113 -26.809,0 l -51.219,48.242 c -14.167,13.339 -35.744,13.339 -49.693,0 L 132.471,267.59 c -7.576,-7.113 -19.233,-7.113 -26.809,0 l -28.77,27.123 c -26.37,24.899 -54.05,36.236 -18.088,73.14 z" data-v-52f696e7></path></g></g></svg>',1),xo=[Do],Mo={style:{float:"right"}},Ao=["title"],Bo=ro((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M7,15L11.5,9L15,13.5L17.5,10.5L21,15M22,4H14L12,2H6A2,2 0 0,0 4,4V16A2,2 0 0,0 6,18H22A2,2 0 0,0 24,16V6A2,2 0 0,0 22,4M2,6H0V11H0V20A2,2 0 0,0 2,22H20V20H2V6Z"})],-1))),Io=[Bo],So=["title"],Eo=ro((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"})],-1))),To=[Eo],Uo=ro((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z"})],-1))),Zo=[Uo],No=ro((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M7.71,3.5L1.15,15L4.58,21L11.13,9.5M9.73,15L6.3,21H19.42L22.85,15M22.28,14L15.42,2H8.58L8.57,2L15.43,14H22.28Z"})],-1))),jo=[No],zo={key:0},Po=ro((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M13 19C13 19.34 13.04 19.67 13.09 20H6.5C5 20 3.69 19.5 2.61 18.43C1.54 17.38 1 16.09 1 14.58C1 13.28 1.39 12.12 2.17 11.1S4 9.43 5.25 9.15C5.67 7.62 6.5 6.38 7.75 5.43S10.42 4 12 4C13.95 4 15.6 4.68 16.96 6.04C18.32 7.4 19 9.05 19 11C20.15 11.13 21.1 11.63 21.86 12.5C22.37 13.07 22.7 13.71 22.86 14.42C21.82 13.54 20.5 13 19 13C15.69 13 13 15.69 13 19M16 18H18V22H20V18H22L19 15L16 18Z"})],-1))),Fo=[Po],Go={key:1,class:"toolbarButton"},Ro=ro((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 100 100"},[(0,s._)("path",{d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50"},[(0,s._)("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})])],-1))),Wo=[Ro];function qo(e,t,o,n,a,l){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(i.uT,{name:"slide-fade"},{default:(0,s.w5)((()=>[a.navbar?((0,s.wg)(),(0,s.iD)("div",co,[(0,s._)("button",{class:"toolbarButton vertical",onClick:t[0]||(t[0]=e=>l.setTool(null))},ho),(0,s._)("button",{class:"toolbarButton vertical",onClick:t[1]||(t[1]=e=>l.setTool("writer"))},go),(0,s._)("button",{class:"toolbarButton vertical",onClick:t[2]||(t[2]=e=>l.setTool("planningboard"))},wo),(0,s._)("button",{class:"toolbarButton vertical",onClick:t[3]||(t[3]=e=>l.setTool("mindmap"))},Co),(0,s._)("button",{class:"toolbarButton vertical",onClick:t[4]||(t[4]=e=>l.setTool("snowflake"))},Ho),(0,s._)("button",{class:"toolbarButton vertical",onClick:t[5]||(t[5]=e=>l.setTool("timeline"))},Vo),(0,s._)("button",{class:"toolbarButton vertical",onClick:t[6]||(t[6]=e=>l.setTool("gridplanner"))},yo),(0,s._)("button",{class:"toolbarButton vertical lastbtn",onClick:t[7]||(t[7]=e=>l.setTool("cardsdatabase"))},bo)])):(0,s.kq)("",!0)])),_:1}),(0,s._)("div",$o,[(0,s._)("button",{id:"wavemakerIconButton",onClick:t[8]||(t[8]=e=>a.navbar=!a.navbar)},xo),(0,s._)("div",Mo,[(0,s._)("button",{onClick:t[9]||(t[9]=t=>e.$root.imagemanager=!e.$root.imagemanager),class:"toolbarButton",title:this.$root.setlang.settings.title},Io,8,Ao),(0,s._)("button",{onClick:t[10]||(t[10]=t=>e.$root.$data.popup.name="SettingsPopup"),class:"toolbarButton",title:this.$root.setlang.settings.title},To,8,So),(0,s._)("button",{onClick:t[11]||(t[11]=(...t)=>e.$root.file_downloadDB&&e.$root.file_downloadDB(...t)),class:"toolbarButton"},Zo),(0,s._)("button",{onClick:t[12]||(t[12]=t=>e.$root.popup.name="GoogleDrive"),class:"toolbarButton"},jo),e.$root.GoogleDriveApi.loggedin?((0,s.wg)(),(0,s.iD)("span",zo,[e.$root.GoogleDriveApi.loading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:t[13]||(t[13]=e=>this.$root.GoogleDriveWriteFile()),class:"toolbarButton"},Fo)),e.$root.GoogleDriveApi.loading?((0,s.wg)(),(0,s.iD)("button",Go,Wo)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])])],64)}var Oo={name:"ToolBar",data(){return{navbar:!1}},methods:{setTool(e){e&&(this.$root.session.writer={},this.$root.session[e]={}),this.$root.session.selectedTool=e,this.navbar=!1}}};const Yo=(0,P.Z)(Oo,[["render",qo],["__scopeId","data-v-52f696e7"]]);var Jo=Yo;const Ko=e=>((0,s.dD)("data-v-b2350e66"),e=e(),(0,s.Cn)(),e),Qo={class:"wavemaker_info_box"},Xo=Ko((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z"})],-1))),ei=Ko((()=>(0,s._)("hr",null,null,-1))),ti=Ko((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M19 2L14 6.5V17.5L19 13V2M6.5 5C4.55 5 2.45 5.4 1 6.5V21.16C1 21.41 1.25 21.66 1.5 21.66C1.6 21.66 1.65 21.59 1.75 21.59C3.1 20.94 5.05 20.5 6.5 20.5C8.45 20.5 10.55 20.9 12 22C13.35 21.15 15.8 20.5 17.5 20.5C19.15 20.5 20.85 20.81 22.25 21.56C22.35 21.61 22.4 21.59 22.5 21.59C22.75 21.59 23 21.34 23 21.09V6.5C22.4 6.05 21.75 5.75 21 5.5V19C19.9 18.65 18.7 18.5 17.5 18.5C15.8 18.5 13.35 19.15 12 20V6.5C10.55 5.4 8.45 5 6.5 5Z"})],-1))),oi=Ko((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M21 16V13C21 11.89 20.11 11 19 11H13V8H15V2H9V8H11V11H5C3.89 11 3 11.89 3 13V16H1V22H7V16H5V13H11V16H9V22H15V16H13V13H19V16H17V22H23V16H21M11 4H13V6H11V4M5 20H3V18H5V20M13 20H11V18H13V20M21 20H19V18H21V20Z"})],-1))),ii=Ko((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M14.25,12L16.27,11H23L22,9H18.03L20.42,5.83L19.43,3.83L15.37,9.2L13.35,10.21L13.75,8L17.83,2.62L15.64,2.22L12,7L8.4,2.2L6.2,2.6L10.26,8L10.66,10.21L8.82,9.29L8.66,9.21L4.6,3.8L3.6,5.8L6,9H2L1,11H7.77L9.75,12L7.73,13H1L2,15H5.97L3.58,18.17L4.57,20.17L8.63,14.8L10.65,13.79L10.25,16L6.17,21.38L8.36,21.79L12,17L15.6,21.8L17.8,21.4L13.74,16L13.34,13.79L15.34,14.79L19.4,20.2L20.4,18.2L18,15H22L23,13H16.23"})],-1))),si=Ko((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12,20A7,7 0 0,1 5,13A7,7 0 0,1 12,6A7,7 0 0,1 19,13A7,7 0 0,1 12,20M12,4A9,9 0 0,0 3,13A9,9 0 0,0 12,22A9,9 0 0,0 21,13A9,9 0 0,0 12,4M12.5,8H11V14L15.75,16.85L16.5,15.62L12.5,13.25V8M7.88,3.39L6.6,1.86L2,5.71L3.29,7.24L7.88,3.39M22,5.72L17.4,1.86L16.11,3.39L20.71,7.25L22,5.72Z"})],-1))),ni=Ko((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M10,4V8H14V4H10M16,4V8H20V4H16M16,10V14H20V10H16M16,16V20H20V16H16M14,20V16H10V20H14M8,20V16H4V20H8M8,14V10H4V14H8M8,8V4H4V8H8M10,14H14V10H10V14M4,2H20A2,2 0 0,1 22,4V20A2,2 0 0,1 20,22H4C2.92,22 2,21.1 2,20V4A2,2 0 0,1 4,2Z"})],-1))),ai=Ko((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12,3C7.58,3 4,4.79 4,7C4,9.21 7.58,11 12,11C16.42,11 20,9.21 20,7C20,4.79 16.42,3 12,3M4,9V12C4,14.21 7.58,16 12,16C16.42,16 20,14.21 20,12V9C20,11.21 16.42,13 12,13C7.58,13 4,11.21 4,9M4,14V17C4,19.21 7.58,21 12,21C16.42,21 20,19.21 20,17V14C20,16.21 16.42,18 12,18C7.58,18 4,16.21 4,14Z"})],-1)));function li(e,t,o,n,a,l){return(0,s.wg)(),(0,s.iD)("div",Qo,[(0,s._)("label",null,(0,M.zw)(this.$root.setlang.start.projectlabel),1),(0,s.wy)((0,s._)("input",{class:"projectName","onUpdate:modelValue":t[0]||(t[0]=e=>this.$root.session.settings.ProjectName=e),onChange:t[1]||(t[1]=(...e)=>l.update&&l.update(...e))},null,544),[[i.nr,this.$root.session.settings.ProjectName]]),(0,s._)("button",{onClick:t[2]||(t[2]=(...e)=>l.gettingStartedPopup&&l.gettingStartedPopup(...e)),class:"interfaceBtn"},[Xo,(0,s.Uk)(" "+(0,M.zw)(this.$root.setlang.start.help),1)]),ei,(0,s._)("button",{class:"interfaceBtn",onClick:t[3]||(t[3]=e=>l.setTool("writer"))},[ti,(0,s.Uk)(" "+(0,M.zw)(this.$root.setlang.tools.writer),1)]),(0,s._)("button",{class:"interfaceBtn",onClick:t[4]||(t[4]=e=>l.setTool("mindmap"))},[oi,(0,s.Uk)(" "+(0,M.zw)(this.$root.setlang.tools.mindmap),1)]),(0,s._)("button",{class:"interfaceBtn",onClick:t[5]||(t[5]=e=>l.setTool("snowflake"))},[ii,(0,s.Uk)(" "+(0,M.zw)(this.$root.setlang.tools.snowflake),1)]),(0,s._)("button",{class:"interfaceBtn",onClick:t[6]||(t[6]=e=>l.setTool("timeline"))},[si,(0,s.Uk)(" "+(0,M.zw)(this.$root.setlang.tools.timeline),1)]),(0,s._)("button",{class:"interfaceBtn",onClick:t[7]||(t[7]=e=>l.setTool("gridplanner"))},[ni,(0,s.Uk)(" "+(0,M.zw)(this.$root.setlang.tools.gridplanner),1)]),(0,s._)("button",{class:"interfaceBtn",onClick:t[8]||(t[8]=e=>l.setTool("cardsdatabase"))},[ai,(0,s.Uk)(" "+(0,M.zw)(this.$root.setlang.tools.cardsdatabase),1)])])}var ri={name:"ProjectInfo",methods:{update(){let e=this.$root.session.settings.uuid;this.$root.UpdateRecord("Settings",e,this.$root.session.settings)},setTool(e){e&&(this.$root.session.writer={},this.$root.session[e]={}),this.$root.session.selectedTool=e,this.navbar=!1},gettingStartedPopup(){this.$root.openInNew("https://wavemaker.co.uk/getstarted/")}}};const di=(0,P.Z)(ri,[["render",li],["__scopeId","data-v-b2350e66"]]);var ci=di;const ui=e=>((0,s.dD)("data-v-826350c8"),e=e(),(0,s.Cn)(),e),hi={key:0,id:"ToolHome"},pi={class:"wavemaker_info_box"},gi={style:{width:"100%"}},mi={style:{width:"50px"}},wi=ui((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M13 19C13 20.1 13.3 21.12 13.81 22H6C4.89 22 4 21.11 4 20V4C4 2.9 4.89 2 6 2H7V9L9.5 7.5L12 9V2H18C19.1 2 20 2.89 20 4V13.09C19.67 13.04 19.34 13 19 13C15.69 13 13 15.69 13 19M20 18V15H18V18H15V20H18V23H20V20H23V18H20Z"})],-1))),vi=[wi],Ci=ui((()=>(0,s._)("hr",null,null,-1))),fi={style:{width:"100%"}},Hi={class:"title"},Li={class:"author"},Vi=ui((()=>(0,s._)("br",null,null,-1))),_i={style:{width:"50px"}},yi=["onClick"],ki=ui((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M19.39 10.74L11 19.13V22H6C4.89 22 4 21.11 4 20V4C4 2.9 4.89 2 6 2H7V9L9.5 7.5L12 9V2H18C19.1 2 20 2.89 20 4V10.3C19.78 10.42 19.57 10.56 19.39 10.74M13 19.96V22H15.04L21.17 15.88L19.13 13.83L13 19.96M22.85 13.47L21.53 12.15C21.33 11.95 21 11.95 20.81 12.15L19.83 13.13L21.87 15.17L22.85 14.19C23.05 14 23.05 13.67 22.85 13.47Z"})],-1))),bi=[ki],$i={style:{width:"50px"}},Di=["onClick"],xi={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Mi=ui((()=>(0,s._)("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"},null,-1))),Ai=[Mi];function Bi(e,t,o,i,n,a){const l=(0,s.up)("Writer");return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.$root.session.writer.selected?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",hi,[(0,s._)("div",pi,[(0,s._)("table",gi,[(0,s._)("tr",null,[(0,s._)("td",null,[(0,s._)("h1",null,(0,M.zw)(this.$root.setlang.tools.writer),1)]),(0,s._)("td",mi,[(0,s._)("button",{onClick:t[0]||(t[0]=(...e)=>a.addItem&&a.addItem(...e)),class:"interfaceBtn"},vi)])])]),Ci,(0,s._)("table",fi,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.toollist,((t,o)=>((0,s.wg)(),(0,s.iD)("tr",{key:o},[(0,s._)("td",null,[(0,s._)("div",Hi,(0,M.zw)(t.title),1),(0,s._)("div",Li,(0,M.zw)(t.description),1),(0,s._)("i",null,[Vi,(0,s.Uk)(" "+(0,M.zw)(e.$root.niceDate(t.lastupdated)),1)])]),(0,s._)("td",_i,[(0,s._)("button",{onClick:e=>a.setLiveQuery(t),class:"interfaceBtn"},bi,8,yi)]),(0,s._)("td",$i,[(0,s._)("button",{onClick:e=>a.deleteItem(t),class:"interfaceBtn deleteBtn"},[((0,s.wg)(),(0,s.iD)("svg",xi,Ai))],8,Di)])])))),128))])])])),e.$root.session.writer.selected?((0,s.wg)(),(0,s.j4)(l,{key:1})):(0,s.kq)("",!0)],64)}const Ii=e=>((0,s.dD)("data-v-1b1f511a"),e=e(),(0,s.Cn)(),e),Si={key:0},Ei={key:0,class:"wavemaker_info_box"},Ti=(0,s.uE)('<div style="text-align:center;" data-v-1b1f511a><svg id="wavemaker_logo" version="1.1" viewBox="0 0 24 24" height="50" width="50" data-v-1b1f511a><path d="M0 0h24v24H0V0z" fill="none" data-v-1b1f511a></path><g transform="matrix(0.046875,0,0,0.04604639,-1.951887,-3.0598516)" data-v-1b1f511a><g id="_921457168" data-v-1b1f511a><path class="wavemaker_logo-top" d="M 464.632,212.901 337.566,83.292 c -22.014,-22.454 -57.758,-22.454 -79.771,0 l -126.63,129.386 c -7.411,7.559 -7.411,19.563 0,27.122 l 38.359,39.127 25.5,24.232 c 7.628,7.114 19.18,7.114 26.808,0 l 51.219,-48.242 c 14.167,-13.338 35.744,-13.338 49.693,0 l 51.219,48.242 c 7.629,7.114 19.18,7.114 26.809,0 l 25.501,-24.232 38.359,-38.904 c 7.193,-7.337 7.193,-19.563 0,-27.122 z" data-v-1b1f511a></path><path class="wavemaker_logo-bottom" d="m 58.804,367.853 198.991,202.973 c 22.013,22.452 57.757,22.452 79.771,0 L 536.557,367.853 c 34.437,-35.125 10.244,-45.574 -15.039,-70.029 L 490.35,267.59 c -7.409,-7.336 -19.18,-7.113 -26.808,0 l -51.218,48.242 c -14.169,13.339 -35.744,13.339 -49.694,0 L 311.411,267.59 c -7.575,-7.113 -19.233,-7.113 -26.809,0 l -51.219,48.242 c -14.167,13.339 -35.744,13.339 -49.693,0 L 132.471,267.59 c -7.576,-7.113 -19.233,-7.113 -26.809,0 l -28.77,27.123 c -26.37,24.899 -54.05,36.236 -18.088,73.14 z" data-v-1b1f511a></path></g></g></svg></div>',1),Ui=["placeholder"],Zi=["placeholder"],Ni={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},ji=Ii((()=>(0,s._)("path",{d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2M18 11H13L14.81 9.19A3.94 3.94 0 0 0 12 8A4 4 0 1 0 15.86 13H17.91A6 6 0 1 1 12 6A5.91 5.91 0 0 1 16.22 7.78L18 6Z"},null,-1))),zi=[ji],Pi=Ii((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M15.2,20H13.8L12,13.2L10.2,20H8.8L6.6,11H8.1L9.5,17.8L11.3,11H12.6L14.4,17.8L15.8,11H17.3L15.2,20M13,9V3.5L18.5,9H13Z"})],-1)));function Fi(e,t,o,n,a,l){const r=(0,s.up)("PageEditor"),d=(0,s.up)("WriterRightSide"),c=(0,s.up)("WriterLeftSide");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",{class:(0,M.C_)(["writer",[e.$root.lhspin?"lhspin":"",e.$root.rhspin?"rhspin":""]])},[e.$root.session.writer.file?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Si,[this.$root.session.writer.selected?((0,s.wg)(),(0,s.iD)("div",Ei,[Ti,(0,s._)("label",null,(0,M.zw)(this.$root.setlang.tools.name),1),(0,s.wy)((0,s._)("input",{type:"text",class:"formInput mantitle","onUpdate:modelValue":t[0]||(t[0]=e=>this.$root.session.writer.selected.title=e),onChange:t[1]||(t[1]=(...e)=>l.updateDatabase&&l.updateDatabase(...e)),placeholder:this.$root.setlang.tools.name},null,40,Ui),[[i.nr,this.$root.session.writer.selected.title]]),(0,s._)("label",null,(0,M.zw)(this.$root.setlang.tools.description),1),(0,s.wy)((0,s._)("input",{type:"text",class:"formInput mandesc","onUpdate:modelValue":t[2]||(t[2]=e=>this.$root.session.writer.selected.description=e),onChange:t[3]||(t[3]=(...e)=>l.updateDatabase&&l.updateDatabase(...e)),placeholder:this.$root.setlang.tools.description},null,40,Zi),[[i.nr,this.$root.session.writer.selected.description]]),(0,s._)("div",null,[(0,s.Uk)((0,M.zw)(a.fullWordCount)+" "+(0,M.zw)(this.$root.setlang.writer.words)+" ",1),(0,s._)("button",{class:"clearInterfaceIconButton",onClick:t[4]||(t[4]=e=>l.calcFullWordCount())},[((0,s.wg)(),(0,s.iD)("svg",Ni,zi))])]),(0,s._)("p",null,(0,M.zw)(this.$root.setlang.writer.intro),1),(0,s._)("button",{onClick:t[5]||(t[5]=(...e)=>l.exportDoc&&l.exportDoc(...e)),class:"interfaceBtn"},[Pi,(0,s.Uk)(" "+(0,M.zw)(this.$root.setlang.writer.docdownload),1)])])):(0,s.kq)("",!0)])),(0,s.Wm)(i.uT,{name:"fade"},{default:(0,s.w5)((()=>[e.$root.session.writer.file?((0,s.wg)(),(0,s.iD)("div",{class:"pageHolder",key:e.$root.session.writer.file.uuid},[(0,s.Wm)(r,{pageuuid:e.$root.session.writer.file.uuid},null,8,["pageuuid"])])):(0,s.kq)("",!0)])),_:1})],2),this.$root.session.writer.file?((0,s.wg)(),(0,s.j4)(d,{key:this.$root.session.writer.file.uuid})):(0,s.kq)("",!0),(0,s.Wm)(c)],64)}const Gi=e=>((0,s.dD)("data-v-68c777b6"),e=e(),(0,s.Cn)(),e),Ri={key:0,style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},Wi=Gi((()=>(0,s._)("path",{d:"M16,12V4H17V2H7V4H8V12L6,14V16H11.2V22H12.8V16H18V14L16,12Z"},null,-1))),qi=[Wi],Oi={key:1,style:{width:"18px",height:"px"},viewBox:"0 0 24 24"},Yi=Gi((()=>(0,s._)("path",{d:"M2,5.27L3.28,4L20,20.72L18.73,22L12.8,16.07V22H11.2V16H6V14L8,12V11.27L2,5.27M16,12L18,14V16H17.82L8,6.18V4H7V2H17V4H16V12Z"},null,-1))),Ji=[Yi],Ki={class:"scrollpanel"},Qi={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Xi=Gi((()=>(0,s._)("path",{d:"M17.5 14.33C18.29 14.33 19.13 14.41 20 14.57V16.07C19.38 15.91 18.54 15.83 17.5 15.83C15.6 15.83 14.11 16.16 13 16.82V15.13C14.17 14.6 15.67 14.33 17.5 14.33M13 12.46C14.29 11.93 15.79 11.67 17.5 11.67C18.29 11.67 19.13 11.74 20 11.9V13.4C19.38 13.24 18.54 13.16 17.5 13.16C15.6 13.16 14.11 13.5 13 14.15M17.5 10.5C15.6 10.5 14.11 10.82 13 11.5V9.84C14.23 9.28 15.73 9 17.5 9C18.29 9 19.13 9.08 20 9.23V10.78C19.26 10.59 18.41 10.5 17.5 10.5M21 18.5V7C19.96 6.67 18.79 6.5 17.5 6.5C15.45 6.5 13.62 7 12 8V19.5C13.62 18.5 15.45 18 17.5 18C18.69 18 19.86 18.16 21 18.5M17.5 4.5C19.85 4.5 21.69 5 23 6V20.56C23 20.68 22.95 20.8 22.84 20.91C22.73 21 22.61 21.08 22.5 21.08C22.39 21.08 22.31 21.06 22.25 21.03C20.97 20.34 19.38 20 17.5 20C15.45 20 13.62 20.5 12 21.5C10.66 20.5 8.83 20 6.5 20C4.84 20 3.25 20.36 1.75 21.07C1.72 21.08 1.68 21.08 1.63 21.1C1.59 21.11 1.55 21.12 1.5 21.12C1.39 21.12 1.27 21.08 1.16 21C1.05 20.89 1 20.78 1 20.65V6C2.34 5 4.18 4.5 6.5 4.5C8.83 4.5 10.66 5 12 6C13.34 5 15.17 4.5 17.5 4.5Z"},null,-1))),es=[Xi],ts={class:"addbar"},os={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},is=Gi((()=>(0,s._)("path",{d:"M14 2H6C4.89 2 4 2.89 4 4V20C4 21.11 4.89 22 6 22H13.81C13.28 21.09 13 20.05 13 19C13 18.67 13.03 18.33 13.08 18H6V16H13.81C14.27 15.2 14.91 14.5 15.68 14H6V12H18V13.08C18.33 13.03 18.67 13 19 13S19.67 13.03 20 13.08V8L14 2M13 9V3.5L18.5 9H13M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"},null,-1))),ss=[is],ns={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},as=Gi((()=>(0,s._)("path",{d:"M19,15L13,21L11.58,19.58L15.17,16H4V4H6V14H15.17L11.58,10.42L13,9L19,15Z"},null,-1))),ls=[as];function rs(e,t,o,i,n,a){const l=(0,s.up)("WriterNode");return this.$root.session.writer.selected?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,M.C_)(["menu",e.$root.lhspin?"lhspinned":""])},[(0,s._)("button",{class:"pinBtn",onClick:t[0]||(t[0]=t=>e.$root.lhspin=!e.$root.lhspin)},[e.$root.lhspin?((0,s.wg)(),(0,s.iD)("svg",Ri,qi)):(0,s.kq)("",!0),e.$root.lhspin?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("svg",Oi,Ji))]),(0,s._)("div",Ki,[(0,s._)("button",{class:"settingsBtn",style:{border:"0",outline:"none"},onClick:t[1]||(t[1]=e=>this.$root.session.writer.file=null)},[((0,s.wg)(),(0,s.iD)("svg",Qi,es)),(0,s._)("div",null,(0,M.zw)(this.$root.setlang.writer.settings),1)]),(0,s.Wm)(l,{list:this.$root.session.writer.selected.files,onUpdateDatabase:a.updateDatabase},null,8,["list","onUpdateDatabase"])]),(0,s._)("div",ts,[(0,s._)("button",{onClick:t[2]||(t[2]=(...e)=>a.addFile&&a.addFile(...e))},[((0,s.wg)(),(0,s.iD)("svg",os,ss))]),this.$root.session.writer.file?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:t[3]||(t[3]=(...e)=>a.addChild&&a.addChild(...e)),style:{left:"50px"}},[((0,s.wg)(),(0,s.iD)("svg",ns,ls))])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)}o(7658);const ds=e=>((0,s.dD)("data-v-0f86cc47"),e=e(),(0,s.Cn)(),e),cs={class:"list-group-item",tabindex:"0"},us={class:"itemBox"},hs=["onClick"],ps={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},gs=ds((()=>(0,s._)("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1))),ms=[gs];function ws(e,t,o,n,a,l){const r=(0,s.up)("NodeTemplate"),d=(0,s.up)("WriterNode",!0),c=(0,s.up)("VueDraggableNext");return(0,s.wg)(),(0,s.j4)(c,(0,s.dG)({list:o.list,tag:"transition-group",handle:".handle","component-data":{tag:"div",type:"transition-group",name:a.drag?null:"flip-list"}},l.dragOptions,{onStart:t[0]||(t[0]=e=>a.drag=!0),onEnd:t[1]||(t[1]=e=>a.drag=!1),"item-key":"order",onChange:l.updateDatabase,emptyInsertThreshold:50}),{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.list,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"childbox"},[(0,s._)("div",cs,[(0,s._)("div",us,[((0,s.wg)(),(0,s.j4)(r,{nodeElement:e,key:e.uuid,onSelectNode:t=>l.selectNode(e),onToggleFolder:t=>e.open=!e.open},null,8,["nodeElement","onSelectNode","onToggleFolder"])),(0,s._)("button",{class:"deleteIconButton",onClick:o=>l.deleteFile(t,e),tabindex:"0"},[((0,s.wg)(),(0,s.iD)("svg",ps,ms))],8,hs)]),(0,s.Wm)(i.uT,{name:"folderslide"},{default:(0,s.w5)((()=>[e.open?((0,s.wg)(),(0,s.j4)(d,{key:0,list:e.children,onUpdateDatabase:l.updateDatabase,onSelectNode:t=>l.selectNode(e)},null,8,["list","onUpdateDatabase","onSelectNode"])):(0,s.kq)("",!0)])),_:2},1024)])])))),128))])),_:1},16,["list","component-data","onChange"])}var vs=o(8496);const Cs=e=>((0,s.dD)("data-v-0199d1e2"),e=e(),(0,s.Cn)(),e),fs={key:0},Hs={key:0,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Ls=Cs((()=>(0,s._)("path",{d:"M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z"},null,-1))),Vs=[Ls],_s={key:1,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},ys=Cs((()=>(0,s._)("path",{d:"M20,18H4V8H20M20,6H12L10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6Z"},null,-1))),ks=[ys],bs={key:1},$s={key:0,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Ds=Cs((()=>(0,s._)("path",{d:"M13,9H18.5L13,3.5V9M6,2H14L20,8V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V4C4,2.89 4.89,2 6,2M15,18V16H6V18H15M18,14V12H6V14H18Z"},null,-1))),xs=[Ds],Ms={key:1,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},As=Cs((()=>(0,s._)("path",{d:"M6,2A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6M6,4H13V9H18V20H6V4M8,12V14H16V12H8M8,16V18H13V16H8Z"},null,-1))),Bs=[As],Is={class:"title"};function Ss(e,t,o,i,n,a){return n.item?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,M.C_)(["itemTitle",a.isSelected(n.item.uuid)?"chosen":""]),onClick:t[1]||(t[1]=(...e)=>a.chooseme&&a.chooseme(...e))},[(0,s._)("span",{class:"handle",onClick:t[0]||(t[0]=t=>e.$emit("toggleFolder"))},[o.nodeElement.children.length?((0,s.wg)(),(0,s.iD)("span",fs,[a.isSelected(n.item.uuid)?((0,s.wg)(),(0,s.iD)("svg",Hs,Vs)):(0,s.kq)("",!0),a.isSelected(n.item.uuid)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("svg",_s,ks))])):((0,s.wg)(),(0,s.iD)("span",bs,[a.isSelected(n.item.uuid)?((0,s.wg)(),(0,s.iD)("svg",$s,xs)):(0,s.kq)("",!0),a.isSelected(n.item.uuid)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("svg",Ms,Bs))]))]),(0,s._)("div",Is,(0,M.zw)(n.item.title),1)],2)):(0,s.kq)("",!0)}var Es={name:"NodeTemplate",emits:["selectNode","toggleFolder"],props:{nodeElement:Object},data(){return{db:h,item:(0,w.mA)((0,u.Y1)((async()=>await h.Files.get(this.nodeElement.uuid))))}},methods:{isSelected(e){return!(!this.$root.session.writer.file||this.$root.session.writer.file.uuid!==e)},chooseme(){this.$emit("selectNode")}}};const Ts=(0,P.Z)(Es,[["render",Ss],["__scopeId","data-v-0199d1e2"]]);var Us=Ts,Zs={name:"WriterNode",components:{VueDraggableNext:vs.J,NodeTemplate:Us},emits:["updateDatabase"],props:{list:Array},data(){return{drag:!1}},computed:{dragOptions(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}}},methods:{deleteFile(e,t){confirm(this.$root.setlang.writer.deletewarn)&&(this.$root.session.writer.file&&this.$root.session.writer.file.uuid===t.uuid&&(this.$root.session.writer.file=null),t.children.length&&(console.log(t.children),this.recursiveDelete(t.children)),this.list.splice(e,1),this.updateDatabase(),this.$root.DeleteRecord("Files",t.uuid))},recursiveDelete(e){e.forEach((e=>{this.$root.session.writer.file&&this.$root.session.writer.file.uuid===e.uuid&&(this.$root.session.writer.file=null),e.children.length&&this.recursiveDelete(e.children),this.$root.DeleteRecord("Files",e.uuid)}))},updateDatabase(){this.$emit("updateDatabase")},selectNode(e){console.log("select",e),this.$root.session.writer.file=e}}};const Ns=(0,P.Z)(Zs,[["render",ws],["__scopeId","data-v-0f86cc47"]]);var js=Ns,zs={name:"WriterLeftSide",display:"Transitions",order:7,components:{WriterNode:js},data(){return{drag:!1,pinme:!1,defaultCard:{type:"file",name:this.$root.setlang.writer.newfile,children:[],open:!1}}},methods:{previewText(e){if(e){e=e.replace(/(<([^>]+)>)/gi," ");let t="...";return e.length<100&&(t=""),e.substring(0,75)+t}},searchforuuid(e,t){let o={index:null,parent:null};for(let i=0;i<t.length;i++){if(t[i].uuid===e.uuid)return o.index=i,o.parent=t,o;if(t[i].children.length)return this.searchforuuid(e,t[i].children)}return!1},async addFile(){let e=JSON.parse(JSON.stringify(this.defaultCard));e.uuid=this.$root.uuid();let t={};if(t.title=this.$root.setlang.writer.newfile,t.writerid=this.$root.session.writer.selected.uuid,t.uuid=e.uuid,t.content="",t.notes=[],await this.$root.AddRecord("Files",t),this.$root.session.writer.file)if(this.$root.session.writer.file.children.length)this.$root.session.writer.file.children.push(e);else{let t=this.searchforuuid(this.$root.session.writer.file,this.$root.session.writer.selected.files);t.parent.splice(t.index+1,0,e)}else this.$root.session.writer.selected.files.push(e);this.updateDatabase()},addChild(){let e=JSON.parse(JSON.stringify(this.defaultCard));e.uuid=this.$root.uuid();let t={};t.title=this.$root.setlang.writer.newfile,t.uuid=e.uuid,t.writerid=this.$root.session.writer.selected.uuid,t.content="",t.notes=[],this.$root.AddRecord("Files",t),this.$root.session.writer.file.children.push(e),console.log(this.$root.session.writer.file.children),this.updateDatabase()},updateDatabase(){this.$root.UpdateRecord("Writer",this.$root.session.writer.selected.uuid,this.$root.session.writer.selected)}},computed:{dragOptions(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}}}};const Ps=(0,P.Z)(zs,[["render",rs],["__scopeId","data-v-68c777b6"]]);var Fs=Ps;const Gs=e=>((0,s.dD)("data-v-7271824c"),e=e(),(0,s.Cn)(),e),Rs={key:0,style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},Ws=Gs((()=>(0,s._)("path",{d:"M16,12V4H17V2H7V4H8V12L6,14V16H11.2V22H12.8V16H18V14L16,12Z"},null,-1))),qs=[Ws],Os={key:1,style:{width:"18px",height:"px"},viewBox:"0 0 24 24"},Ys=Gs((()=>(0,s._)("path",{d:"M2,5.27L3.28,4L20,20.72L18.73,22L12.8,16.07V22H11.2V16H6V14L8,12V11.27L2,5.27M16,12L18,14V16H17.82L8,6.18V4H7V2H17V4H16V12Z"},null,-1))),Js=[Ys],Ks={class:"scrollpanel scroll-lhs"},Qs={class:"scroll-inside"},Xs={key:0},en={style:{"padding-left":"0px"}},tn=Gs((()=>(0,s._)("div",{class:"handle"},[(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M1.88,0.46L0.46,1.88L5.59,7H2V9H9V2H7V5.59M11,7V9H21V15H23V9A2,2 0 0,0 21,7M7,11V21A2,2 0 0,0 9,23H15V21H9V11M15.88,14.46L14.46,15.88L19.6,21H17V23H23V17H21V19.59"})])],-1))),on=["onClick"],sn={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},nn=Gs((()=>(0,s._)("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1))),an=[nn],ln={key:0,class:"addbar"},rn={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},dn=Gs((()=>(0,s._)("path",{d:"M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z"},null,-1))),cn=[dn],un={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},hn=Gs((()=>(0,s._)("path",{d:"M13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.9 4 4 4H20C21.11 4 22 4.89 22 6V13.81C21.12 13.3 20.09 13 19 13C15.69 13 13 15.69 13 19C13 19.34 13.04 19.67 13.09 20M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"},null,-1))),pn=[hn];function gn(e,t,o,i,n,a){const l=(0,s.up)("CardViewer"),r=(0,s.up)("VueDraggableNext");return(0,s.wg)(),(0,s.iD)("div",{class:(0,M.C_)(["menu",e.$root.rhspin?"rhspinned":""])},[(0,s._)("button",{class:"pinBtn",onClick:t[0]||(t[0]=t=>e.$root.rhspin=!e.$root.rhspin)},[e.$root.rhspin?((0,s.wg)(),(0,s.iD)("svg",Rs,qs)):(0,s.kq)("",!0),e.$root.rhspin?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("svg",Os,Js))]),(0,s._)("div",Ks,[(0,s._)("div",Qs,[n.item?((0,s.wg)(),(0,s.iD)("div",Xs,[(0,s.Wm)(r,(0,s.dG)({list:n.item.notes,tag:"transition-group",handle:".handle","component-data":{tag:"div",type:"transition-group",name:n.drag?null:"flip-list"}},a.dragOptions,{onStart:t[1]||(t[1]=e=>n.drag=!0),onEnd:t[2]||(t[2]=e=>n.drag=!1),"item-key":"order",onChange:a.updateDatabase}),{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.item.notes,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"list-group-item",tabindex:"0"},[(0,s._)("div",en,[((0,s.wg)(),(0,s.j4)(l,{cardid:e.uuid,allowlink:!0,onLinkcard:a.linkCard,key:e.uuid},null,8,["cardid","onLinkcard"])),tn,(0,s._)("button",{class:"deleteIconButton",onClick:o=>a.deleteNote(t,e),tabindex:"0"},[((0,s.wg)(),(0,s.iD)("svg",sn,an))],8,on)])])))),128))])),_:1},16,["list","component-data","onChange"])])):(0,s.kq)("",!0)])]),n.item?((0,s.wg)(),(0,s.iD)("div",ln,[(0,s._)("button",{onClick:t[3]||(t[3]=t=>e.$root.openInNew("planningboard")),class:"popBtn"},[((0,s.wg)(),(0,s.iD)("svg",rn,cn))]),(0,s._)("button",{onClick:t[4]||(t[4]=(...e)=>a.addCard&&a.addCard(...e)),class:"addBtn"},[((0,s.wg)(),(0,s.iD)("svg",un,pn))])])):(0,s.kq)("",!0)],2)}const mn=e=>((0,s.dD)("data-v-6aaaf8a0"),e=e(),(0,s.Cn)(),e),wn={key:0},vn={key:0},Cn={class:"cardTitle"},fn={key:0},Hn={key:1},Ln={key:1,class:"cardDescription"},Vn=["innerHTML"],_n=mn((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M14.06,9L15,9.94L5.92,19H5V18.08L14.06,9M17.66,3C17.41,3 17.15,3.1 16.96,3.29L15.13,5.12L18.88,8.87L20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18.17,3.09 17.92,3 17.66,3M14.06,6.19L3,17.25V21H6.75L17.81,9.94L14.06,6.19Z"})],-1))),yn=[_n],kn={key:1,class:"card"},bn={key:0},$n=mn((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.9 4 4 4H20C21.11 4 22 4.89 22 6V13.81C21.12 13.3 20.09 13 19 13C15.69 13 13 15.69 13 19C13 19.34 13.04 19.67 13.09 20M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"})],-1))),Dn=mn((()=>(0,s._)("div",{style:{"text-align":"center",padding:"5px"}}," or ",-1))),xn=mn((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M11,16H10C8.39,16 6,14.94 6,12C6,9.07 8.39,8 10,8H11V10H10C9.54,10 8,10.17 8,12C8,13.9 9.67,14 10,14H11V16M15,11V13H9V11H15M14,16H13V14H14C14.46,14 16,13.83 16,12C16,10.1 14.33,10 14,10H13V8H14C15.61,8 18,9.07 18,12C18,14.94 15.61,16 14,16Z"})],-1))),Mn={key:0,class:"LinkBox"},An={key:0},Bn=["value","onClick"],In=mn((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M19,19H5V5H19V19M11,16H10C8.39,16 6,14.94 6,12C6,9.07 8.39,8 10,8H11V10H10C9.54,10 8,10.17 8,12C8,13.9 9.67,14 10,14H11V16M14,16H13V14H14C14.46,14 16,13.83 16,12C16,10.1 14.33,10 14,10H13V8H14C15.61,8 18,9.07 18,12C18,14.94 15.61,16 14,16M15,13H9V11H15V13Z"})],-1))),Sn={key:1};function En(e,t,o,i,n,a){const l=(0,s.up)("MiniImage");return(0,s.wg)(),(0,s.iD)(s.HY,null,[n.cardInfo?((0,s.wg)(),(0,s.iD)("div",wn,[(0,s._)("div",{class:"card",style:(0,M.j5)("background-color: var("+n.cardInfo.color+"); color : var("+n.cardInfo.color+"-f); fill : var("+n.cardInfo.color+"-f)")},[n.cardInfo.showimage?((0,s.wg)(),(0,s.iD)("div",vn,[(0,s.Wm)(l,{uuid:n.cardInfo.showimage},null,8,["uuid"])])):(0,s.kq)("",!0),(0,s._)("div",Cn,[n.cardInfo.title?((0,s.wg)(),(0,s.iD)("span",fn,(0,M.zw)(n.cardInfo.title),1)):((0,s.wg)(),(0,s.iD)("span",Hn,(0,M.zw)(this.$root.setlang.cards.cardtitle),1))]),n.cardInfo.showdesc?((0,s.wg)(),(0,s.iD)("div",Ln,[(0,s._)("span",{innerHTML:n.cardInfo.description},null,8,Vn)])):(0,s.kq)("",!0),(0,s._)("button",{class:"clearInterfaceIconButton editButton",onClick:t[0]||(t[0]=t=>e.$root.$data.session.EditCard=o.cardid)},yn)],4)])):(0,s.kq)("",!0),n.cardInfo?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",kn,[a.chooser?((0,s.wg)(),(0,s.iD)("div",bn,[(0,s._)("button",{onClick:t[1]||(t[1]=e=>this.$root.makeNewCard(this.cardid)),class:"interfaceBtn",style:{width:"100%","text-align":"left"}},[$n,(0,s.Uk)(" "+(0,M.zw)(this.$root.setlang.cards.createnewbtn),1)]),Dn,(0,s._)("button",{onClick:t[2]||(t[2]=e=>n.showLinkBox=!n.showLinkBox),class:"interfaceBtn"},[xn,(0,s.Uk)(" "+(0,M.zw)(this.$root.setlang.cards.linkexisting),1)]),n.showLinkBox?((0,s.wg)(),(0,s.iD)("div",Mn,[0==n.linkcards.length?((0,s.wg)(),(0,s.iD)("div",An," No cards ")):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.linkcards,((e,t)=>((0,s.wg)(),(0,s.iD)("button",{class:"interfaceBtn",key:t,value:e.uuid,onClick:t=>a.sendlink(e.uuid)},[In,(0,s.Uk)(" "+(0,M.zw)(e.title),1)],8,Bn)))),128))])):(0,s.kq)("",!0)])):((0,s.wg)(),(0,s.iD)("div",Sn,"loading"))]))],64)}const Tn=["src"];function Un(e,t,o,i,n,a){return n.base64Url?((0,s.wg)(),(0,s.iD)("img",{key:0,src:"data:image/png;base64,"+n.base64Url},null,8,Tn)):(0,s.kq)("",!0)}var Zn={name:"MiniImage",props:["uuid"],data(){return{base64Url:null}},async mounted(){let e=await h.ImageLibrary.get(this.uuid);this.base64Url=e.base64}};const Nn=(0,P.Z)(Zn,[["render",Un]]);var jn=Nn,zn={name:"CardViewer",emits:["linkcard"],components:{MiniImage:jn},props:{cardid:{type:String,required:!0},allowlink:{type:Boolean,default:!1}},computed:{currentProjectCards(){let e=[];return Object.keys(this.linkcards).forEach((t=>{""!=this.linkcards[t].title&&e.push(this.linkcards[t])})),e},chooser(){let e=!1;return!(this.cardInfo||!this.allowlink)||e}},data(){return{cardInfo:(0,w.mA)((0,u.Y1)((async()=>await h.Cards.get(this.cardid)))),linkcards:(0,w.mA)((0,u.Y1)((async()=>await h.Cards.where("title").notEqual("").toArray()))),advancedEdit:!1,tag:null,cardChange:null,showimage:null,showLinkBox:!1}},methods:{sendlink(e){this.$emit("linkcard",e,this.cardid)}},async mounted(){}};const Pn=(0,P.Z)(zn,[["render",En],["__scopeId","data-v-6aaaf8a0"]]);var Fn=Pn,Gn={name:"WriterRightSide",display:"Transitions",order:7,components:{VueDraggableNext:vs.J,CardViewer:Fn},data(){return{drag:!1,item:(0,w.mA)((0,u.Y1)((async()=>await h.Files.get(this.$root.session.writer.file.uuid))))}},methods:{linkCard(e,t){var o=this.item.notes.find((e=>e.uuid===t));o.uuid=e,this.updateDatabase()},deleteNote(e){confirm("delete this note?")&&(this.item.notes.splice(e,1),this.updateDatabase())},addCard(){let e={};e.uuid=this.$root.uuid(),this.item.notes.push(e),this.updateDatabase()},updateDatabase(){this.$root.UpdateRecord("Files",this.item.uuid,this.item)}},computed:{dragOptions(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}}}};const Rn=(0,P.Z)(Gn,[["render",gn],["__scopeId","data-v-7271824c"]]);var Wn=Rn;const qn=e=>((0,s.dD)("data-v-3a59ad71"),e=e(),(0,s.Cn)(),e),On={class:"PageEditorScroll",ref:"scrolltarget"},Yn={key:0,class:"titleBar"},Jn=["placeholder"],Kn=qn((()=>(0,s._)("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M13.5,15.5H10V12.5H13.5A1.5,1.5 0 0,1 15,14A1.5,1.5 0 0,1 13.5,15.5M10,6.5H13A1.5,1.5 0 0,1 14.5,8A1.5,1.5 0 0,1 13,9.5H10M15.6,10.79C16.57,10.11 17.25,9 17.25,8C17.25,5.74 15.5,4 13.25,4H7V18H14.04C16.14,18 17.75,16.3 17.75,14.21C17.75,12.69 16.89,11.39 15.6,10.79Z"})],-1))),Qn=[Kn],Xn=qn((()=>(0,s._)("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M10,4V7H12.21L8.79,15H6V18H14V15H11.79L15.21,7H18V4H10Z"})],-1))),ea=[Xn],ta=qn((()=>(0,s._)("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24",class:"strikefix"},[(0,s._)("path",{d:"M23,12V14H18.61C19.61,16.14 19.56,22 12.38,22C4.05,22.05 4.37,15.5 4.37,15.5L8.34,15.55C8.37,18.92 11.5,18.92 12.12,18.88C12.76,18.83 15.15,18.84 15.34,16.5C15.42,15.41 14.32,14.58 13.12,14H1V12H23M19.41,7.89L15.43,7.86C15.43,7.86 15.6,5.09 12.15,5.08C8.7,5.06 9,7.28 9,7.56C9.04,7.84 9.34,9.22 12,9.88H5.71C5.71,9.88 2.22,3.15 10.74,2C19.45,0.8 19.43,7.91 19.41,7.89Z"})],-1))),oa=[ta],ia=qn((()=>(0,s._)("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M13,4A4,4 0 0,1 17,8A4,4 0 0,1 13,12H11V18H9V4H13M13,10A2,2 0 0,0 15,8A2,2 0 0,0 13,6H11V10H13Z"})],-1))),sa=[ia],na=qn((()=>(0,s._)("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M3,4H5V10H9V4H11V18H9V12H5V18H3V4M14,18V16H16V6.31L13.5,7.75V5.44L16,4H18V16H20V18H14Z"})],-1))),aa=[na],la=qn((()=>(0,s._)("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M3,4H5V10H9V4H11V18H9V12H5V18H3V4M21,18H15A2,2 0 0,1 13,16C13,15.47 13.2,15 13.54,14.64L18.41,9.41C18.78,9.05 19,8.55 19,8A2,2 0 0,0 17,6A2,2 0 0,0 15,8H13A4,4 0 0,1 17,4A4,4 0 0,1 21,8C21,9.1 20.55,10.1 19.83,10.83L15,16H21V18Z"})],-1))),ra=[la],da=qn((()=>(0,s._)("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M13 19C13 19.7 13.13 20.37 13.35 21H5C3.9 21 3 20.11 3 19V5C3 3.9 3.9 3 5 3H19C20.11 3 21 3.9 21 5V13.35C20.37 13.13 19.7 13 19 13V5H5V19H13M13.96 12.29L11.21 15.83L9.25 13.47L6.5 17H13.35C13.75 15.88 14.47 14.91 15.4 14.21L13.96 12.29M20 18V15H18V18H15V20H18V23H20V20H23V18H20Z"})],-1))),ca=[da],ua=qn((()=>(0,s._)("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M3,4H7V8H3V4M9,5V7H21V5H9M3,10H7V14H3V10M9,11V13H21V11H9M3,16H7V20H3V16M9,17V19H21V17H9"})],-1))),ha=[ua],pa=qn((()=>(0,s._)("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M7,13V11H21V13H7M7,19V17H21V19H7M7,7V5H21V7H7M3,8V5H2V4H4V8H3M2,17V16H5V20H2V19H4V18.5H3V17.5H4V17H2M4.25,10A0.75,0.75 0 0,1 5,10.75C5,10.95 4.92,11.14 4.79,11.27L3.12,13H5V14H2V13.08L4,11H2V10H4.25Z"})],-1))),ga=[pa],ma=qn((()=>(0,s._)("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M22,9V7H20V5A2,2 0 0,0 18,3H4A2,2 0 0,0 2,5V19A2,2 0 0,0 4,21H18A2,2 0 0,0 20,19V17H22V15H20V13H22V11H20V9H22M18,19H4V5H18V19M6,13H11V17H6V13M12,7H16V10H12V7M6,7H11V12H6V7M12,11H16V17H12V11Z"})],-1))),wa=[ma],va=qn((()=>(0,s._)("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9M12,4.5C17,4.5 21.27,7.61 23,12C21.27,16.39 17,19.5 12,19.5C7,19.5 2.73,16.39 1,12C2.73,7.61 7,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C15.76,17.5 19.17,15.36 20.82,12C19.17,8.64 15.76,6.5 12,6.5C8.24,6.5 4.83,8.64 3.18,12Z"})],-1))),Ca=[va],fa={key:2,class:"wordcountdisplay"};function Ha(e,t,o,n,a,l){const r=(0,s.up)("EditorContent");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",On,[a.editor?((0,s.wg)(),(0,s.j4)(r,{key:0,editor:a.editor},null,8,["editor"])):(0,s.kq)("",!0)],512),a.item?((0,s.wg)(),(0,s.iD)("div",Yn,[(0,s.wy)((0,s._)("input",{type:"text",placeholder:this.$root.setlang.writer.newfile,"onUpdate:modelValue":t[0]||(t[0]=e=>a.item.title=e),onChange:t[1]||(t[1]=(...e)=>l.changed&&l.changed(...e))},null,40,Jn),[[i.nr,a.item.title]])])):(0,s.kq)("",!0),a.editor?((0,s.wg)(),(0,s.iD)("div",{key:1,class:"toolbar",style:(0,M.j5)([e.$root.$data.session.writer.lhs?"left:40px;":"",e.$root.$data.session.writer.rhs?"right:-40px;":""])},[(0,s._)("button",{onClick:t[2]||(t[2]=e=>a.editor.chain().focus().toggleBold().run()),class:(0,M.C_)({"is-active":a.editor.isActive("bold")})},Qn,2),(0,s._)("button",{onClick:t[3]||(t[3]=e=>a.editor.chain().focus().toggleItalic().run()),class:(0,M.C_)({"is-active":a.editor.isActive("italic")})},ea,2),(0,s._)("button",{onClick:t[4]||(t[4]=e=>a.editor.chain().focus().toggleStrike().run()),class:(0,M.C_)({"is-active":a.editor.isActive("strike")})},oa,2),(0,s._)("button",{onClick:t[5]||(t[5]=e=>a.editor.chain().focus().setParagraph().run()),class:(0,M.C_)({"is-active":a.editor.isActive("paragraph")})},sa,2),(0,s._)("button",{onClick:t[6]||(t[6]=e=>a.editor.chain().focus().toggleHeading({level:1}).run()),class:(0,M.C_)({"is-active":a.editor.isActive("heading",{level:1})})},aa,2),(0,s._)("button",{onClick:t[7]||(t[7]=e=>a.editor.chain().focus().toggleHeading({level:2}).run()),class:(0,M.C_)({"is-active":a.editor.isActive("heading",{level:2})})},ra,2),(0,s._)("button",{onClick:t[8]||(t[8]=(...e)=>l.addImage&&l.addImage(...e))},ca),(0,s._)("button",{onClick:t[9]||(t[9]=e=>a.editor.chain().focus().toggleBulletList().run()),class:(0,M.C_)({"is-active":a.editor.isActive("bulletList")})},ha,2),(0,s._)("button",{onClick:t[10]||(t[10]=e=>a.editor.chain().focus().toggleOrderedList().run()),class:(0,M.C_)({"is-active":a.editor.isActive("orderedList")})},ga,2),(0,s._)("button",{onClick:t[11]||(t[11]=e=>this.$root.session.selectedTool="planningboard")},wa),(0,s._)("button",{onClick:t[12]||(t[12]=e=>this.$root.session.selectedTool="distractionfree")},Ca)],4)):(0,s.kq)("",!0),a.item?((0,s.wg)(),(0,s.iD)("div",fa,(0,M.zw)(a.item.wordcount)+" of "+(0,M.zw)(this.$root.calcFullWordCount),1)):(0,s.kq)("",!0)])}var La=o(9576),Va=o(9212),_a=o(7779),ya=o(2943),ka={name:"NewPage",props:{pageuuid:String},components:{EditorContent:La.kg},data(){return{item:this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Files.get(this.pageuuid)))),editor:null,updateUUID:null,mypos:0}},methods:{repositionEditor(){if(this.mypos=this.getCaretPosition(),0!=this.mypos){let e=parseInt(this.mypos)+this.$refs.scrolltarget.scrollTop-window.innerHeight/2;this.$refs.scrolltarget.scrollTo({top:e,behavior:"smooth"})}},getCaretPosition(){var e,t,o=0;return e=window.getSelection(),t=e.getRangeAt(0),o=t.getBoundingClientRect(),o.y},changed(){this.$root.UpdateRecord("Files",this.item.uuid,this.item)},addImage(){let e=window.prompt("Provide a URL to your image");if(e){if(e.includes("drive.google.com")){let t=e.split("/"),o=t[0]+"//"+t[2]+"/uc?export=view&id="+t[5];e=o}this.editor.chain().focus().setImage({src:e}).run()}}},mounted(){this.updateUUID=this.$root.uuid(),this.$watch("item",((e,t)=>{if(!t)return this.editor.commands.setContent(this.item.content),!1;e.updateUUID!=this.updateUUID&&this.editor.commands.setContent(e.content)})),this.editor=new La.ML({extensions:[Va.Z,_a.ZP,ya.ZP],content:"",onTransaction:()=>{this.repositionEditor()},onUpdate:()=>{this.item.wordcount=this.$root.wordCounter(this.editor.getHTML()),this.text=this.editor.getHTML(),this.item.content=this.text,this.item.updateUUID=this.updateUUID,this.$emit("update:modelValue",this.editor.getJSON()),this.changed()}})},beforeUnmount(){this.editor&&this.editor.destroy()}};const ba=(0,P.Z)(ka,[["render",Ha],["__scopeId","data-v-3a59ad71"]]);var $a=ba,Da={name:"WriterTool",components:{WriterLeftSide:Fs,WriterRightSide:Wn,PageEditor:$a},data(){return{fullWordCount:0}},methods:{async calcFullWordCount(){let e=0;this.fullWordCount=e},exportDoc(){confirm(this.$root.setlang.writer.docdownload)&&alert("I need to re- do this logic for the new tool")},updateDatabase(){this.$root.UpdateRecord("Writer",this.$root.session.writer.selected.uuid,this.$root.session.writer.selected)}},updated(){this.calcFullWordCount()}};const xa=(0,P.Z)(Da,[["render",Fi],["__scopeId","data-v-1b1f511a"]]);var Ma=xa,Aa={name:"WriterHome",components:{Writer:Ma},data(){return{toollist:this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Writer.toArray())))}},methods:{addItem(){let e={title:"",description:"",files:[]};e.uuid=this.$root.uuid(),this.$root.AddRecord("Writer",e),this.$root.session.writer.selected=e},setLiveQuery(e){this.$root.session.writer.selected=this.$root.useObservable(this.$root.liveQuery((()=>this.$root.db.Writer.get(e.uuid))))},deleteItem(e){confirm("Are toy sure you want to delete this?")&&(this.recursiveDelete(e.files),this.$root.DeleteRecord("Writer",e.uuid))},recursiveDelete(e){e.forEach((e=>{e.children.length&&this.recursiveDelete(e.children),this.$root.DeleteRecord("Files",e.uuid)}))}},created(){this.$root.session.writer||(this.$root.session.writer={})}};const Ba=(0,P.Z)(Aa,[["render",Bi],["__scopeId","data-v-826350c8"]]);var Ia=Ba;const Sa=e=>((0,s.dD)("data-v-ab24cff4"),e=e(),(0,s.Cn)(),e),Ea={class:"toolbar"},Ta={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Ua=Sa((()=>(0,s._)("path",{d:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"},null,-1))),Za=[Ua],Na=["placeholder"],ja=Sa((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.9 4 4 4H20C21.11 4 22 4.89 22 6V13.81C21.12 13.3 20.09 13 19 13C15.69 13 13 15.69 13 19C13 19.34 13.04 19.67 13.09 20M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"})],-1))),za=[ja],Pa={id:"scrollWindow"},Fa={style:{padding:"15px","padding-right":"135px"}},Ga={class:"cardFrame"},Ra=["onClick"],Wa={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},qa=Sa((()=>(0,s._)("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1))),Oa=[qa],Ya={class:"taglist"},Ja=["onClick"];function Ka(e,t,o,n,a,l){const r=(0,s.up)("CardViewer"),d=(0,s.up)("masonry-wall");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Ea,[((0,s.wg)(),(0,s.iD)("svg",Ta,Za)),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.SearchTerm=e),placeholder:this.$root.setlang.db.search},null,8,Na),[[i.nr,a.SearchTerm]]),(0,s._)("button",{onClick:t[1]||(t[1]=e=>this.$root.makeNewCard()),class:"interfaceBtn"},za)]),(0,s._)("div",Pa,[(0,s._)("div",Fa,[(0,s.Wm)(d,{items:l.CardsArray,"ssr-columns":1,"column-width":300,gap:16},{default:(0,s.w5)((({item:e})=>[(0,s._)("div",Ga,[((0,s.wg)(),(0,s.j4)(r,{cardid:e.uuid,key:e.lastupdated},null,8,["cardid"])),(0,s._)("button",{class:"deleteIconButton",onClick:t=>l.deleteCard(e.uuid)},[((0,s.wg)(),(0,s.iD)("svg",Wa,Oa))],8,Ra)])])),_:1},8,["items"])]),(0,s._)("div",Ya,[(0,s._)("div",null,[(0,s._)("button",{onClick:t[2]||(t[2]=t=>a.currentTag=e.tag),style:{"background-color":"var(--primary)",color:"var(--primary-f)"}}," [ "+(0,M.zw)(this.$root.setlang.db.clear)+" ] ",1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.taglist.sort(),((e,t)=>((0,s.wg)(),(0,s.iD)("button",{onClick:t=>a.currentTag=e,key:t},(0,M.zw)(e),9,Ja)))),128))])])])],64)}var Qa=o(3693),Xa={name:"CardsDatabaseHome",data(){return{SearchTerm:null,currentTag:null,cardList:(0,w.mA)((0,u.Y1)((async()=>await h.Cards.toArray())))}},components:{CardViewer:Fn,MasonryWall:Qa.Z},computed:{CardsArray(){let e=[];return this.cardList&&this.cardList.forEach((t=>{let o=!1;this.SearchTerm?(t.title.toLowerCase().includes(this.SearchTerm.toLowerCase())||t.description.toLowerCase().includes(this.SearchTerm.toLowerCase()))&&(o=!0):o=!0;let i=!1;this.currentTag?t.labels.includes(this.currentTag)&&(i=!0):i=!0,o&&i&&e.push(t)})),e},taglist(){let e=[];return this.CardsArray.forEach((t=>{t.labels.forEach((t=>{e.includes(t)||e.push(t)}))})),e}},methods:{deleteCard(e){confirm("Are you sure you want to delete this card - it will remove it from the project completely")&&(this.$root.DeleteRecord("Cards",e),delete this.$root.shadowDB.Cards[e])}},mounted(){}};const el=(0,P.Z)(Xa,[["render",Ka],["__scopeId","data-v-ab24cff4"]]);var tl=el;const ol=e=>((0,s.dD)("data-v-3e116fe0"),e=e(),(0,s.Cn)(),e),il={key:0,id:"ToolHome"},sl={class:"wavemaker_info_box"},nl={style:{width:"100%"}},al={style:{width:"50px"}},ll=ol((()=>(0,s._)("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M22,9V7H20V5A2,2 0 0,0 18,3H4A2,2 0 0,0 2,5V19A2,2 0 0,0 4,21H18A2,2 0 0,0 20,19V17H22V15H20V13H22V11H20V9H22M18,19H4V5H18V19M6,13H11V17H6V13M12,7H16V10H12V7M6,7H11V12H6V7M12,11H16V17H12V11Z"})],-1))),rl=[ll],dl=ol((()=>(0,s._)("hr",null,null,-1))),cl={style:{width:"100%"}},ul={class:"title"},hl={class:"author"},pl=ol((()=>(0,s._)("br",null,null,-1))),gl={style:{width:"50px"}},ml=["onClick"],wl=ol((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M19.39 10.74L11 19.13V22H6C4.89 22 4 21.11 4 20V4C4 2.9 4.89 2 6 2H7V9L9.5 7.5L12 9V2H18C19.1 2 20 2.89 20 4V10.3C19.78 10.42 19.57 10.56 19.39 10.74M13 19.96V22H15.04L21.17 15.88L19.13 13.83L13 19.96M22.85 13.47L21.53 12.15C21.33 11.95 21 11.95 20.81 12.15L19.83 13.13L21.87 15.17L22.85 14.19C23.05 14 23.05 13.67 22.85 13.47Z"})],-1))),vl=[wl];function Cl(e,t,o,i,n,a){const l=(0,s.up)("PlanningBoard");return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.$root.session.writer.selected?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",il,[(0,s._)("div",sl,[(0,s._)("table",nl,[(0,s._)("tr",null,[(0,s._)("td",null,[(0,s._)("h1",null,(0,M.zw)(this.$root.setlang.tools.planningboard),1)]),(0,s._)("td",al,[(0,s._)("button",{onClick:t[0]||(t[0]=(...e)=>a.addItem&&a.addItem(...e)),class:"interfaceBtn"},rl)])])]),dl,(0,s._)("table",cl,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.toollist,((t,o)=>((0,s.wg)(),(0,s.iD)("tr",{key:o},[(0,s._)("td",null,[(0,s._)("div",ul,(0,M.zw)(t.title),1),(0,s._)("div",hl,(0,M.zw)(t.description),1),(0,s._)("i",null,[pl,(0,s.Uk)(" "+(0,M.zw)(e.$root.niceDate(t.lastupdated)),1)])]),(0,s._)("td",gl,[(0,s._)("button",{onClick:e=>a.setLiveQuery(t),class:"interfaceBtn"},vl,8,ml)])])))),128))])])])),e.$root.session.writer.selected?((0,s.wg)(),(0,s.j4)(l,{key:e.$root.session.writer.selected.lastupdated})):(0,s.kq)("",!0)],64)}const fl=e=>((0,s.dD)("data-v-0dd26778"),e=e(),(0,s.Cn)(),e),Hl={key:0,class:"planningBoardHolder"},Ll={id:"toolbox"},Vl=fl((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M19 2L14 6.5V17.5L19 13V2M6.5 5C4.55 5 2.45 5.4 1 6.5V21.16C1 21.41 1.25 21.66 1.5 21.66C1.6 21.66 1.65 21.59 1.75 21.59C3.1 20.94 5.05 20.5 6.5 20.5C8.45 20.5 10.55 20.9 12 22C13.35 21.15 15.8 20.5 17.5 20.5C19.15 20.5 20.85 20.81 22.25 21.56C22.35 21.61 22.4 21.59 22.5 21.59C22.75 21.59 23 21.34 23 21.09V6.5C22.4 6.05 21.75 5.75 21 5.5V19C19.9 18.65 18.7 18.5 17.5 18.5C15.8 18.5 13.35 19.15 12 20V6.5C10.55 5.4 8.45 5 6.5 5Z"})],-1))),_l=[Vl],yl={class:"boardTable",cellspacing:"0",cellpadding:"0"},kl={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},bl=fl((()=>(0,s._)("path",{d:"M11,2A2,2 0 0,1 13,4V20A2,2 0 0,1 11,22H2V2H11M4,10V14H11V10H4M4,16V20H11V16H4M4,4V8H11V4H4M15,11H18V8H20V11H23V13H20V16H18V13H15V11Z"},null,-1))),$l=[bl];function Dl(e,t,o,n,a,l){const r=(0,s.up)("PlanningBoardCards");return(0,s.wg)(),(0,s.iD)(s.HY,null,[a.WriterLQ?((0,s.wg)(),(0,s.iD)("div",Hl,[(0,s._)("div",Ll,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>this.WriterLQ.title=e),class:"titleinput",onChange:t[1]||(t[1]=(...e)=>l.updateDatabase&&l.updateDatabase(...e))},null,544),[[i.nr,this.WriterLQ.title]]),(0,s._)("button",{onClick:t[2]||(t[2]=e=>this.$root.session.selectedTool="writer"),class:"toolbutton"},_l)]),(0,s._)("table",yl,[(0,s._)("tr",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.WriterLQ.files,((e,t)=>((0,s.wg)(),(0,s.j4)(r,{key:t,fileId:e.uuid,FileNode:e},null,8,["fileId","FileNode"])))),128))])])])):(0,s.kq)("",!0),(0,s._)("button",{class:"add-col-btn",onClick:t[3]||(t[3]=(...e)=>l.addFile&&l.addFile(...e))},[((0,s.wg)(),(0,s.iD)("svg",kl,$l))])],64)}const xl=e=>((0,s.dD)("data-v-14406a03"),e=e(),(0,s.Cn)(),e),Ml={style:{width:"320px"},width:"320px"},Al=["placeholder"],Bl={class:"hscroll"},Il={class:"clearInterfaceIconButton cardHandle"},Sl={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},El=xl((()=>(0,s._)("path",{d:"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"},null,-1))),Tl=[El],Ul=["onClick"],Zl={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},Nl=xl((()=>(0,s._)("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1))),jl=[Nl],zl={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Pl=xl((()=>(0,s._)("path",{d:"M13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.9 4 4 4H20C21.11 4 22 4.89 22 6V13.81C21.12 13.3 20.09 13 19 13C15.69 13 13 15.69 13 19C13 19.34 13.04 19.67 13.09 20M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"},null,-1))),Fl=[Pl];function Gl(e,t,o,n,a,l){const r=(0,s.up)("CardViewer"),d=(0,s.up)("VueDraggableNext"),c=(0,s.up)("PlanningBoardCards",!0);return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("td",Ml,[a.MyFile?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",{class:"titleBar",onClick:t[2]||(t[2]=(...e)=>l.selectCol&&l.selectCol(...e))},[(0,s.wy)((0,s._)("input",{type:"text",class:"titleBarInput","onUpdate:modelValue":t[0]||(t[0]=e=>a.MyFile.title=e),placeholder:this.$root.setlang.writer.newfile,onChange:t[1]||(t[1]=(...e)=>l.updateDatabase&&l.updateDatabase(...e))},null,40,Al),[[i.nr,a.MyFile.title]])]),(0,s._)("div",Bl,[(0,s.Wm)(d,(0,s.dG)({list:a.MyFile.notes,tag:"transition-group",group:"board",class:"list-group-card","component-data":{tag:"div",type:"transition-group",name:a.drag?null:"flip-list"},handle:".cardHandle"},l.dragOptions,{onStart:t[3]||(t[3]=e=>a.drag=!0),onEnd:t[4]||(t[4]=e=>a.drag=!1),emptyInsertThreshold:90,onChange:l.updateDatabase}),{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.MyFile.notes,((t,o)=>((0,s.wg)(),(0,s.iD)("div",{key:o,class:"list-group-card-item",tabindex:"0"},[((0,s.wg)(),(0,s.j4)(r,{cardid:t.uuid,allowlink:!0,onLinkcard:l.linkCard,key:e.$root.uuid()},null,8,["cardid","onLinkcard"])),(0,s._)("div",Il,[((0,s.wg)(),(0,s.iD)("svg",Sl,Tl))]),(0,s._)("button",{class:"deleteIconButton",onClick:e=>l.deleteNote(o,t),tabindex:"0"},[((0,s.wg)(),(0,s.iD)("svg",Zl,jl))],8,Ul)])))),128))])),_:1},16,["list","component-data","onChange"]),(0,s._)("button",{class:"add-card",onClick:t[5]||(t[5]=e=>l.addCard())},[((0,s.wg)(),(0,s.iD)("svg",zl,Fl))])])],64)):(0,s.kq)("",!0)]),o.FileNode.children.length?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(o.FileNode.children,((e,t)=>((0,s.wg)(),(0,s.j4)(c,{fileId:e.uuid,key:t,FileNode:e},null,8,["fileId","FileNode"])))),128)):(0,s.kq)("",!0)],64)}var Rl={name:"PlanningBoardCols",components:{VueDraggableNext:vs.J,CardViewer:Fn},props:{fileId:{type:String,required:!0},FileNode:{type:Object}},computed:{dragOptions(){return{animation:200,group:"Cards",disabled:!1,ghostClass:"ghost"}}},data(){return{drag:!1,MyFile:this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Files.get(this.fileId))))}},methods:{selectCol(){this.$root.session.writer.file=this.FileNode,console.log("Col Selected",this.$root.session.writer.file)},linkCard(e,t){var o=this.MyFile.notes.find((e=>e.uuid===t));o.uuid=e,this.updateDatabase()},deleteNote(e){confirm("delete this note?")&&(this.MyFile.notes.splice(e,1),this.updateDatabase())},addCard(){let e={};e.uuid=this.$root.uuid(),this.MyFile.notes.push(e),this.updateDatabase()},updateDatabase(){this.$root.UpdateRecord("Files",this.MyFile.uuid,this.MyFile)}}};const Wl=(0,P.Z)(Rl,[["render",Gl],["__scopeId","data-v-14406a03"]]);var ql=Wl,Ol={name:"PlanningBoard",components:{PlanningBoardCards:ql},data(){return{WriterLQ:this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Writer.get(this.$root.session.writer.selected.uuid)))),ColumnArray:[],TempArray:[]}},methods:{deleteFile(e,t){confirm(this.$root.setlang.writer.deletewarn)&&(this.$root.$data.session.writer.file===t&&(this.$root.$data.session.writer.file=null),this.WriterLQ.files.splice(e,1),this.updateDatabase())},addFile(){console.log("Add needed");let e=JSON.parse(JSON.stringify({type:"file",name:this.$root.setlang.writer.newfile,children:[],content:null}));e.uuid=this.$root.uuid();let t={};if(t.title=this.$root.setlang.writer.newfile,t.writerid=this.$root.session.writer.selected.uuid,t.uuid=e.uuid,t.content="",t.notes=[],this.$root.AddRecord("Files",t),this.$root.session.writer.file){let t=this.WriterLQ.files.indexOf(this.$root.session.writer.file);this.WriterLQ.files.splice(t+1,0,e)}else this.WriterLQ.files.push(e);this.updateDatabase()},updateDatabase(){console.log("list changed"),this.$root.UpdateRecord("Writer",this.WriterLQ.uuid,this.WriterLQ)}}};const Yl=(0,P.Z)(Ol,[["render",Dl],["__scopeId","data-v-0dd26778"]]);var Jl=Yl,Kl={name:"PlanningBoardHome",components:{PlanningBoard:Jl},data(){return{toollist:this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Writer.toArray())))}},methods:{addItem(){let e={title:"",description:"",files:[]};e.uuid=this.$root.uuid(),this.$root.AddRecord("Writer",e),this.$root.session.writer.selected=e},setLiveQuery(e){this.$root.session.writer.selected=this.$root.useObservable(this.$root.liveQuery((()=>this.$root.db.Writer.get(e.uuid))))}},created(){this.$root.session.writer||(this.$root.session.writer={})}};const Ql=(0,P.Z)(Kl,[["render",Cl],["__scopeId","data-v-3e116fe0"]]);var Xl=Ql;const er={key:0,id:"ToolHome"},tr={class:"wavemaker_info_box"},or={style:{width:"100%"}},ir={style:{width:"50px"}},sr=(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M14.25,12L16.27,11H23L22,9H18.03L20.42,5.83L19.43,3.83L15.37,9.2L13.35,10.21L13.75,8L17.83,2.62L15.64,2.22L12,7L8.4,2.2L6.2,2.6L10.26,8L10.66,10.21L8.82,9.29L8.66,9.21L4.6,3.8L3.6,5.8L6,9H2L1,11H7.77L9.75,12L7.73,13H1L2,15H5.97L3.58,18.17L4.57,20.17L8.63,14.8L10.65,13.79L10.25,16L6.17,21.38L8.36,21.79L12,17L15.6,21.8L17.8,21.4L13.74,16L13.34,13.79L15.34,14.79L19.4,20.2L20.4,18.2L18,15H22L23,13H16.23"})],-1),nr=[sr],ar={key:0},lr=(0,s._)("hr",null,null,-1),rr=["placeholder"],dr={style:{"text-align":"right"}},cr=(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})],-1),ur=[cr],hr=(0,s._)("hr",null,null,-1),pr={key:1,style:{width:"100%"}},gr={class:"title"},mr=(0,s._)("br",null,null,-1),wr={style:{width:"50px"}},vr=["onClick"],Cr=(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"})],-1),fr=[Cr],Hr={style:{width:"50px"}},Lr=["onClick"],Vr={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},_r=(0,s._)("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"},null,-1),yr=[_r];function kr(e,t,o,n,a,l){const r=(0,s.up)("SnowFlakeTool");return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.$root.$data.session.snowflake.selected?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",er,[(0,s._)("div",tr,[(0,s._)("table",or,[(0,s._)("tr",null,[(0,s._)("td",null,[(0,s._)("h1",null,(0,M.zw)(this.$root.setlang.tools.snowflake),1)]),(0,s._)("td",ir,[(0,s._)("button",{onClick:t[0]||(t[0]=e=>a.showaddform=!a.showaddform),class:"interfaceBtn"},nr)])])]),a.showaddform?((0,s.wg)(),(0,s.iD)("div",ar,[lr,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>a.title=e),placeholder:this.$root.setlang.tools.name,class:"formInput"},null,8,rr),[[i.nr,a.title]]),(0,s._)("div",dr,[(0,s._)("button",{onClick:t[2]||(t[2]=(...e)=>l.addItem&&l.addItem(...e)),class:"interfaceBtn"},ur)])])):(0,s.kq)("",!0),hr,a.showaddform?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("table",pr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.Snowflakes,((t,o)=>((0,s.wg)(),(0,s.iD)("tr",{key:o},[(0,s._)("td",null,[(0,s._)("div",gr,(0,M.zw)(t.title),1),(0,s._)("i",null,[mr,(0,s.Uk)(" "+(0,M.zw)(e.$root.niceDate(t.lastupdated)),1)])]),(0,s._)("td",wr,[(0,s._)("button",{onClick:e=>l.chooseItem(t),class:"interfaceBtn"},fr,8,vr)]),(0,s._)("td",Hr,[(0,s._)("button",{onClick:e=>l.deleteItem(t),class:"interfaceBtn deleteBtn"},[((0,s.wg)(),(0,s.iD)("svg",Vr,yr))],8,Lr)])])))),128))]))])])),e.$root.$data.session.snowflake.selected?((0,s.wg)(),(0,s.j4)(r,{key:1})):(0,s.kq)("",!0)],64)}const br=e=>((0,s.dD)("data-v-3865aa53"),e=e(),(0,s.Cn)(),e),$r={class:"scroller"},Dr={id:"toolbox"},xr={class:"row"},Mr={class:"card"},Ar=["onClick"],Br={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Ir=br((()=>(0,s._)("path",{d:"M8,2H16A2,2 0 0,1 18,4V20A2,2 0 0,1 16,22H8A2,2 0 0,1 6,20V4A2,2 0 0,1 8,2M8,10V14H16V10H8M8,16V20H16V16H8M8,4V8H16V4H8Z"},null,-1))),Sr=[Ir],Er=["onUpdate:modelValue","placeholder"],Tr=["onClick"],Ur=br((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"})],-1))),Zr=[Ur],Nr={key:0,class:"column"},jr={class:"card"},zr=["onUpdate:modelValue","placeholder"],Pr={class:"card"},Fr=["onUpdate:modelValue","placeholder"],Gr={class:"card"},Rr=["onUpdate:modelValue","placeholder"],Wr=["onClick"],qr={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Or=br((()=>(0,s._)("path",{d:"M14.58,16.59L19.17,12L14.58,7.41L16,6L22,12L16,18L14.58,16.59M8.58,16.59L13.17,12L8.58,7.41L10,6L16,12L10,18L8.58,16.59M2.58,16.59L7.17,12L2.58,7.41L4,6L10,12L4,18L2.58,16.59Z"},null,-1))),Yr=[Or];function Jr(e,t,o,n,a,l){const r=(0,s.up)("MiniEditor");return(0,s.wg)(),(0,s.iD)("div",$r,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.$root.session.snowflake.selected.content,((o,n)=>((0,s.wg)(),(0,s.iD)(s.HY,{key:n},[(0,s._)("div",Dr,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.$root.session.snowflake.selected.title=t),class:"titleinput",onChange:t[1]||(t[1]=(...e)=>l.updateDatabase&&l.updateDatabase(...e))},null,544),[[i.nr,e.$root.session.snowflake.selected.title]])]),(0,s._)("div",xr,[(0,s._)("div",{class:"column",style:(0,M.j5)(o.open?"":"display:block")},[(0,s._)("div",Mr,[(0,s._)("button",{class:"open-flake-button",onClick:e=>l.openflake(o)},[((0,s.wg)(),(0,s.iD)("svg",Br,Sr))],8,Ar),(0,s.wy)((0,s._)("input",{class:"title","onUpdate:modelValue":e=>o.title=e,placeholder:this.$root.setlang.snowflake.title,onChange:t[2]||(t[2]=(...e)=>l.updateDatabase&&l.updateDatabase(...e))},null,40,Er),[[i.nr,o.title]]),(0,s.Wm)(r,{snowFlake:o,modelValue:o.text,"onUpdate:modelValue":e=>o.text=e,onUpdated:l.updateDatabase},null,8,["snowFlake","modelValue","onUpdate:modelValue","onUpdated"]),(0,s._)("button",{class:"delete-flake-button",onClick:e=>l.deleteFlake(n)},Zr,8,Tr)])],4),(0,s.Wm)(i.uT,{name:"h-slide-fade"},{default:(0,s.w5)((()=>[o.open?((0,s.wg)(),(0,s.iD)("div",Nr,[(0,s._)("div",jr,[(0,s.wy)((0,s._)("input",{class:"title","onUpdate:modelValue":e=>o.children[0].title=e,placeholder:this.$root.setlang.snowflake.title,onChange:t[3]||(t[3]=(...e)=>l.updateDatabase&&l.updateDatabase(...e))},null,40,zr),[[i.nr,o.children[0].title]]),(0,s.Wm)(r,{snowFlake:o.children[0],modelValue:o.children[0].text,"onUpdate:modelValue":e=>o.children[0].text=e,onUpdated:l.updateDatabase},null,8,["snowFlake","modelValue","onUpdate:modelValue","onUpdated"])]),(0,s._)("div",Pr,[(0,s.wy)((0,s._)("input",{class:"title","onUpdate:modelValue":e=>o.children[1].title=e,placeholder:this.$root.setlang.snowflake.title,onChange:t[4]||(t[4]=(...e)=>l.updateDatabase&&l.updateDatabase(...e))},null,40,Fr),[[i.nr,o.children[1].title]]),(0,s.Wm)(r,{snowFlake:o.children[1],modelValue:o.children[1].text,"onUpdate:modelValue":e=>o.children[1].text=e,onUpdated:l.updateDatabase},null,8,["snowFlake","modelValue","onUpdate:modelValue","onUpdated"])]),(0,s._)("div",Gr,[(0,s.wy)((0,s._)("input",{class:"title","onUpdate:modelValue":e=>o.children[2].title=e,placeholder:this.$root.setlang.snowflake.title,onChange:t[5]||(t[5]=(...e)=>l.updateDatabase&&l.updateDatabase(...e))},null,40,Rr),[[i.nr,o.children[2].title]]),(0,s.Wm)(r,{snowFlake:o.children[2],modelValue:o.children[2].text,"onUpdate:modelValue":e=>o.children[2].text=e,onUpdated:l.updateDatabase},null,8,["snowFlake","modelValue","onUpdate:modelValue","onUpdated"])]),(0,s._)("button",{class:"replaceButton",onClick:e=>l.replace(o,n)},[((0,s.wg)(),(0,s.iD)("svg",qr,Yr))],8,Wr)])):(0,s.kq)("",!0)])),_:2},1024)])],64)))),128))])}function Kr(e,t,o,i,n,a){const l=(0,s.up)("EditorContent");return(0,s.wg)(),(0,s.j4)(l,{editor:n.editor,class:"descriptionEditor"},null,8,["editor"])}var Qr=o(4746),Xr=o(6667);const ed=Xr.ZP.extend({content:"inline*"});var td={name:"DescriptionEditor",components:{EditorContent:La.kg},props:{modelValue:{type:String,default:""}},data(){return{editor:null}},watch:{modelValue(e){const t=this.editor.getHTML()===e;t||this.editor.commands.setContent(e,!1)}},mounted(){this.editor=new La.ML({extensions:[Va.Z,Qr.Z,ed],content:this.modelValue,onUpdate:()=>{this.$emit("update:modelValue",this.editor.getHTML()),this.$emit("updated")}})},beforeUnmount(){this.editor.destroy()}};const od=(0,P.Z)(td,[["render",Kr]]);var id=od,sd={name:"SnowFlakeTool",components:{MiniEditor:id},data(){return{}},methods:{openflake(e){if(!e.children.length){let t={};t.level=e.level+1,t.content="",t.open=!1,t.children=[],t.title="",e.children.push({...t}),e.children.push({...t}),e.children.push({...t})}e.open=!e.open,this.updateDatabase()},deleteFlake(e){confirm(this.$root.setlang.snowflake.deletewarn)&&(this.$root.session.snowflake.selected.content.splice(e,1),this.startFlake(),this.updateDatabase())},replace(e,t){if(confirm(this.$root.setlang.snowflake.replacewarn)){let o={...e.children[0]},i={...e.children[1]},s={...e.children[2]};this.$root.session.snowflake.selected.content.splice(t+1,0,s),this.$root.session.snowflake.selected.content.splice(t+1,0,i),this.$root.session.snowflake.selected.content.splice(t+1,0,o),this.$root.session.snowflake.selected.content.splice(t,1),this.updateDatabase()}},updateDatabase(){console.log("list changed"),this.$root.UpdateRecord("Snowflake",this.$root.session.snowflake.selected.uuid,this.$root.session.snowflake.selected)},startFlake(){if(!this.$root.session.snowflake.selected.content.length){let e={title:"",level:0,content:"",open:!1,children:[]};this.$root.session.snowflake.selected.content.push(e)}}},mounted(){this.startFlake()}};const nd=(0,P.Z)(sd,[["render",Jr],["__scopeId","data-v-3865aa53"]]);var ad=nd,ld={name:"PlanningBoardHome",components:{SnowFlakeTool:ad},data(){return{title:null,description:null,showaddform:!1,Snowflakes:this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Snowflake.toArray())))}},methods:{deleteItem(e){confirm("Are toy sure you want to delete this?")&&this.$root.DeleteRecord("Snowflake",e.uuid)},chooseItem(e){this.$root.session.snowflake.selected=this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Snowflake.get(e.uuid))))},addItem(){if(!this.title)return alert(this.$root.setlang.tools.warn),!1;let e={};e.title=this.title,e.description=this.description,e.content=[],e.uuid=this.$root.uuid(),this.$root.AddRecord("Snowflake",e),this.title="",this.description="",this.showaddform=!1}},created(){this.$root.$data.session.snowflake||(this.$root.$data.session.snowflake={})}};const rd=(0,P.Z)(ld,[["render",kr]]);var dd=rd;const cd={key:0,id:"ToolHome"},ud={class:"wavemaker_info_box"},hd={style:{width:"100%"}},pd={style:{width:"50px"}},gd=(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12,20A7,7 0 0,1 5,13A7,7 0 0,1 12,6A7,7 0 0,1 19,13A7,7 0 0,1 12,20M12,4A9,9 0 0,0 3,13A9,9 0 0,0 12,22A9,9 0 0,0 21,13A9,9 0 0,0 12,4M12.5,8H11V14L15.75,16.85L16.5,15.62L12.5,13.25V8M7.88,3.39L6.6,1.86L2,5.71L3.29,7.24L7.88,3.39M22,5.72L17.4,1.86L16.11,3.39L20.71,7.25L22,5.72Z"})],-1),md=[gd],wd={key:0},vd=(0,s._)("hr",null,null,-1),Cd=["placeholder"],fd=["placeholder"],Hd={style:{"text-align":"right"}},Ld=(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})],-1),Vd=[Ld],_d=(0,s._)("hr",null,null,-1),yd={key:1,style:{width:"100%"}},kd={class:"title"},bd={class:"author"},$d=(0,s._)("br",null,null,-1),Dd={style:{width:"50px"}},xd=["onClick"],Md=(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"})],-1),Ad=[Md],Bd={style:{width:"50px"}},Id=["onClick"],Sd={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Ed=(0,s._)("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"},null,-1),Td=[Ed];function Ud(e,t,o,n,a,l){const r=(0,s.up)("TimeLineTool");return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.$root.session.timeline.selected?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",cd,[(0,s._)("div",ud,[(0,s._)("table",hd,[(0,s._)("tr",null,[(0,s._)("td",null,[(0,s._)("h1",null,(0,M.zw)(this.$root.setlang.tools.timeline),1)]),(0,s._)("td",pd,[(0,s._)("button",{onClick:t[0]||(t[0]=e=>a.showaddform=!a.showaddform),class:"interfaceBtn"},md)])])]),a.showaddform?((0,s.wg)(),(0,s.iD)("div",wd,[vd,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>a.title=e),placeholder:this.$root.setlang.tools.name,class:"formInput"},null,8,Cd),[[i.nr,a.title]]),(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>a.description=e),placeholder:this.$root.setlang.tools.description,class:"formInput"},null,8,fd),[[i.nr,a.description]]),(0,s._)("div",Hd,[(0,s._)("button",{onClick:t[3]||(t[3]=(...e)=>l.addItem&&l.addItem(...e)),class:"interfaceBtn"},Vd)])])):(0,s.kq)("",!0),_d,a.showaddform?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("table",yd,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.Timelines,((t,o)=>((0,s.wg)(),(0,s.iD)("tr",{key:o},[(0,s._)("td",null,[(0,s._)("div",kd,(0,M.zw)(t.title),1),(0,s._)("div",bd,(0,M.zw)(t.description),1),(0,s._)("i",null,[$d,(0,s.Uk)(" "+(0,M.zw)(e.$root.niceDate(t.lastupdated)),1)])]),(0,s._)("td",Dd,[(0,s._)("button",{onClick:e=>l.chooseItem(t),class:"interfaceBtn"},Ad,8,xd)]),(0,s._)("td",Bd,[(0,s._)("button",{onClick:e=>l.deleteItem(t),class:"interfaceBtn deleteBtn"},[((0,s.wg)(),(0,s.iD)("svg",Sd,Td))],8,Id)])])))),128))]))])])),e.$root.session.timeline.selected?((0,s.wg)(),(0,s.j4)(r,{key:1})):(0,s.kq)("",!0)],64)}const Zd=e=>((0,s.dD)("data-v-8f700aa2"),e=e(),(0,s.Cn)(),e),Nd={class:"scroller"},jd=["placeholder"],zd=["placeholder"],Pd={class:"timeline"},Fd={class:"time"},Gd={class:"handle"},Rd={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},Wd=Zd((()=>(0,s._)("path",{d:"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"},null,-1))),qd=[Wd],Od=["placeholder","onUpdate:modelValue"],Yd={class:"content"},Jd=["placeholder","onUpdate:modelValue"],Kd=Zd((()=>(0,s._)("div",{style:{clear:"both"}},null,-1))),Qd={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Xd=Zd((()=>(0,s._)("path",{d:"M13.72 21.84C13.16 21.94 12.59 22 12 22C6.5 22 2 17.5 2 12S6.5 2 12 2 22 6.5 22 12C22 12.59 21.94 13.16 21.84 13.72C21 13.26 20.03 13 19 13C17.74 13 16.57 13.39 15.6 14.06L12.5 12.2V7H11V13L14.43 15.11C13.54 16.16 13 17.5 13 19C13 20.03 13.26 21 13.72 21.84M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"},null,-1))),ec=[Xd];function tc(e,t,o,n,a,l){const r=(0,s.up)("MiniEditor"),d=(0,s.up)("VueDraggableNext");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Nd,[(0,s.wy)((0,s._)("input",{class:"topinput",placeholder:this.$root.setlang.tools.name,"onUpdate:modelValue":t[0]||(t[0]=e=>this.$root.session.timeline.selected.title=e),onChange:t[1]||(t[1]=(...e)=>l.updateDatabase&&l.updateDatabase(...e))},null,40,jd),[[i.nr,this.$root.session.timeline.selected.title]]),(0,s.wy)((0,s._)("input",{class:"topinput sub",placeholder:this.$root.setlang.tools.description,"onUpdate:modelValue":t[2]||(t[2]=e=>this.$root.session.timeline.selected.description=e),onChange:t[3]||(t[3]=(...e)=>l.updateDatabase&&l.updateDatabase(...e))},null,40,zd),[[i.nr,this.$root.session.timeline.selected.description]]),(0,s._)("div",Pd,[(0,s.Wm)(d,(0,s.dG)({list:this.$root.$data.session.timeline.selected.content,tag:"ul",group:"board","component-data":{tag:"ul",type:"transition-group",name:a.drag?null:"flip-list"},handle:".handle"},l.dragOptions,{onStart:t[6]||(t[6]=e=>a.drag=!0),onEnd:t[7]||(t[7]=e=>a.drag=!1),emptyInsertThreshold:90,onChange:l.updateDatabase}),{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.$root.session.timeline.selected.content,((e,o)=>((0,s.wg)(),(0,s.iD)("li",{key:o},[(0,s._)("div",Fd,[(0,s._)("div",Gd,[((0,s.wg)(),(0,s.iD)("svg",Rd,qd))]),(0,s.wy)((0,s._)("input",{class:"timeText",tabindex:"1",placeholder:this.$root.setlang.timeline.date,"onUpdate:modelValue":t=>e.event=t,onChange:t[4]||(t[4]=(...e)=>l.updateDatabase&&l.updateDatabase(...e))},null,40,Od),[[i.nr,e.event]])]),(0,s._)("div",Yd,[(0,s.wy)((0,s._)("input",{class:"title",placeholder:this.$root.setlang.timeline.title,tabindex:"1","onUpdate:modelValue":t=>e.title=t,onChange:t[5]||(t[5]=(...e)=>l.updateDatabase&&l.updateDatabase(...e))},null,40,Jd),[[i.nr,e.title]]),(0,s._)("p",null,[(0,s.Wm)(r,{modelValue:e.text,"onUpdate:modelValue":t=>e.text=t,tabindex:"1",onUpdated:l.updateDatabase},null,8,["modelValue","onUpdate:modelValue","onUpdated"])])])])))),128))])),_:1},16,["list","component-data","onChange"]),Kd])]),(0,s._)("button",{onClick:t[8]||(t[8]=(...e)=>l.addTime&&l.addTime(...e)),class:"add-btn"},[((0,s.wg)(),(0,s.iD)("svg",Qd,ec))])],64)}var oc={name:"TimeLineTool",components:{VueDraggableNext:vs.J,MiniEditor:id},computed:{dragOptions(){return{animation:200,group:"Cards",disabled:!1,ghostClass:"ghost"}}},data(){return{drag:!1}},methods:{addTime(){console.log("asdasd");let e={title:"",text:"",event:""};this.$root.session.timeline.selected.content.push(e),this.updateDatabase()},deleteTime(e){confirm("delete this event?")&&(this.$root.session.timeline.selected.content.splice(e,1),this.updateDatabase())},updateDatabase(){console.log("list changed"),this.$root.UpdateRecord("Timeline",this.$root.$data.session.timeline.selected.uuid,this.$root.$data.session.timeline.selected)}},mounted(){if(!this.$root.session.timeline.selected.content.length){let e={title:"",text:"",event:""};this.$root.session.timeline.selected.content.push(e)}this.updateDatabase()}};const ic=(0,P.Z)(oc,[["render",tc],["__scopeId","data-v-8f700aa2"]]);var sc=ic,nc={name:"PlanningBoardHome",components:{TimeLineTool:sc},data(){return{title:null,description:null,showaddform:!1,Timelines:this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Timeline.toArray())))}},methods:{deleteItem(e){confirm("Are toy sure you want to delete this?")&&this.$root.DeleteRecord("Timeline",e.uuid)},chooseItem(e){this.$root.session.timeline.selected=this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Timeline.get(e.uuid))))},addItem(){if(!this.title)return alert(this.$root.setlang.tools.warn),!1;let e={};e.title=this.title,e.description=this.description,e.content=[],e.uuid=this.$root.uuid(),this.$root.AddRecord("Timeline",e),this.title="",this.description="",this.showaddform=!1}},created(){this.$root.session.timeline||(this.$root.session.timeline={})}};const ac=(0,P.Z)(nc,[["render",Ud]]);var lc=ac;const rc={key:0,id:"ToolHome"},dc={class:"wavemaker_info_box"},cc={style:{width:"100%"}},uc={style:{width:"50px"}},hc=(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M21 16V13C21 11.89 20.11 11 19 11H13V8H15V2H9V8H11V11H5C3.89 11 3 11.89 3 13V16H1V22H7V16H5V13H11V16H9V22H15V16H13V13H19V16H17V22H23V16H21M11 4H13V6H11V4M5 20H3V18H5V20M13 20H11V18H13V20M21 20H19V18H21V20Z"})],-1),pc=[hc],gc={key:0},mc=(0,s._)("hr",null,null,-1),wc=["placeholder"],vc={style:{"text-align":"right"}},Cc=(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})],-1),fc=[Cc],Hc=(0,s._)("hr",null,null,-1),Lc={key:1,style:{width:"100%"}},Vc={class:"title"},_c=(0,s._)("br",null,null,-1),yc={style:{width:"50px"}},kc=["onClick"],bc=(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"})],-1),$c=[bc],Dc={style:{width:"50px"}},xc=["onClick"],Mc={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Ac=(0,s._)("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"},null,-1),Bc=[Ac],Ic={key:1};function Sc(e,t,o,n,a,l){const r=(0,s.up)("WorkSpace"),d=(0,s.up)("ToolBox");return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.$root.session.mindmap.selected?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",rc,[(0,s._)("div",dc,[(0,s._)("table",cc,[(0,s._)("tr",null,[(0,s._)("td",null,[(0,s._)("h1",null,(0,M.zw)(this.$root.setlang.tools.mindmap),1)]),(0,s._)("td",uc,[(0,s._)("button",{onClick:t[0]||(t[0]=e=>a.showaddform=!a.showaddform),class:"interfaceBtn"},pc)])])]),a.showaddform?((0,s.wg)(),(0,s.iD)("div",gc,[mc,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>a.title=e),placeholder:this.$root.setlang.tools.name,class:"formInput"},null,8,wc),[[i.nr,a.title]]),(0,s._)("div",vc,[(0,s._)("button",{onClick:t[2]||(t[2]=(...e)=>l.addItem&&l.addItem(...e)),class:"interfaceBtn"},fc)])])):(0,s.kq)("",!0),Hc,a.showaddform?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("table",Lc,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.MindMaps,((t,o)=>((0,s.wg)(),(0,s.iD)("tr",{key:o},[(0,s._)("td",null,[(0,s._)("div",Vc,(0,M.zw)(t.title),1),(0,s._)("i",null,[_c,(0,s.Uk)(" "+(0,M.zw)(e.$root.niceDate(t.lastupdated)),1)])]),(0,s._)("td",yc,[(0,s._)("button",{onClick:e=>l.chooseItem(t),class:"interfaceBtn"},$c,8,kc)]),(0,s._)("td",Dc,[(0,s._)("button",{onClick:e=>l.deleteItem(t),class:"interfaceBtn deleteBtn"},[((0,s.wg)(),(0,s.iD)("svg",Mc,Bc))],8,xc)])])))),128))]))])])),e.$root.session.mindmap.selected?((0,s.wg)(),(0,s.iD)("div",Ic,[(0,s.Wm)(r),(0,s.Wm)(d)])):(0,s.kq)("",!0)],64)}const Ec=e=>((0,s.dD)("data-v-e3674bf8"),e=e(),(0,s.Cn)(),e),Tc={id:"toolbox"},Uc=Ec((()=>(0,s._)("option",{value:"solid"},"_____",-1))),Zc=Ec((()=>(0,s._)("option",{value:"dashed"},"- - - -",-1))),Nc=Ec((()=>(0,s._)("option",{value:"dotted"},"..........",-1))),jc=[Uc,Zc,Nc],zc={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Pc=Ec((()=>(0,s._)("path",{d:"M5 19V5H12V12H19V13C19.7 13 20.37 13.13 21 13.35V9L15 3H5C3.89 3 3 3.89 3 5V19C3 20.1 3.89 21 5 21H13.35C13.13 20.37 13 19.7 13 19H5M14 4.5L19.5 10H14V4.5M23 18V20H20V23H18V20H15V18H18V15H20V18H23Z"},null,-1))),Fc=[Pc],Gc={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Rc=Ec((()=>(0,s._)("path",{d:"M18 15V18H15V20H18V23H20V20H23V18H20V15H18M13.3 21H5C3.9 21 3 20.1 3 19V5C3 3.9 3.9 3 5 3H19C20.1 3 21 3.9 21 5V13.3C20.4 13.1 19.7 13 19 13C17.9 13 16.8 13.3 15.9 13.9L14.5 12L11 16.5L8.5 13.5L5 18H13.1C13 18.3 13 18.7 13 19C13 19.7 13.1 20.4 13.3 21Z"},null,-1))),Wc=[Rc];function qc(e,t,o,n,a,l){return(0,s.wg)(),(0,s.iD)("div",Tc,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.$root.session.mindmap.selected.title=t),class:"titleinput",onChange:t[1]||(t[1]=(...e)=>l.updateDatabase&&l.updateDatabase(...e))},null,544),[[i.nr,e.$root.session.mindmap.selected.title]]),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.$root.session.mindmap.linkstyle=t),class:"toolselect"},jc,512),[[i.bM,e.$root.session.mindmap.linkstyle]]),(0,s._)("button",{onClick:t[3]||(t[3]=(...e)=>l.addNode&&l.addNode(...e)),class:"toolbutton"},[((0,s.wg)(),(0,s.iD)("svg",zc,Fc))]),(0,s._)("button",{onClick:t[4]||(t[4]=e=>l.addNode("image")),class:"toolbutton"},[((0,s.wg)(),(0,s.iD)("svg",Gc,Wc))])])}var Oc={name:"ToolBox",methods:{addNode(e){let t={text:"",x:50,y:50,w:"auto",h:32};e&&(t.type=e),this.$root.session.mindmap.selected.content.nodes[this.$root.uuid()]=t},updateDatabase(){console.log("list changed"),this.$root.UpdateRecord("Mindmap",this.$root.$data.session.mindmap.selected.uuid,this.$root.$data.session.mindmap.selected)}},mounted(){this.$root.session.mindmap.linkstyle||(this.$root.session.mindmap.linkstyle="solid")}};const Yc=(0,P.Z)(Oc,[["render",qc],["__scopeId","data-v-e3674bf8"]]);var Jc=Yc;const Kc={key:0,id:"workspace"},Qc={id:"svg"};function Xc(e,t,o,i,n,a){const l=(0,s.up)("LinkNodes"),r=(0,s.up)("NodeBox");return e.$root.session.mindmap.selected.content?((0,s.wg)(),(0,s.iD)("div",Kc,[((0,s.wg)(),(0,s.iD)("svg",Qc,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.$root.session.mindmap.selected.content.links,((e,t)=>((0,s.wg)(),(0,s.j4)(l,{key:t,mylink:e,myindex:t},null,8,["mylink","myindex"])))),128))])),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Object.keys(e.$root.session.mindmap.selected.content.nodes),(e=>((0,s.wg)(),(0,s.j4)(r,{key:e,uuid:e},null,8,["uuid"])))),128))])):(0,s.kq)("",!0)}const eu=e=>((0,s.dD)("data-v-b6ea114e"),e=e(),(0,s.Cn)(),e),tu=eu((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M13,11H18L16.5,9.5L17.92,8.08L21.84,12L17.92,15.92L16.5,14.5L18,13H13V18L14.5,16.5L15.92,17.92L12,21.84L8.08,17.92L9.5,16.5L11,18V13H6L7.5,14.5L6.08,15.92L2.16,12L6.08,8.08L7.5,9.5L6,11H11V6L9.5,7.5L8.08,6.08L12,2.16L15.92,6.08L14.5,7.5L13,6V11Z"})],-1))),ou=[tu],iu=eu((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M22.7 14.3L21.7 15.3L19.7 13.3L20.7 12.3C20.8 12.2 20.9 12.1 21.1 12.1C21.2 12.1 21.4 12.2 21.5 12.3L22.8 13.6C22.9 13.8 22.9 14.1 22.7 14.3M13 19.9V22H15.1L21.2 15.9L19.2 13.9L13 19.9M11.21 15.83L9.25 13.47L6.5 17H13.12L15.66 14.55L13.96 12.29L11.21 15.83M11 19.9V19.05L11.05 19H5V5H19V11.31L21 9.38V5C21 3.9 20.11 3 19 3H5C3.9 3 3 3.9 3 5V19C3 20.11 3.9 21 5 21H11V19.9Z"})],-1))),su=[iu],nu=eu((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M22.7 14.3L21.7 15.3L19.7 13.3L20.7 12.3C20.8 12.2 20.9 12.1 21.1 12.1C21.2 12.1 21.4 12.2 21.5 12.3L22.8 13.6C22.9 13.8 22.9 14.1 22.7 14.3M13 19.9V22H15.1L21.2 15.9L19.2 13.9L13 19.9M11.21 15.83L9.25 13.47L6.5 17H13.12L15.66 14.55L13.96 12.29L11.21 15.83M11 19.9V19.05L11.05 19H5V5H19V11.31L21 9.38V5C21 3.9 20.11 3 19 3H5C3.9 3 3 3.9 3 5V19C3 20.11 3.9 21 5 21H11V19.9Z"})],-1))),au=[nu],lu=eu((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"})],-1))),ru=[lu],du=eu((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M10.6 13.4A1 1 0 0 1 9.2 14.8A4.8 4.8 0 0 1 9.2 7.8L12.7 4.2A5.1 5.1 0 0 1 19.8 4.2A5.1 5.1 0 0 1 19.8 11.3L18.3 12.8A6.4 6.4 0 0 0 17.9 10.4L18.4 9.9A3.2 3.2 0 0 0 18.4 5.6A3.2 3.2 0 0 0 14.1 5.6L10.6 9.2A2.9 2.9 0 0 0 10.6 13.4M23 18V20H20V23H18V20H15V18H18V15H20V18M16.2 13.7A4.8 4.8 0 0 0 14.8 9.2A1 1 0 0 0 13.4 10.6A2.9 2.9 0 0 1 13.4 14.8L9.9 18.4A3.2 3.2 0 0 1 5.6 18.4A3.2 3.2 0 0 1 5.6 14.1L6.1 13.7A7.3 7.3 0 0 1 5.7 11.2L4.2 12.7A5.1 5.1 0 0 0 4.2 19.8A5.1 5.1 0 0 0 11.3 19.8L13.1 18A6 6 0 0 1 16.2 13.7Z"})],-1))),cu=[du];function uu(e,t,o,n,a,l){const r=(0,s.up)("MiniImage"),d=(0,s.up)("vue-draggable-resizable");return(0,s.wg)(),(0,s.j4)(d,{parent:!1,class:(0,M.C_)(["card",e.$root.session.mindmap.currentnode===o.uuid?"activeClass":"inactiveClass"]),key:o.uuid,onDragging:l.onDrag,onResizing:l.onResize,w:this.$root.session.mindmap.selected.content.nodes[this.uuid].w,h:this.$root.session.mindmap.selected.content.nodes[this.uuid].h,x:this.$root.session.mindmap.selected.content.nodes[this.uuid].x,y:this.$root.session.mindmap.selected.content.nodes[this.uuid].y,resizable:!1,onFocus:t[11]||(t[11]=e=>l.onActivated(o.uuid)),onActivated:t[12]||(t[12]=e=>l.onActivated(o.uuid)),onDeactivated:l.onDeactivated,"enable-native-drag":!1,"drag-handle":".drag-handle",tabindex:"0","max-height":32,"min-height":32},{default:(0,s.w5)((()=>[(0,s._)("div",{class:"drag-handle",tabindex:"0",onKeydown:[t[0]||(t[0]=(0,i.D2)((0,i.iM)((t=>e.$root.moveNode("up")),["exact","prevent","stop"]),["up"])),t[1]||(t[1]=(0,i.D2)((0,i.iM)((t=>e.$root.moveNode("down")),["exact","prevent","stop"]),["down"])),t[2]||(t[2]=(0,i.D2)((0,i.iM)((t=>e.$root.moveNode("left")),["exact","prevent","stop"]),["left"])),t[3]||(t[3]=(0,i.D2)((0,i.iM)((t=>e.$root.moveNode("right")),["exact","prevent","stop"]),["right"]))]},ou,32),"image"===this.$root.session.mindmap.selected.content.nodes[this.uuid].type?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[this.$root.session.mindmap.selected.content.nodes[this.uuid].text?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[((0,s.wg)(),(0,s.j4)(r,{uuid:this.$root.session.mindmap.selected.content.nodes[this.uuid].text,style:{"max-width":"300px"},key:this.$root.session.mindmap.selected.content.nodes[this.uuid].text},null,8,["uuid"])),e.$root.session.mindmap.currentnode===o.uuid?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:t[4]||(t[4]=(...e)=>l.addImage&&l.addImage(...e)),class:"NewImageBtn"},su)):(0,s.kq)("",!0)],64)):((0,s.wg)(),(0,s.iD)("button",{key:1,class:"imageButton",onClick:t[5]||(t[5]=(...e)=>l.addImage&&l.addImage(...e))},au))],64)):(0,s.wy)(((0,s.wg)(),(0,s.iD)("textarea",{key:1,ref:"textarea","onUpdate:modelValue":t[6]||(t[6]=e=>this.$root.session.mindmap.selected.content.nodes[this.uuid].text=e),onClick:t[7]||(t[7]=e=>l.onActivated(o.uuid)),style:{width:"300px"},cols:"30",rows:"1",onKeyup:t[8]||(t[8]=(...e)=>l.resizeTextarea&&l.resizeTextarea(...e))},null,544)),[[i.nr,this.$root.session.mindmap.selected.content.nodes[this.uuid].text]]),e.$root.session.mindmap.currentnode===o.uuid?((0,s.wg)(),(0,s.iD)("button",{key:2,id:"deleteButton",onClick:t[9]||(t[9]=e=>l.deleteNode(o.uuid)),tabindex:"0"},ru)):(0,s.kq)("",!0),e.$root.session.mindmap.currentnode===o.uuid?((0,s.wg)(),(0,s.iD)("button",{key:3,tabindex:"0",id:"linkButton",onClick:t[10]||(t[10]=e=>l.linker(o.uuid))},cu)):(0,s.kq)("",!0)])),_:1},8,["onDragging","onResizing","w","h","x","y","onDeactivated","drag-handle","class"])}var hu={name:"NodeBox",components:{MiniImage:jn},props:{uuid:String},data(){return{editme:!1,w:200,h:200,x:50,y:50}},methods:{resizeTextarea(){let e=this.$refs["textarea"];e.style.height="18px",e.style.height=e.scrollHeight+"px"},textchange(){},onResize:function(e,t,o,i){this.$root.session.mindmap.selected.content.nodes[this.uuid].x=e,this.$root.session.mindmap.selected.content.nodes[this.uuid].y=t,this.$root.session.mindmap.selected.content.nodes[this.uuid].width=o,this.$root.session.mindmap.selected.content.nodes[this.uuid].height=i},onDrag:function(e,t){this.$root.session.mindmap.selected.content.nodes[this.uuid].x=e,this.$root.session.mindmap.selected.content.nodes[this.uuid].y=t},onActivated(e){this.$root.session.mindmap.currentnode=e},onDeactivated(){this.$root.session.mindmap.currentnode=null,this.savechange()},linker(e){if(this.$root.session.mindmap.nodelink){if(this.$root.session.mindmap.nodelink!=e){console.log("link ",this.$root.session.mindmap.nodelink," to ",e);let t={};t.type=this.$root.session.mindmap.linkstyle,t.from=this.$root.session.mindmap.nodelink,t.to=e,this.$root.session.mindmap.selected.content.links.push(t)}this.$root.session.mindmap.nodelink=null}else this.$root.session.mindmap.nodelink=e;this.savechange()},deleteNode(e){confirm(this.$root.setlang.mindmap.deletenodewarn)&&(this.$root.session.mindmap.selected.content.links=this.$root.session.mindmap.selected.content.links.filter((t=>{if(t.from!==e&&t.to!==e)return!0})),delete this.$root.session.mindmap.selected.content.nodes[e],this.savechange())},savechange(){console.log("list changed"),this.$root.UpdateRecord("Mindmap",this.$root.$data.session.mindmap.selected.uuid,this.$root.$data.session.mindmap.selected)},imageCallback(){console.log("Callback fired")},addImage(){this.$root.imagemanager={table:"Gridplanner",targetuuid:this.$root.$data.session.mindmap.selected.uuid,target:this.$root.session.mindmap.selected.content.nodes[this.uuid],updateObj:this.$root.session.mindmap.selected}}},mounted(){this.$root.session.mindmap.selected.content.nodes[this.uuid]||this.resizeTextarea()}};const pu=(0,P.Z)(hu,[["render",uu],["__scopeId","data-v-b6ea114e"]]);var gu=pu;const mu=e=>((0,s.dD)("data-v-ca152e26"),e=e(),(0,s.Cn)(),e),wu=["x1","y1","x2","y2"],vu=mu((()=>(0,s._)("marker",{id:"black-arrow",viewBox:"0 0 10 10",refX:"10",refY:"15",orient:"auto"},[(0,s._)("path",{d:"M 0 0 L 10 5 L 0 10 z"})],-1))),Cu=[vu];function fu(e,t,o,i,n,a){return(0,s.wg)(),(0,s.iD)("line",{class:(0,M.C_)(["link",o.mylink.type]),x1:this.$root.session.mindmap.selected.content.nodes[o.mylink.from].x+100,y1:this.$root.session.mindmap.selected.content.nodes[o.mylink.from].y+15,x2:this.$root.session.mindmap.selected.content.nodes[o.mylink.to].x+100,y2:this.$root.session.mindmap.selected.content.nodes[o.mylink.to].y+15,onClick:t[0]||(t[0]=(...e)=>a.deletelink&&a.deletelink(...e))},Cu,10,wu)}var Hu={name:"LinkNodes",props:{mylink:Object,myindex:Number},methods:{deletelink(){console.log("delete",this.myindex),this.$root.session.mindmap.selected.content.links.splice(this.myindex,1),this.savechange()}},savechange(){console.log("list changed"),this.$root.UpdateRecord("Mindmap",this.$root.$data.session.mindmap.selected.uuid,this.$root.$data.session.mindmap.selected)}};const Lu=(0,P.Z)(Hu,[["render",fu],["__scopeId","data-v-ca152e26"]]);var Vu=Lu,_u={name:"WorkSpace",components:{NodeBox:gu,LinkNodes:Vu},mounted(){if(!this.$root.session.mindmap.selected.content){let e={nodes:{},links:[]};this.$root.session.mindmap.selected.content=e}console.log(this.$root.session.mindmap.selected)}};const yu=(0,P.Z)(_u,[["render",Xc],["__scopeId","data-v-57abaaa0"]]);var ku=yu,bu={name:"MindMapHome",components:{WorkSpace:ku,ToolBox:Jc},data(){return{title:null,description:null,showaddform:!1,MindMaps:this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Mindmap.toArray())))}},methods:{deleteItem(e){confirm("Are toy sure you want to delete this?")&&this.$root.DeleteRecord("Mindmap",e.uuid)},chooseItem(e){this.$root.session.mindmap.selected=this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Mindmap.get(e.uuid))))},addItem(){if(!this.title)return alert(this.$root.setlang.tools.warn),!1;let e={};e.title=this.title,e.description=this.description,e.uuid=this.$root.uuid(),this.$root.AddRecord("Mindmap",e),this.title="",this.description="",this.showaddform=!1}},created(){this.$root.session.mindmap||(this.$root.session.mindmap={},this.$root.session.mindmap.linkstyle="solid",this.$root.session.mindmap.currentnode=null)}};const $u=(0,P.Z)(bu,[["render",Sc]]);var Du=$u;const xu={key:0,id:"ToolHome"},Mu={class:"wavemaker_info_box"},Au={style:{width:"100%"}},Bu={style:{width:"50px"}},Iu=(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M18,14H20V17H23V19H20V22H18V19H15V17H18V14M4,3H18A2,2 0 0,1 20,5V12.08C18.45,11.82 16.92,12.18 15.68,13H12V17H13.08C12.97,17.68 12.97,18.35 13.08,19H4A2,2 0 0,1 2,17V5A2,2 0 0,1 4,3M4,7V11H10V7H4M12,7V11H18V7H12M4,13V17H10V13H4Z"})],-1),Su=[Iu],Eu={key:0},Tu=(0,s._)("hr",null,null,-1),Uu=["placeholder"],Zu={style:{"text-align":"right"}},Nu=(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})],-1),ju=[Nu],zu=(0,s._)("hr",null,null,-1),Pu={key:1,style:{width:"100%"}},Fu={class:"title"},Gu=(0,s._)("br",null,null,-1),Ru={style:{width:"50px"}},Wu=["onClick"],qu=(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"})],-1),Ou=[qu],Yu={style:{width:"50px"}},Ju=["onClick"],Ku={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Qu=(0,s._)("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"},null,-1),Xu=[Qu],eh={key:1};function th(e,t,o,n,a,l){const r=(0,s.up)("Gridplanner");return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.$root.session.gridplanner.selected?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",xu,[(0,s._)("div",Mu,[(0,s._)("table",Au,[(0,s._)("tr",null,[(0,s._)("td",null,[(0,s._)("h1",null,(0,M.zw)(this.$root.setlang.tools.gridplanner),1)]),(0,s._)("td",Bu,[(0,s._)("button",{onClick:t[0]||(t[0]=e=>a.showaddform=!a.showaddform),class:"interfaceBtn"},Su)])])]),a.showaddform?((0,s.wg)(),(0,s.iD)("div",Eu,[Tu,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>a.title=e),placeholder:this.$root.setlang.tools.name,class:"formInput"},null,8,Uu),[[i.nr,a.title]]),(0,s._)("div",Zu,[(0,s._)("button",{onClick:t[2]||(t[2]=(...e)=>l.addItem&&l.addItem(...e)),class:"interfaceBtn"},ju)])])):(0,s.kq)("",!0),zu,a.showaddform?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("table",Pu,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.Gridplanners,((t,o)=>((0,s.wg)(),(0,s.iD)("tr",{key:o},[(0,s._)("td",null,[(0,s._)("div",Fu,(0,M.zw)(t.title),1),(0,s._)("i",null,[Gu,(0,s.Uk)(" "+(0,M.zw)(e.$root.niceDate(t.lastupdated)),1)])]),(0,s._)("td",Ru,[(0,s._)("button",{onClick:e=>l.chooseItem(t),class:"interfaceBtn"},Ou,8,Wu)]),(0,s._)("td",Yu,[(0,s._)("button",{onClick:e=>l.deleteItem(t),class:"interfaceBtn deleteBtn"},[((0,s.wg)(),(0,s.iD)("svg",Ku,Xu))],8,Ju)])])))),128))]))])])),e.$root.session.gridplanner.selected?((0,s.wg)(),(0,s.iD)("div",eh,[(0,s.Wm)(r)])):(0,s.kq)("",!0)],64)}const oh=e=>((0,s.dD)("data-v-12721263"),e=e(),(0,s.Cn)(),e),ih={class:"scroller"},sh={id:"toolbox"},nh={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},ah=oh((()=>(0,s._)("path",{d:"M22,10A2,2 0 0,1 20,12H4A2,2 0 0,1 2,10V3H4V5H8V3H10V5H14V3H16V5H20V3H22V10M4,10H8V7H4V10M10,10H14V7H10V10M20,10V7H16V10H20M11,14H13V17H16V19H13V22H11V19H8V17H11V14Z"},null,-1))),lh=[ah],rh={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},dh=oh((()=>(0,s._)("path",{d:"M11,2A2,2 0 0,1 13,4V20A2,2 0 0,1 11,22H2V2H11M4,10V14H11V10H4M4,16V20H11V16H4M4,4V8H11V4H4M15,11H18V8H20V11H23V13H20V16H18V13H15V11Z"},null,-1))),ch=[dh],uh={class:"handle"},hh={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},ph=oh((()=>(0,s._)("path",{d:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"},null,-1))),gh=[ph],mh=["onClick"],wh={viewBox:"0 0 24 24",style:{width:"18px",height:"18px"}},vh=oh((()=>(0,s._)("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1))),Ch=[vh],fh=["onUpdate:modelValue","placeholder"],Hh={class:"headerBlock v-handle"},Lh={class:"handle"},Vh={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},_h=oh((()=>(0,s._)("path",{d:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"},null,-1))),yh=[_h],kh=["onClick"],bh={viewBox:"0 0 24 24",style:{width:"18px",height:"18px"}},$h=oh((()=>(0,s._)("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1))),Dh=[$h],xh=["onUpdate:modelValue","placeholder"];function Mh(e,t,o,n,a,l){const r=(0,s.up)("VueDraggableNext"),d=(0,s.up)("GridPlannerCell");return(0,s.wg)(),(0,s.iD)("div",ih,[(0,s._)("div",sh,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.$root.session.gridplanner.selected.title=t),class:"titleinput",onChange:t[1]||(t[1]=(...e)=>l.updateDatabase&&l.updateDatabase(...e))},null,544),[[i.nr,e.$root.session.gridplanner.selected.title]]),(0,s._)("button",{onClick:t[2]||(t[2]=(...e)=>l.addRow&&l.addRow(...e)),class:"toolbutton"},[((0,s.wg)(),(0,s.iD)("svg",nh,lh))]),(0,s._)("button",{onClick:t[3]||(t[3]=(...e)=>l.addCol&&l.addCol(...e)),class:"toolbutton"},[((0,s.wg)(),(0,s.iD)("svg",rh,ch))])]),this.$root.session.gridplanner.selected.content.headers?((0,s.wg)(),(0,s.iD)("table",{key:0,style:(0,M.j5)("width :"+l.tableWidth+"px;")},[(0,s._)("thead",null,[(0,s.Wm)(r,(0,s.dG)({modelValue:this.$root.session.gridplanner.selected.content.headers,"onUpdate:modelValue":t[5]||(t[5]=e=>this.$root.session.gridplanner.selected.content.headers=e),tag:"tr","component-data":{type:"transition-group",name:a.drag?null:"flip-list"},onStart:t[6]||(t[6]=e=>a.drag=!0),onEnd:t[7]||(t[7]=e=>a.drag=!1)},l.HeaderDragOptions,{handle:".handle",onChange:t[8]||(t[8]=e=>l.updateDatabase())}),{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default",{},(()=>[(0,s.Uk)(" ")]),!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.$root.session.gridplanner.selected.content.headers,((e,o)=>((0,s.wg)(),(0,s.iD)("th",{key:o,class:"headerBlock",scope:"col",style:(0,M.j5)("width :"+a.colwidth+"px;")},[(0,s._)("div",uh,[((0,s.wg)(),(0,s.iD)("svg",hh,gh))]),(0,s._)("button",{class:"deleteIconButton",tabindex:"0",onClick:e=>l.deleteCol(o)},[((0,s.wg)(),(0,s.iD)("svg",wh,Ch))],8,mh),(0,s.wy)((0,s._)("input",{class:"headerInput",onChange:t[4]||(t[4]=e=>l.updateDatabase()),"onUpdate:modelValue":t=>e.title=t,placeholder:this.$root.setlang.gridplanner.newcol},null,40,fh),[[i.nr,e.title]])],4)))),128))])),_:3},16,["modelValue","component-data"])]),(0,s.Wm)(r,(0,s.dG)({modelValue:this.$root.session.gridplanner.selected.content.rows,"onUpdate:modelValue":t[11]||(t[11]=e=>this.$root.session.gridplanner.selected.content.rows=e),tag:"tbody","component-data":{type:"transition-group",name:a.drag?null:"flip-list"},onStart:t[12]||(t[12]=e=>a.drag=!0),onEnd:t[13]||(t[13]=e=>a.drag=!1)},l.dragOptions,{handle:".handle",onChange:t[14]||(t[14]=e=>l.updateDatabase())}),{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.$root.session.gridplanner.selected.content.rows,((e,o)=>((0,s.wg)(),(0,s.iD)("tr",{key:o},[(0,s._)("th",Hh,[(0,s._)("div",Lh,[((0,s.wg)(),(0,s.iD)("svg",Vh,yh))]),(0,s._)("button",{class:"deleteIconButton",tabindex:"0",onClick:e=>l.deleteRow(o)},[((0,s.wg)(),(0,s.iD)("svg",bh,Dh))],8,kh),(0,s.wy)((0,s._)("input",{class:"rowInput",onChange:t[9]||(t[9]=e=>l.updateDatabase()),"onUpdate:modelValue":t=>e.title=t,placeholder:this.$root.setlang.gridplanner.newrow},null,40,xh),[[i.nr,e.title]])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.$root.session.gridplanner.selected.content.headers,(o=>((0,s.wg)(),(0,s.iD)("td",{key:o},[(0,s.Wm)(d,{parentList:e.cells[o.uuid],onMakeChange:t[10]||(t[10]=e=>l.updateDatabase())},null,8,["parentList"])])))),128))])))),128))])),_:1},16,["modelValue","component-data"])],4)):(0,s.kq)("",!0)])}const Ah=e=>((0,s.dD)("data-v-4da1abfa"),e=e(),(0,s.Cn)(),e),Bh={class:"clearInterfaceIconButton cardHandle"},Ih={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},Sh=Ah((()=>(0,s._)("path",{d:"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"},null,-1))),Eh=[Sh],Th=["onClick"],Uh={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},Zh=Ah((()=>(0,s._)("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1))),Nh=[Zh],jh={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},zh=Ah((()=>(0,s._)("path",{d:"M13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.9 4 4 4H20C21.11 4 22 4.89 22 6V13.81C21.12 13.3 20.09 13 19 13C15.69 13 13 15.69 13 19C13 19.34 13.04 19.67 13.09 20M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"},null,-1))),Ph=[zh];function Fh(e,t,o,i,n,a){const l=(0,s.up)("CardViewer"),r=(0,s.up)("VueDraggableNext");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(r,(0,s.dG)({list:o.parentList,tag:"transition-group",group:"board",class:"list-group-card","component-data":{tag:"div",type:"transition-group",name:n.drag?null:"flip-list"},handle:".cardHandle"},a.dragOptions,{onStart:t[0]||(t[0]=e=>n.drag=!0),onEnd:t[1]||(t[1]=e=>n.drag=!1),emptyInsertThreshold:90,onChange:a.updateDatabase}),{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.parentList,((t,o)=>((0,s.wg)(),(0,s.iD)("div",{key:o,class:"list-group-card-item",tabindex:"0"},[((0,s.wg)(),(0,s.j4)(l,{cardid:t.uuid,allowlink:!0,onLinkcard:a.linkCard,key:e.$root.uuid()},null,8,["cardid","onLinkcard"])),(0,s._)("div",Bh,[((0,s.wg)(),(0,s.iD)("svg",Ih,Eh))]),(0,s._)("button",{class:"deleteIconButton",onClick:e=>a.deleteNote(o),tabindex:"0"},[((0,s.wg)(),(0,s.iD)("svg",Uh,Nh))],8,Th)])))),128))])),_:1},16,["list","component-data","onChange"]),(0,s._)("button",{class:(0,M.C_)(["add-card",{bigbtn:!o.parentList.length}]),onClick:t[2]||(t[2]=e=>a.addCard(o.parentList))},[((0,s.wg)(),(0,s.iD)("svg",jh,Ph))],2)],64)}var Gh={name:"GridPlannerCell",emits:["MakeChange"],components:{VueDraggableNext:vs.J,CardViewer:Fn},props:{parentList:{type:Array,required:!0}},computed:{dragOptions(){return{animation:200,group:"Cards",disabled:!1,ghostClass:"ghost"}}},data(){return{drag:!1,colWidth:320}},methods:{linkCard(e,t){var o=this.parentList.find((e=>e.uuid===t));o.uuid=e,this.updateDatabase()},deleteNote(e){confirm("delete this note?")&&(this.parentList.splice(e,1),this.updateDatabase())},addCard(){let e={};e.uuid=this.$root.uuid(),this.parentList.push(e),this.updateDatabase()},updateDatabase(){this.$emit("MakeChange")}}};const Rh=(0,P.Z)(Gh,[["render",Fh],["__scopeId","data-v-4da1abfa"]]);var Wh=Rh,qh={name:"GridPlanner",components:{VueDraggableNext:vs.J,GridPlannerCell:Wh},computed:{HeaderDragOptions(){return{animation:200,group:"headers",disabled:!1,ghostClass:"ghost"}},dragOptions(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}},tableWidth(){return(this.$root.session.gridplanner.selected.content.headers.length+1)*this.colwidth}},data(){return{colwidth:300,drag:!1}},methods:{updateDatabase(){console.log("Grid updateDatabase"),this.$root.UpdateRecord("Gridplanner",this.$root.session.gridplanner.selected.uuid,this.$root.session.gridplanner.selected)},addCol(){let e={};e.uuid=this.$root.uuid(),e.title="",this.$root.session.gridplanner.selected.content.headers.push(e),this.$root.session.gridplanner.selected.content.rows.forEach((t=>{t.cells[e.uuid]=[]})),this.updateDatabase()},addRow(){let e={title:"",cells:{}};this.$root.session.gridplanner.selected.content.headers.forEach((t=>{e.cells[t.uuid]=[]})),this.$root.session.gridplanner.selected.content.rows.push(e),this.updateDatabase()},deleteCol(e){if(confirm(this.$root.setlang.gridplanner.deletecolwarn)){console.log(e);let t=this.$root.session.gridplanner.selected.content.headers[e].uuid;console.log(t),this.$root.session.gridplanner.selected.content.rows.forEach((e=>{delete e.cells[t]})),this.$root.session.gridplanner.selected.content.headers.splice(e,1),this.updateDatabase()}},deleteRow(e){confirm(this.$root.setlang.gridplanner.deleterowwarn)&&(this.$root.session.gridplanner.selected.content.rows.splice(e,1),this.updateDatabase())}}};const Oh=(0,P.Z)(qh,[["render",Mh],["__scopeId","data-v-12721263"]]);var Yh=Oh,Jh={name:"GridPlannerHome",components:{Gridplanner:Yh},data(){return{title:null,description:null,showaddform:!1,Gridplanners:this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Gridplanner.toArray())))}},methods:{deleteItem(e){confirm("Are toy sure you want to delete this?")&&this.$root.DeleteRecord("Gridplanner",e.uuid)},chooseItem(e){this.$root.session.gridplanner.selected=this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Gridplanner.get(e.uuid))))},addItem(){if(!this.title)return alert(this.$root.setlang.tools.warn),!1;let e={};e.title=this.title,e.description=this.description,e.content={headers:[],rows:[]},e.uuid=this.$root.uuid(),this.$root.AddRecord("Gridplanner",e),this.title="",this.description="",this.showaddform=!1}},created(){this.$root.session.gridplanner||(this.$root.session.gridplanner={})}};const Kh=(0,P.Z)(Jh,[["render",th]]);var Qh=Kh;const Xh=e=>((0,s.dD)("data-v-234c3e14"),e=e(),(0,s.Cn)(),e),ep={class:"blackout",ref:"scrolltarget"},tp={class:"distractionfree"},op={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},ip=Xh((()=>(0,s._)("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1))),sp=[ip];function np(e,t,o,i,n,a){const l=(0,s.up)("EditorContent");return(0,s.wg)(),(0,s.iD)("div",ep,[(0,s._)("div",tp,[n.editor?((0,s.wg)(),(0,s.j4)(l,{key:0,editor:n.editor},null,8,["editor"])):(0,s.kq)("",!0)]),(0,s._)("button",{onClick:t[0]||(t[0]=e=>this.$root.session.selectedTool="writer"),class:"closebutton"},[((0,s.wg)(),(0,s.iD)("svg",op,sp))])],512)}var ap={name:"DistractionFree",components:{EditorContent:La.kg},data(){return{item:this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Files.get(this.$root.session.writer.file.uuid)))),editor:null,updateUUID:null,mypos:0,keycount:1}},methods:{changed(){this.$root.UpdateRecord("Files",this.item.uuid,this.item)},repositionEditor(){if(this.mypos=this.getCaretPosition(),0!=this.mypos){let e=parseInt(this.mypos)+this.$refs.scrolltarget.scrollTop-window.innerHeight/2;this.$refs.scrolltarget.scrollTo({top:e,behavior:"smooth"})}},getCaretPosition(){var e,t,o=0;return e=window.getSelection(),t=e.getRangeAt(0),o=t.getBoundingClientRect(),o.y}},mounted(){this.updateUUID=this.$root.uuid(),this.$watch("item",((e,t)=>{if(!t)return this.editor.commands.setContent(e.content),!1;e.updateUUID!=this.updateUUID&&this.editor.commands.setContent(e.content)})),this.editor=new La.ML({extensions:[Va.Z,_a.ZP,ya.ZP],content:"",onTransaction:()=>{this.repositionEditor()},onUpdate:()=>{this.$root.session.settings.documentprefs.typesound&&(window["typesound"+this.keycount].play(),9===this.keycount&&(this.keycount=0),this.keycount++),this.item.wordcount=this.$root.wordCounter(this.editor.getHTML()),this.item.content=this.editor.getHTML(),this.item.updateUUID=this.updateUUID,this.changed()}})},beforeUnmount(){this.editor&&this.editor.destroy()}};const lp=(0,P.Z)(ap,[["render",np],["__scopeId","data-v-234c3e14"]]);var rp=lp,dp={name:"StartApp",components:{ToolBar:Jo,ProjectInfo:ci,WriterMenu:Ia,PlanningBoardHome:Xl,SnowFlake:dd,TimeLine:lc,MindMapHome:Du,CardsDatabaseHome:tl,GridPlannerHome:Qh,DistractionFree:rp},methods:{},async mounted(){let e=new URLSearchParams(document.location.search),t=e.get("sc"),o=e.get("sel");e.delete("sc"),e.delete("sel"),"planningboard"===t&&(this.$root.session.writer={},this.$root.session.writer.selected=this.$root.useObservable(this.$root.liveQuery((()=>this.$root.db.Writer.get(o)))),this.$root.session.selectedTool=t),localStorage.getItem("wmDev")&&(this.session=JSON.parse(localStorage.getItem("wmDev"))),window.addEventListener("beforeunload",this.$root.unloadEvent)}};const cp=(0,P.Z)(dp,[["render",lo],["__scopeId","data-v-2c18464a"]]);var up=cp,hp=o(7632),pp=JSON.parse('{"en":{"info":{"name":"English","textdirection":"ltr"},"welcome":{"getstarted":"New Project","loadfile":"Load a file from your device","loadgoogle":"Load a file from Google Drive","info":"Create a new file, or load an existing one"},"start":{"projectlabel":"Your Project Name","welcome":"Welcome to Wavemaker Version 4","help":"Help & Guides on how to use Wavemaker"},"google":{"info":"Login to Google Drive","saveinfo":"Save Current Project","files":"Your Files","save":"Save File","search":"Search for Files","logout":"Log Out","close":"Close window"},"settings":{"title":"Settings","close":"Close this file","themes":"Choose a Theme","lang":"Choose a Language","clear":"This will clear the project"},"tools":{"writer":"Your Manuscripts","planningboard":"Your Planning Boards","mindmap":"Your Mindmaps","snowflake":"Your Snowflakes","timeline":"Your Timeline","gridplanner":"Your Grid Planners","cardsdatabase":"Your Cards","name":"Name","description":"Description (optional)","warn":"Please provide a Name"},"writer":{"settings":"Manuscript Settings","newfile":"New Section","deletewarn":"Do you want to delete this item? Any cards you have created will remain in the database","intro":"This is the main page for your document. Options are below.","docdownload":"Export a .doc file of this manuscript","words":"Words"},"mindmap":{"deletenodewarn":"Do you want to delete this node?"},"snowflake":{"title":"Title","deletewarn":"Are You sure you want to delete this card?","replacewarn":"This will replace your card with the three new ones."},"timeline":{"date":"Date/Time","title":"Title"},"gridplanner":{"newrow":"New Row","newcol":"New Column"},"db":{"search":"Search by keywords","clear":"Clear Tags","deletecolwarn":"Delete this column?","deleterowwarn":"Delete this row?"},"cards":{"createnewbtn":"Create New","linkexisting":"Link Existing Card","cardtitle":"Card Title","cardnotes":"Card Notes","cardtags":"Card Tags","moredetail":"More Detail","images":"Images (click on an image to select it)","openimagemanager":"Open Image Manager","close":"Close"}},"de":{"info":{"name":"Deutsch","textdirection":"ltr"},"welcome":{"getstarted":"Neues Projekt","loadfile":"Laden Sie eine Datei von Ihrem Gerät","loadgoogle":"Laden Sie eine Datei von Google Drive","info":"Erstellen Sie eine neue Datei oder laden Sie eine vorhandene"},"start":{"projectlabel":"Ihr Projektname","welcome":"Willkommen bei Wavemaker Version 4","help":"Hilfe und Anleitungen zur Verwendung von Wavemaker"},"google":{"info":"Bei Google Drive anmelden","saveinfo":"Aktuelles Projekt speichern","files":"Ihre Dateien","save":"Datei speichern","search":"Nach Dateien suchen","logout":"Abmelden","close":"Fenster schließen"},"settings":{"title":"Einstellungen","close":"Diese Datei schließen","themes":"Design auswählen","lang":"Sprache auswählen","clear":"Dadurch wird das Projekt gelöscht"},"tools":{"writer":"Ihre Manuskripte","planningboard":"Ihre Plantafeln","mindmap":"Ihre Mindmaps","snowflake":"Ihre Schneeflocken","timeline":"Ihre Zeitleiste","gridplanner":"Ihre Rasterplaner","cardsdatabase":"Ihre Karten","name":"Name","description":"Beschreibung (optional)","warn":"Bitte geben Sie einen Namen ein"},"writer":{"settings":"Manuskripteinstellungen","newfile":"Neuer Abschnitt","deletewarn":"Möchten Sie dieses Element löschen? Alle von Ihnen erstellten Karten bleiben in der Datenbank","intro":"Dies ist die Hauptseite für Ihr Dokument. Optionen sind unten.","docdownload":"Exportieren Sie eine .doc-Datei dieses Manuskripts","words":"Wörter"},"mindmap":{"deletenodewarn":"Möchten Sie diesen Knoten löschen?"},"snowflake":{"title":"Titel","deletewarn":"Möchten Sie diese Karte wirklich löschen?","replacewarn":"Dadurch wird Ihre Karte durch die drei neuen ersetzt."},"timeline":{"date":"Datum/Uhrzeit","title":"Titel"},"gridplanner":{"newrow":"Neue Zeile","newcol":"Neue Spalte"},"db":{"search":"Suche nach Schlüsselwörtern","clear":"Tags löschen","deletecolwarn":"Diese Spalte löschen?","deleterowwarn":"Diese Zeile löschen?"},"cards":{"createnewbtn":"Neu erstellen","linkexisting":"Vorhandene Karte verknüpfen","cardtitle":"Kartentitel","cardnotes":"Kartennotizen","cardtags":"Karten-Tags","moredetail":"Mehr Details","images":"Bilder (klicken Sie auf ein Bild, um es auszuwählen)","openimagemanager":"Bild-Manager öffnen","close":"Schließen"}},"es":{"info":{"name":"Español","textdirection":"ltr"},"welcome":{"getstarted":"Proyecto nuevo","loadfile":"Cargar un archivo desde su dispositivo","loadgoogle":"Cargar un archivo desde Google Drive","info":"Crear un archivo nuevo o cargar uno existente"},"start":{"projectlabel":"Nombre de su proyecto","welcome":"Bienvenido a la versión 4 de Wavemaker","help":"Ayuda y guías sobre cómo usar Wavemaker"},"google":{"info":"Iniciar sesión en Google Drive","saveinfo":"Guardar proyecto actual","files":"Sus archivos","save":"Guardar archivo","search":"Buscar archivos","logout":"Cerrar sesión","close":"Cerrar ventana"},"settings":{"title":"Configuración","close":"Cerrar este archivo","themes":"Elegir un tema","lang":"Elegir un idioma","clear":"Esto borrará el proyecto"},"tools":{"writer":"Sus manuscritos","planningboard":"Su Tableros de planificación","mindmap":"Sus mapas mentales","snowflake":"Sus copos de nieve","timeline":"Su línea de tiempo","gridplanner":"Sus planificadores de cuadrícula","cardsdatabase":"Sus tarjetas","name":"Nombre","description":"Descripción (opcional)","warn":"Proporcione un nombre"},"writer":{"settings":"Configuración del manuscrito","newfile":"Nueva sección","deletewarn":"¿Desea eliminar este elemento? Todas las tarjetas que haya creado permanecerán en la base de datos","intro":"Esta es la página principal de su documento. Las opciones están abajo.","docdownload":"Exportar un archivo .doc de este manuscrito","words":"Palabras"},"mindmap":{"deletenodewarn":"¿Desea eliminar este nodo?"},"snowflake":{"title":"Título","deletewarn":"¿Está seguro de que desea eliminar esta tarjeta?","replacewarn":"Esto reemplazará su tarjeta con las tres nuevas."},"timeline":{"date":"Fecha/hora","title":"Título"},"gridplanner":{"newrow":"Nueva fila","newcol":"Nueva columna"},"db":{"search":"Buscar por palabras clave","clear":"Borrar etiquetas","deletecolwarn":"¿Eliminar esta columna?","deleterowwarn":"¿Eliminar esta fila?"},"cards":{"createnewbtn":"Crear nueva","linkexisting":"Vincular tarjeta existente","cardtitle":"Título de tarjeta","cardnotes":"Notas de tarjeta","cardtags":"Etiquetas de tarjeta","moredetail":"Más detalles","images":"Imágenes (haga clic en una imagen para seleccionarla)","openimagemanager":"Abrir administrador de imágenes","close":"Cerrar\\n"}},"fr":{"info":{"name":"Français","textdirection":"ltr"},"welcome":{"getstarted":"Nouveau projet","loadfile":"Chargez un fichier depuis votre appareil","loadgoogle":"Chargez un fichier depuis Google Drive","info":"Créez un nouveau fichier ou chargez-en un existant"},"start":{"projectlabel":"Le nom de votre projet","welcome":"Bienvenue dans Wavemaker Version 4","help":"Aide et guides sur l\'utilisation de Wavemaker"},"google":{"info":"Se connecter à Google Drive","saveinfo":"Enregistrer le projet en cours","files":"Vos fichiers","save":"Enregistrer le fichier","search":"Rechercher des fichiers","logout":"Se déconnecter","close":"Fermer la fenêtre"},"settings":{"title":"Paramètres","close":"Fermer ce fichier","themes":"Choisir un thème","lang":"Choisir une langue","clear":"Cela effacera le projet"},"tools":{"writer":"Vos manuscrits","planningboard":"Vos Tableaux de planification","mindmap":"Vos cartes mentales","snowflake":"Vos flocons de neige","timeline":"Votre chronologie","gridplanner":"Vos planificateurs de grille","cardsdatabase":"Vos cartes","name":"Nom","description":"Description (facultatif)","warn":"Veuillez fournir un nom"},"writer":{"settings":"Paramètres du manuscrit","newfile":"Nouvelle section","deletewarn":"Voulez-vous supprimer cet élément ? Toutes les cartes que vous avez créées resteront dans la base de données","intro":"Il s\'agit de la page principale de votre document. Les options sont ci-dessous.","docdownload":"Exporter un fichier .doc de ce manuscrit","words":"Mots"},"mindmap":{"deletenodewarn":"Voulez-vous supprimer ce nœud ?"},"snowflake":{"title":"Titre","deletewarn":"Voulez-vous vraiment supprimer cette carte ?","replacewarn":"Cela remplacera votre carte par les trois nouvelles."},"timeline":{"date":"Date/Heure","title":"Titre"},"gridplanner":{"newrow":"Nouvelle ligne","newcol":"Nouvelle colonne"},"db":{"search":"Recherche par mots clés","clear":"Effacer les balises","deletecolwarn":"Supprimer cette colonne ?","deleterowwarn":"Supprimer cette ligne ?"},"cards":{"createnewbtn":"Créer un nouveau","linkexisting":"Lier une carte existante","cardtitle":"Titre de la carte","cardnotes":"Notes de la carte","cardtags":"Étiquettes de la carte","moredetail":"Plus de détails","images":"Images (cliquez sur une image pour la sélectionner)","openimagemanager":"Ouvrir le gestionnaire d\'images","close":"Fermer"}},"cy":{"info":{"name":"Cymraeg","textdirection":"ltr"},"welcome":{"getstarted":"Prosiect Newydd","loadfile":"Llwytho ffeil o\'ch dyfais","loadgoogle":"Llwytho ffeil o Google Drive","info":"Creu ffeil newydd, neu lwytho un sy\'n bodoli"},"start":{"projectlabel":"Enw eich Prosiect","welcome":"Croeso i Wavemaker Fersiwn 4","help":"Cymorth a Chanllawiau ar sut i ddefnyddio Wavemaker"},"google":{"info":"Mewngofnodi i Google Drive","saveinfo":"Cadw Prosiect Cyfredol","files":"Eich Ffeiliau","save":"Cadw Ffeil","search":"Chwilio am Ffeiliau","logout":"Allgofnodi","close":"Cau ffenestr"},"settings":{"title":"Gosodiadau","close":"Cau\'r ffeil","themes":"Dewis Thema","lang":"Dewis Iaith","clear":"Bydd hyn yn clirio\'r prosiect"},"tools":{"writer":"Eich Llawysgrifau","planningboard":"Eich Byrddau Cynllunio","mindmap":"Eich Mapiau Meddwl","snowflake":"Eich plu eira","timeline":"Eich Llinell Amser","gridplanner":"Eich Cynllunwyr Grid","cardsdatabase":"Eich Cardiau","name":"Enw","description":"Disgrifiad (dewisol)","warn":"Rhowch Enw"},"writer":{"settings":"Gosodiadau Llawysgrif","newfile":"Adran Newydd","deletewarn":"Ydych chi am ddileu\'r eitem hon? Bydd unrhyw gardiau rydych wedi\'u creu yn aros yn y gronfa ddata","intro":"Dyma brif dudalen eich dogfen. Mae\'r opsiynau isod.","docdownload":"Allforio ffeil .doc o\'r llawysgrif hon","words":"Geiriau"},"mindmap":{"deletenodewarn":"Ydych chi am ddileu\'r nod hwn?"},"snowflake":{"title":"Teitl","deletewarn":"Ydych chi\'n siŵr eich bod am ddileu\'r cerdyn hwn?","replacewarn":"Bydd hwn yn disodli\'ch cerdyn gyda\'r tri pheth newydd."},"timeline":{"date":"Dyddiad/Amser","title":"Teitl"},"gridplanner":{"newrow":"Rhes Newydd","newcol":"Colofn Newydd"},"db":{"search":"Chwilio yn ôl allweddeiriau","clear":"Clirio Tagiau","deletecolwarn":"Dileu’r golofn hon?","deleterowwarn":"Dileu\'r rhes hon?"},"cards":{"createnewbtn":"Creu Cyswllt Newydd","linkexisting":"Cerdyn Presennol","cardtitle":"Teitl y Cerdyn","cardnotes":"Nodiadau Cerdyn","cardtags":"Tagiau Cerdyn","moredetail":"Mwy o Fanylion","images":"Delweddau (cliciwch ar ddelwedd i\'w ddewis)","openimagemanager":"Agor Rheolwr Delwedd","close":"Cau"}}}');const gp=e=>((0,s.dD)("data-v-2b3925ce"),e=e(),(0,s.Cn)(),e),mp=gp((()=>(0,s._)("div",{id:"overlay"},null,-1))),wp={key:0,class:"scrollHolder"},vp=gp((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"})],-1))),Cp=[vp],fp={class:"colorbox"},Hp={class:"inputHolder"},Lp={class:"inputHolder"},Vp={class:"inputHolder"},_p=["onClick"],yp=gp((()=>(0,s._)("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24","data-v-024bf5af":""},[(0,s._)("path",{d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z","data-v-024bf5af":""})],-1))),kp=[yp],bp={class:"inputHolder"},$p=gp((()=>(0,s._)("hr",null,null,-1))),Dp={class:"inputHolder"},xp=["onClick"],Mp=gp((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"})],-1))),Ap=[Mp],Bp=["title"],Ip=gp((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M7,15L11.5,9L15,13.5L17.5,10.5L21,15M22,4H14L12,2H6A2,2 0 0,0 4,4V16A2,2 0 0,0 6,18H22A2,2 0 0,0 24,16V6A2,2 0 0,0 22,4M2,6H0V11H0V20A2,2 0 0,0 2,22H20V20H2V6Z"})],-1))),Sp=gp((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"})],-1)));function Ep(e,t,o,n,a,l){const r=(0,s.up)("MiniEditor"),d=(0,s.up)("MiniImage");return(0,s.wg)(),(0,s.iD)(s.HY,null,[mp,(0,s.Wm)(i.uT,{name:"bounce"},{default:(0,s.w5)((()=>[a.animate?((0,s.wg)(),(0,s.iD)("div",wp,[a.cardInfo?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"cardEditorHolder",style:(0,M.j5)("background-color: var("+this.cardInfo.color+"); color : var("+this.cardInfo.color+"-f); fill : var("+this.cardInfo.color+"-f)")},[(0,s._)("button",{onClick:t[0]||(t[0]=t=>e.$root.$data.session.EditCard=null),class:"clearInterfaceIconButton closebtn"},Cp),(0,s._)("div",fp,[(0,s._)("button",{class:"c1",onClick:t[1]||(t[1]=e=>l.setCardColor(1))}),(0,s._)("button",{class:"c2",onClick:t[2]||(t[2]=e=>l.setCardColor(2))}),(0,s._)("button",{class:"c3",onClick:t[3]||(t[3]=e=>l.setCardColor(3))}),(0,s._)("button",{class:"c4",onClick:t[4]||(t[4]=e=>l.setCardColor(4))}),(0,s._)("button",{class:"c5",onClick:t[5]||(t[5]=e=>l.setCardColor(5))}),(0,s._)("button",{class:"c6",onClick:t[6]||(t[6]=e=>l.setCardColor(6))}),(0,s._)("button",{class:"c7",onClick:t[7]||(t[7]=e=>l.setCardColor(7))})]),(0,s._)("label",null,(0,M.zw)(this.$root.setlang.cards.cardtitle),1),(0,s._)("div",Hp,[(0,s.wy)((0,s._)("input",{class:"cardTitle",placeholder:"Title","onUpdate:modelValue":t[8]||(t[8]=e=>this.cardInfo.title=e),onChange:t[9]||(t[9]=(...e)=>l.updatecard&&l.updatecard(...e))},null,544),[[i.nr,this.cardInfo.title]])]),(0,s._)("label",null,[(0,s.Uk)((0,M.zw)(this.$root.setlang.cards.cardnotes)+" ",1),(0,s.wy)((0,s._)("input",{type:"checkbox",value:"true","onUpdate:modelValue":t[10]||(t[10]=e=>this.cardInfo.showdesc=e),onChange:t[11]||(t[11]=e=>l.updatecard())},null,544),[[i.e8,this.cardInfo.showdesc]])]),(0,s._)("div",Lp,[(0,s.Wm)(r,{modelValue:this.cardInfo.description,"onUpdate:modelValue":t[12]||(t[12]=e=>this.cardInfo.description=e),onUpdatecard:l.updatecard},null,8,["modelValue","onUpdatecard"])]),(0,s._)("label",null,(0,M.zw)(this.$root.setlang.cards.cardtags),1),(0,s._)("div",Vp,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.cardInfo.labels,((e,t)=>((0,s.wg)(),(0,s.iD)("span",{class:"tag",key:t},[(0,s.Uk)((0,M.zw)(e)+" ",1),(0,s._)("button",{onClick:e=>l.removetag(t)},kp,8,_p)])))),128)),(0,s.wy)((0,s._)("input",{placeholder:"#",onChange:t[13]||(t[13]=(...e)=>l.tagger&&l.tagger(...e)),"onUpdate:modelValue":t[14]||(t[14]=e=>a.tag=e),class:"tagInput",style:(0,M.j5)("width: "+l.taginputwidth+"ch")},null,36),[[i.nr,a.tag]])]),(0,s._)("label",null,(0,M.zw)(this.$root.setlang.cards.moredetail),1),(0,s._)("div",bp,[(0,s.Wm)(r,{modelValue:this.cardInfo.content,"onUpdate:modelValue":t[15]||(t[15]=e=>this.cardInfo.content=e),onUpdatecard:l.updatecard},null,8,["modelValue","onUpdatecard"])]),$p,(0,s._)("label",null,(0,M.zw)(this.$root.setlang.cards.images),1),(0,s._)("div",Dp,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.cardInfo.images,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"imgHolder"},[(0,s._)("button",{class:"deleteBtn",onClick:e=>l.deleteImage(t),style:(0,M.j5)(this.cardInfo.showimage===e?"display:none":"")},Ap,12,xp),(0,s.Wm)(d,{uuid:e,class:(0,M.C_)(this.cardInfo.showimage===e?"selectedImg":"unselectedImg"),onClick:t=>l.chooseImage(e)},null,8,["uuid","class","onClick"])])))),128))]),(0,s._)("button",{onClick:t[16]||(t[16]=e=>l.addImage()),class:"interfaceBtn",title:this.$root.setlang.settings.title},[Ip,(0,s.Uk)(" "+(0,M.zw)(this.$root.setlang.cards.openimagemanager),1)],8,Bp),(0,s._)("button",{onClick:t[17]||(t[17]=t=>e.$root.$data.session.EditCard=null),class:"interfaceBtn",style:{float:"right"}},[Sp,(0,s.Uk)(" "+(0,M.zw)(this.$root.setlang.cards.close),1)])],4)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])),_:1})],64)}var Tp={name:"CardViewer",emits:["cardChange"],components:{MiniEditor:id,MiniImage:jn},computed:{taginputwidth(){return this.tag&&this.tag.length>6?this.tag.length:6},imageList(){let e=[];return this.cardInfo&&this.cardInfo.images.forEach((async t=>{let o=await this.$root.getImage(t);o?e.push(o):this.cardInfo.images=this.cardInfo.images.filter((e=>e!==t))})),e}},data(){return{tag:null,animate:!1,cardInfo:null}},methods:{updatecard(){console.log("updating"),this.cardInfo.updateWindow=this.$root.windowID,this.$root.UpdateRecord("Cards",this.$root.$data.session.EditCard,this.cardInfo)},chooseImage(e){this.cardInfo.showimage!=e?this.cardInfo.showimage=e:this.cardInfo.showimage=null,console.log("image "+e),this.updatecard()},tagger(){this.tag&&(this.cardInfo.labels.push(this.tag),this.tag=null,this.updatecard())},removetag(e){this.cardInfo.labels.splice(e,1),this.updatecard()},setCardColor(e){this.cardInfo.color="--card"+e,this.updatecard()},addImage(){this.$root.imagemanager={table:"Cards",targetuuid:this.$root.$data.session.EditCard,target:this.cardInfo.images,updateObj:this.cardInfo}},deleteImage(e){this.cardInfo.images.splice(e,1),this.updatecard()}},mounted(){this.cardInfo=(0,w.mA)((0,u.Y1)((async()=>await h.Cards.get(this.$root.$data.session.EditCard)))),this.animate=!0}};const Up=(0,P.Z)(Tp,[["render",Ep],["__scopeId","data-v-2b3925ce"]]);var Zp=Up;const Np=e=>((0,s.dD)("data-v-89803c10"),e=e(),(0,s.Cn)(),e),jp=Np((()=>(0,s._)("div",{class:"backdrop"},null,-1))),zp={key:0,class:"imageWindow"},Pp={key:0,class:"imageScroller"},Fp={class:"imgBox"},Gp=["src"],Rp={style:{"margin-top":"-10px","text-align":"right"}},Wp=["onClick"],qp=Np((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M19,19H5V5H19M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M13.96,12.29L11.21,15.83L9.25,13.47L6.5,17H17.5L13.96,12.29Z"})],-1))),Op=["onClick"],Yp=Np((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"})],-1))),Jp={key:1,class:"uploadFrame"},Kp=["src"],Qp=Np((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12.18 17C12.54 15.5 13.43 14.16 14.68 13.25L13.96 12.29L11.21 15.83L9.25 13.47L6.5 17H12.18M5 5V19H12.03C12.09 19.7 12.24 20.38 12.5 21H5C4.47 21 3.96 20.79 3.59 20.41C3.21 20.04 3 19.53 3 19V5C3 3.9 3.9 3 5 3H19C19.53 3 20.04 3.21 20.41 3.59C20.79 3.96 21 4.47 21 5V12.5C20.38 12.24 19.7 12.09 19 12.03V5H5M17.75 22L15 19L16.16 17.84L17.75 19.43L21.34 15.84L22.5 17.25L17.75 22Z"})],-1))),Xp=Np((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M13 19C13 19.7 13.13 20.37 13.35 21H5C3.9 21 3 20.11 3 19V5C3 3.9 3.9 3 5 3H19C20.11 3 21 3.9 21 5V13.35C20.37 13.13 19.7 13 19 13V5H5V19H13M11.21 15.83L9.25 13.47L6.5 17H13.35C13.75 15.88 14.47 14.91 15.4 14.21L13.96 12.29L11.21 15.83M22.54 16.88L21.12 15.47L19 17.59L16.88 15.47L15.47 16.88L17.59 19L15.47 21.12L16.88 22.54L19 20.41L21.12 22.54L22.54 21.12L20.41 19L22.54 16.88Z"})],-1))),eg={class:"toolbar"},tg=Np((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"})],-1))),og=[tg],ig={id:"imageCanvas",ref:"imageCanvas",style:{display:"none"}},sg={key:0},ng=Np((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M13 19C13 19.7 13.13 20.37 13.35 21H5C3.9 21 3 20.11 3 19V5C3 3.9 3.9 3 5 3H19C20.11 3 21 3.9 21 5V13.35C20.37 13.13 19.7 13 19 13V5H5V19H13M13.96 12.29L11.21 15.83L9.25 13.47L6.5 17H13.35C13.75 15.88 14.47 14.91 15.4 14.21L13.96 12.29M20 18V15H18V18H15V20H18V23H20V20H23V18H20Z"})],-1)));function ag(e,t,o,n,a,l){const r=(0,s.up)("masonry-wall");return(0,s.wg)(),(0,s.iD)(s.HY,null,[jp,a.imagesArray?((0,s.wg)(),(0,s.iD)("div",zp,[this.newimage.base64?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Pp,[(0,s.Wm)(r,{items:a.imagesArray,"ssr-columns":1,"column-width":300,gap:16},{default:(0,s.w5)((({item:e})=>[(0,s._)("div",Fp,[(0,s._)("img",{src:"data:image/png;base64,"+e.base64},null,8,Gp),(0,s._)("div",Rp,[this.$root.imagemanager.targetuuid?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:t=>l.pickImage(e.uuid),class:"interfaceBtn chooseBtn"},[qp,(0,s.Uk)(" Link this Image ")],8,Wp)):(0,s.kq)("",!0),(0,s._)("button",{class:"interfaceBtn deleteBtn",onClick:t=>l.deleteImage(e.uuid)},[Yp,(0,s.Uk)("   ")],8,Op)])])])),_:1},8,["items"])])),this.newimage.base64?((0,s.wg)(),(0,s.iD)("div",Jp,[(0,s._)("img",{src:"data:image/png;base64,"+this.newimage.base64,style:{"max-width":"100%"}},null,8,Kp),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>this.newimage.title=e),class:"formInput",placeholder:"File Name"},null,512),[[i.nr,this.newimage.title]]),(0,s._)("div",null,[(0,s._)("button",{onClick:t[1]||(t[1]=e=>l.addNewImage()),class:"interfaceBtn saveBtn"},[Qp,(0,s.Uk)(" Save ")]),(0,s._)("button",{onClick:t[2]||(t[2]=e=>{this.newimage.title=null,this.newimage.base64=null}),class:"interfaceBtn cancelBtn"},[Xp,(0,s.Uk)(" Cancel ")])])])):(0,s.kq)("",!0),(0,s._)("div",eg,[(0,s._)("button",{class:"interfaceBtn closeBtn topbar",onClick:t[3]||(t[3]=e=>l.closeImageManager())},og),(0,s._)("canvas",ig,null,512),this.newimage.base64?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",sg,[(0,s._)("button",{onClick:t[4]||(t[4]=(...e)=>l.triggerUpload&&l.triggerUpload(...e)),class:"interfaceBtn topbar"},[ng,(0,s.Uk)(" Upload an Image ")]),(0,s._)("input",{type:"file",ref:"imageloader",onChange:t[5]||(t[5]=(...e)=>l.updateCanvasImage&&l.updateCanvasImage(...e)),style:{display:"none"}},null,544)]))])])):(0,s.kq)("",!0)],64)}var lg={name:"ImageViewer",components:{MasonryWall:Qa.Z},data(){return{imagesArray:(0,w.mA)((0,u.Y1)((async()=>await h.ImageLibrary.toArray()))),newimage:{title:null,base64:null}}},methods:{triggerUpload(){this.$refs.imageloader.click()},closeImageManager(){this.$root.EditCardrefresh=this.$root.uuid(),this.$root.imagemanager=null},updateCanvasImage(e){var t=this,o=e.target.files,i=new FileReader;i.onload=e=>{var i=new Image;i.onload=function(){t.drawCanvasImage(i)},i.src=e.target.result,this.newimage.title=o[0].name},i.readAsDataURL(o[0])},drawCanvasImage(e){var t=this.$refs.imageCanvas;t.width=500,t.height=e.height/(e.width/500);var o=t.getContext("2d");o.drawImage(e,0,0,e.width,e.height,0,0,t.width,t.height),this.newimage.base64=t.toDataURL("image/jpeg").split(";base64,")[1]},async addNewImage(){let e=this.$root.uuid(),t={};t.uuid=e,t.title=this.newimage.title,t.base64=this.newimage.base64,await this.$root.AddRecord("ImageLibrary",t),this.newimage.title=null,this.newimage.base64=null},async deleteImage(e){confirm("Delete this Image?")&&await this.$root.db.ImageLibrary.delete(e)},pickImage(e){this.$root.imagemanager.targetuuid&&confirm("Do you want to choose this image?")&&("Cards"===this.$root.imagemanager.table&&this.$root.imagemanager.target.push(e),"Gridplanner"===this.$root.imagemanager.table&&(this.$root.imagemanager.target.text=e),this.$root.UpdateRecord(this.$root.imagemanager.table,this.$root.imagemanager.targetuuid,this.$root.imagemanager.updateObj),this.closeImageManager())}}};const rg=(0,P.Z)(lg,[["render",ag],["__scopeId","data-v-89803c10"]]);var dg=rg;const cg=e=>((0,s.dD)("data-v-4cf4f59c"),e=e(),(0,s.Cn)(),e),ug={class:"backdrop"},hg={class:"window"},pg={style:{width:"100%"}},gg=cg((()=>(0,s._)("td",{style:{width:"75%"}},null,-1))),mg=cg((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"})],-1))),wg=cg((()=>(0,s._)("hr",null,null,-1))),vg=cg((()=>(0,s._)("h1",null,"Version 3 Converter",-1))),Cg=cg((()=>(0,s._)("p",null,[(0,s.Uk)(" Hi, this is a legacy tool to allow you to load your old "),(0,s._)("strong",null,"wavemaker version 3"),(0,s.Uk)(" files into the new version. ")],-1))),fg=cg((()=>(0,s._)("p",null," As the behind the scenes database has changed quite a bit this is a one-way process. ",-1))),Hg=cg((()=>(0,s._)("p",null,'You will need your DATABASE file (go to the main menu by clicking on the logo in wavemaker 3 then export the database) You should then have a file with the extension ".wmdata"',-1))),Lg=cg((()=>(0,s._)("p",null," You will need to import each project and save it to it's own file as they are all seperate in the new version ",-1))),Vg=cg((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z"})],-1))),_g={key:1},yg=cg((()=>(0,s._)("label",null,"Choose a Project to import",-1))),kg=["onClick"],bg=cg((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M6 2C4.89 2 4 2.9 4 4V20C4 21.11 4.89 22 6 22H12V20H6V4H13V9H18V12H20V8L14 2M18 14C17.87 14 17.76 14.09 17.74 14.21L17.55 15.53C17.25 15.66 16.96 15.82 16.7 16L15.46 15.5C15.35 15.5 15.22 15.5 15.15 15.63L14.15 17.36C14.09 17.47 14.11 17.6 14.21 17.68L15.27 18.5C15.25 18.67 15.24 18.83 15.24 19C15.24 19.17 15.25 19.33 15.27 19.5L14.21 20.32C14.12 20.4 14.09 20.53 14.15 20.64L15.15 22.37C15.21 22.5 15.34 22.5 15.46 22.5L16.7 22C16.96 22.18 17.24 22.35 17.55 22.47L17.74 23.79C17.76 23.91 17.86 24 18 24H20C20.11 24 20.22 23.91 20.24 23.79L20.43 22.47C20.73 22.34 21 22.18 21.27 22L22.5 22.5C22.63 22.5 22.76 22.5 22.83 22.37L23.83 20.64C23.89 20.53 23.86 20.4 23.77 20.32L22.7 19.5C22.72 19.33 22.74 19.17 22.74 19C22.74 18.83 22.73 18.67 22.7 18.5L23.76 17.68C23.85 17.6 23.88 17.47 23.82 17.36L22.82 15.63C22.76 15.5 22.63 15.5 22.5 15.5L21.27 16C21 15.82 20.73 15.65 20.42 15.53L20.23 14.21C20.22 14.09 20.11 14 20 14M19 17.5C19.83 17.5 20.5 18.17 20.5 19C20.5 19.83 19.83 20.5 19 20.5C18.16 20.5 17.5 19.83 17.5 19C17.5 18.17 18.17 17.5 19 17.5Z"})],-1)));function $g(e,t,o,i,n,a){return(0,s.wg)(),(0,s.iD)("div",ug,[(0,s._)("div",hg,[(0,s._)("table",pg,[(0,s._)("tr",null,[gg,(0,s._)("td",null,[(0,s._)("button",{onClick:t[0]||(t[0]=t=>e.$root.v3import=!1),class:"interfaceBtn fullw text-left"},[mg,(0,s.Uk)(" Close")])])])]),wg,vg,Cg,fg,Hg,Lg,n.wm3file?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:t[1]||(t[1]=(...e)=>a.file_loadDB&&a.file_loadDB(...e)),class:"interfaceBtn fullw text-left"},[Vg,(0,s.Uk)(" Upload a Wavemaker 3 file")])),n.wm3file?((0,s.wg)(),(0,s.iD)("div",_g,[yg,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.wm3file.projects,((e,t)=>((0,s.wg)(),(0,s.iD)("button",{key:t,onClick:e=>a.startimport(t),class:"interfaceBtn fullw text-left"},[bg,(0,s.Uk)(" "+(0,M.zw)(e.title),1)],8,kg)))),128))])):(0,s.kq)("",!0)]),(0,s._)("input",{type:"file",id:"wavemaker3HiddenPicker",name:"upload",accept:".wmdata",onChange:t[2]||(t[2]=(...e)=>a.file_load&&a.file_load(...e)),style:{display:"none"}},null,32)])}var Dg=o(3787),xg=o.n(Dg),Mg={name:"App",data(){return{wm3file:null,proj:null,filearray:[],copysettings:{}}},methods:{file_loadDB(){document.getElementById("wavemaker3HiddenPicker").click()},file_load(e){var t=new FileReader;t.onload=async e=>{this.wm3file=JSON.parse(e.target.result),console.log("Data File Recieved",this.wm3file)},t.readAsText(e.target.files.item(0))},startimport(e){this.$root.clearDatabase(),this.proj=this.wm3file.projects[e];let t=JSON.parse(JSON.stringify(this.$root.SettingsTemplate));t.uuid=this.$root.uuid(),t.ProjectName=this.proj.title,this.copysettings=t,this.$root.AddRecord("Settings",t);let o=this.$root.uuid();this.filearray=[],this.loopfiles(this.proj.data.writer,this.filearray,o);let i={};i.title=this.proj.title,i.description="",i.files=JSON.parse(JSON.stringify(this.filearray)),i.uuid=this.$root.uuid(),this.$root.AddRecord("Writer",i),this.processCards(),this.processSnowflakes(),this.processgridplanner(),this.processmindmaps(),this.processtimeline(),this.$root.v3import=!1,this.$root.getSettings()},loopfiles(e,t,o){e.forEach((e=>{let i={uuid:this.$root.uuid(),type:"file",children:[],open:!1},s={};if(s.uuid=i.uuid,s.writerid=o,e.data.content){let t=new(xg().Converter),o=t.makeHtml(e.data.content);s.content=o}else s.content="";s.title=e.title,s.notes=[],e.data.notes.length&&e.data.notes.forEach((e=>{0===parseInt(e.backgroundColor)&&(e.backgroundColor=1),6===parseInt(e.backgroundColor)&&(e.backgroundColor=5),e.backgroundColor||(e.backgroundColor=1);let t={};t.uuid=this.$root.uuid(),t.title=e.title,t.description=e.content,t.showdesc=!0,t.content="",t.labels=[],t.images=[],t.style="",t.options={},t.color="--card"+e.backgroundColor,s.notes.push({uuid:t.uuid}),this.$root.AddRecord("Cards",t)})),this.$root.AddRecord("Files",s),e.children&&e.children.length&&this.loopfiles(e.children,i.children,o),t.push(i)}))},processCards(){if(!this.proj.data.cards||!this.proj.data.cards.length)return!1;this.proj.data.cards.forEach((e=>{let t=[];e.images&&e.images.forEach((e=>{let o=this.$root.uuid(),i={},s=e.slice(22);i.uuid=o,i.title="imported",i.base64=s,this.$root.AddRecord("ImageLibrary",i),t.push(o)})),0===e.backgroundColor&&(e.backgroundColor=1),6===e.backgroundColor&&(e.backgroundColor=5);let o=this.nl2br(e.content),i={};i.uuid=this.$root.uuid(),i.title=e.title,i.description=o,i.showdesc=!0,i.content="",i.labels=JSON.parse(JSON.stringify(e.tags)),i.images=t,i.style="",i.options={},i.color="--card1",t.length&&(i.showimage=t[0]),this.$root.AddRecord("Cards",i)}))},nl2br(e,t){if("undefined"===typeof e||null===e)return"";var o=t||"undefined"===typeof t?"<br />":"<br>";return(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+o+"$2")},processSnowflakes(){if(!this.proj.data.snowflake)return console.log("no snowflake"),!1;let e=this.$root.uuid(),t={};t.uuid=e,t.title="Imported Snowflake",t.content=[],this.proj.data.snowflake.forEach((e=>{let o={};o.title=e.title,o.content=e.content,o.children=[{title:e.subcard1.title,content:e.subcard1.content,children:[]},{title:e.subcard2.title,content:e.subcard2.content,children:[]},{title:e.subcard3.title,content:e.subcard3.content,children:[]}],t.content.push(o)})),this.$root.AddRecord("Snowflake",t)},processgridplanner(){if(!this.proj.data.gridplanner)return!1;let e={};e.uuid=this.$root.uuid(),e.title="Imported";let t=this.proj.data.gridplanner,o=null,i=[];t.forEach(((e,t)=>{0===t?o=e:i.push(e)})),e.content={},e.content.headers=[],o.forEach(((t,o)=>{0!=o&&e.content.headers.push({uuid:this.$root.uuid(),title:t.title})})),e.content.rows=[],i.forEach((t=>{let o={};t.forEach(((t,i)=>{if(0===i)o.title=t.title,o.cells={};else{let s=e.content.headers[i-1].uuid;o.cells[s]=[],t.content.forEach((e=>{let t=this.nl2br(e),i={};i.uuid=this.$root.uuid(),i.title="Grid import",i.description=t,i.showdesc=!0,i.content="",i.labels=[],i.images=[],i.style="",i.options={},i.color="--card1",o.cells[s].push({uuid:i.uuid}),this.$root.AddRecord("Cards",i)}))}})),e.content.rows.push(o)})),this.$root.AddRecord("Gridplanner",JSON.parse(JSON.stringify(e)))},processmindmaps(){if(!this.proj.data.mindmaps)return!1;let e=this.proj.data.mindmaps;e.forEach((e=>{let t={};t.title=e.title,t.uuid=this.$root.uuid(),t.content={},t.content.links=[],t.content.nodes={},e.links.forEach((e=>{let o={};o.from=e.start,o.to=e.end,o.type="solid",t.content.links.push(o)})),e.items.forEach((e=>{if(t.content.nodes[e.id]={x:e.left,y:e.top,w:"auto",type:e.type},"image"!=e.type)t.content.nodes[e.id].text=this.nl2br(e.content);else{let o=this.$root.uuid(),i={},s=e.content.slice(22);i.uuid=o,i.title="imported",i.base64=s,this.$root.AddRecord("ImageLibrary",i),t.content.nodes[e.id].text=o}})),this.$root.AddRecord("Mindmap",JSON.parse(JSON.stringify(t)))}))},processtimeline(){if(!this.proj.data.timeline)return!1;let e=this.proj.data.timeline;console.log(">>>>",e);let t={};t.uuid=this.$root.uuid(),t.title="Imported",t.description="Your WM3 timeline",t.content=[],e.forEach((e=>{t.content.push({title:e.title,text:e.content,event:"Your Event"})})),this.$root.AddRecord("Timeline",JSON.parse(JSON.stringify(t)))}}};const Ag=(0,P.Z)(Mg,[["render",$g],["__scopeId","data-v-4cf4f59c"]]);var Bg=Ag,Ig={name:"App",mixins:[c,C,V,H],components:{PopupManager:jt,WelcomeScreen:no,Start:up,CardModal:Zp,ImageManager:dg,Version3Import:Bg},data(){return{myPackage:r,EditCardrefresh:null,theme:"default",themeList:[{name:"Default Wavemaker",file:"default"},{name:"Light Theme",file:"light"},{name:"Blue Sky",file:"bluesky"}],lhspin:!0,rhspin:!0,show:!1,popup:{name:null},lang:"en",language:pp,setlang:null,uuid:hp.Z,session:{},navshow:!0,imagemanager:!1,v3import:!1}},methods:{switchLang(){localStorage.setItem("wmLang",this.lang),this.updateLang()},updateLang(){this.setlang=this.$root.language[this.$root.lang]},openInNew(e){var t=window.innerWidth-window.innerWidth/100*5,o=window.innerHeight-window.innerHeight/100*5;if("planningboard"===e)return window.open("/?sc="+e+"&sel="+this.$root.session.writer.selected.uuid,"PlanningBoard","width="+t+"px,height="+o+"px"),!1;window.open(e,"Info","width="+t+"px,height="+o+"px")},wordCounter(e){return e=e.replace(/(<([^>]+)>)/gi," "),e.split(" ").filter((function(e){return""!=e})).length},niceDate(e){var t=new Date(e);return t.getDate()+"/"+t.getMonth()+"/"+t.getFullYear()+" - "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},screensizefixes(){let e=window.innerWidth;e<720&&(this.lhspin=!1,this.rhspin=!1),e>720&&(this.lhspin=!0,this.rhspin=!0)},SpecialKeys(e){e.shiftKey&&"Enter"===e.key&&console.log("Session :",JSON.parse(JSON.stringify(this.session)))},switchTheme(){document.getElementById("themeSwitch").href="themes/"+this.theme+".css",localStorage.setItem("wmTheme",this.theme)},unloadEvent(e){e.preventDefault(),e.returnValue=""}},async mounted(){let e=await this.$root.db.Settings.toArray();e&&(this.$root.session.settings=e[0]),localStorage.getItem("wmTheme")&&(this.theme=localStorage.getItem("wmTheme"),this.switchTheme()),localStorage.getItem("wmLang")&&"undefined"!=localStorage.getItem("wmLang")?this.lang=localStorage.getItem("wmLang"):this.lang="en",this.updateLang(),window.addEventListener("keydown",this.SpecialKeys),document.body.dir=this.$root.setlang.textdirection,this.screensizefixes()},created(){window.addEventListener("resize",this.screensizefixes)},unmount(){window.removeEventListener("resize",this.screensizefixes)}};const Sg=(0,P.Z)(Ig,[["render",l]]);var Eg=Sg,Tg=o(5205);(0,Tg.z)("service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh."),alert("Wavemaker has updated,  your browser will now reload")&&window.location.reload()},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var Ug=o(3543),Zg={install:e=>{e.component("vue-draggable-resizable",Ug.Z)}};(0,i.ri)(Eg).use(Zg).mount("#app")}},t={};function o(i){var s=t[i];if(void 0!==s)return s.exports;var n=t[i]={exports:{}};return e[i].call(n.exports,n,n.exports,o),n.exports}o.m=e,function(){var e=[];o.O=function(t,i,s,n){if(!i){var a=1/0;for(c=0;c<e.length;c++){i=e[c][0],s=e[c][1],n=e[c][2];for(var l=!0,r=0;r<i.length;r++)(!1&n||a>=n)&&Object.keys(o.O).every((function(e){return o.O[e](i[r])}))?i.splice(r--,1):(l=!1,n<a&&(a=n));if(l){e.splice(c--,1);var d=s();void 0!==d&&(t=d)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[i,s,n]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,i){var s,n,a=i[0],l=i[1],r=i[2],d=0;if(a.some((function(t){return 0!==e[t]}))){for(s in l)o.o(l,s)&&(o.m[s]=l[s]);if(r)var c=r(o)}for(t&&t(i);d<a.length;d++)n=a[d],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(c)},i=self["webpackChunkwavemakercards_v4"]=self["webpackChunkwavemakercards_v4"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=o.O(void 0,[998],(function(){return o(6292)}));i=o.O(i)})();
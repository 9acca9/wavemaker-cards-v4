(function(){"use strict";var e={4826:function(e,t,o){var i=o(9963),s=o(6252);const n={key:0},a={key:1};function l(e,t,o,i,l,r){const d=(0,s.up)("Start"),c=(0,s.up)("WelcomeScreen"),u=(0,s.up)("CardModal"),h=(0,s.up)("ImageManager"),p=(0,s.up)("PopupManager"),g=(0,s.up)("Version3Import");return(0,s.wg)(),(0,s.iD)(s.HY,null,[this.$root.session.settings?((0,s.wg)(),(0,s.iD)("div",n,[(0,s.Wm)(d)])):(0,s.kq)("",!0),this.$root.session.settings?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",a,[(0,s.Wm)(c)])),e.$root.session.EditCard?((0,s.wg)(),(0,s.j4)(u,{key:e.$root.EditCardrefresh})):(0,s.kq)("",!0),e.$root.imagemanager?((0,s.wg)(),(0,s.j4)(h,{key:3})):(0,s.kq)("",!0),(0,s.Wm)(p),l.v3import?((0,s.wg)(),(0,s.j4)(g,{key:4})):(0,s.kq)("",!0),(0,s._)("input",{type:"file",id:"wavemakerHiddenPicker",name:"upload",accept:".wm4",onChange:t[0]||(t[0]=(...t)=>e.file_load&&e.file_load(...t)),style:{display:"none"}},null,32)],64)}var r=JSON.parse('{"name":"wavemakercards-v4","version":"0.1.3","private":true,"description":"Wavemaker cards is software to help you plan and write your novel","scripts":{"serve":"vue-cli-service serve","build":"vue-cli-service build","lint":"vue-cli-service lint","electron:build":"vue-cli-service electron:build","electron:serve":"vue-cli-service electron:serve","postinstall":"electron-builder install-app-deps","postuninstall":"electron-builder install-app-deps"},"main":"background.js","dependencies":{"@tiptap/extension-bubble-menu":"^2.0.0-beta.202","@tiptap/extension-dropcursor":"^2.0.0-beta.25","@tiptap/extension-highlight":"^2.0.0-beta.202","@tiptap/extension-image":"^2.0.0-beta.27","@tiptap/extension-task-item":"^2.0.0-beta.32","@tiptap/extension-task-list":"^2.0.0-beta.26","@tiptap/extension-typography":"^2.0.0-beta.20","@tiptap/starter-kit":"^2.0.0-beta.185","@tiptap/vue-3":"^2.0.0-beta.91","@vueuse/core":"^9.3.1","@vueuse/rxjs":"^9.3.1","@yeger/vue-masonry-wall":"^3.2.22","core-js":"^3.8.3","dexie":"^3.2.2","dexie-export-import":"^1.0.3","dexie-observable":"^3.0.0-beta.11","merge-webpack-plugin":"^0.2.1","register-service-worker":"^1.7.2","rxjs":"^7.5.7","showdown":"^2.1.0","uuid":"^9.0.0","vue":"^3.2.41","vue-draggable-next":"^2.1.1","vue-draggable-resizable":"^2.3.0","vue-sweetalert2":"^5.0.5"},"devDependencies":{"@babel/core":"^7.12.16","@babel/eslint-parser":"^7.12.16","@vue/cli-plugin-babel":"~5.0.0","@vue/cli-plugin-eslint":"~5.0.0","@vue/cli-plugin-pwa":"~5.0.0","@vue/cli-service":"~5.0.0","electron":"^13.0.0","electron-devtools-installer":"^3.1.0","eslint":"^7.32.0","eslint-plugin-vue":"^8.0.3","vue-cli-plugin-electron-builder":"~2.1.1"}}');const d={data(){return{}},methods:{file_loadDB(){document.getElementById("wavemakerHiddenPicker").click()},file_load(e){console.log(e.target.files);var t=new FileReader;t.onload=async e=>{const t=new Blob([e.target.result],{type:"text/json;charset=utf-8"});await this.$root.databaseImport(t),console.log("import complete"),this.$root.getSettings()},t.readAsText(e.target.files.item(0))},async file_downloadDB(){this.$swal({title:"Are you sure?",text:"This will download a copy of your project to your device!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, export it!"}).then((async e=>{if(e.isConfirmed){var t=new Date,o=String(t.getDate()).padStart(2,"0"),i=String(t.getMonth()+1).padStart(2,"0"),s=t.getFullYear(),n=t.getHours()+"-"+t.getMinutes()+"-"+t.getSeconds();let e=this.$root.session.settings.ProjectName;e=e.replace(/[\W_]+/g,"-");let a=e+"["+s+"-"+i+"-"+o+"-"+n+"].wm4",l=await this.$root.databaseExport();const r=new Blob([l],{type:"text/json;charset=utf-8"}),d=URL.createObjectURL(r),c=document.createElement("a");c.href=d,c.target="_blank",c.download=a,c.click(),URL.revokeObjectURL(d),this.$swal("Exported!","Your file has been Exported.","success")}}))}},mounted(){let e=document.createElement("input");e.type="file",e.id="wavemakerHiddenPicker",e.accept=".wm4",e.style="display:none",document.body.appendChild(e)}};var c=d,u=o(9520);o(4624);const h=new u.ZP("wavemakerv4"),p={Settings:"uuid, settings, lastupdated",Writer:"uuid, title, description, files, lastupdated",Cards:"uuid, title,description,content,style,labels,options,lastupdated",Files:"uuid, writerid, title, content, lastupdated",Snowflake:"uuid, title, description,content,lastupdated",Timeline:"uuid, title, description,content,lastupdated",Gridplanner:"uuid, title, description,content,lastupdated",Mindmap:"uuid, title, description,content,lastupdated",ImageLibrary:"uuid, title, base64"};h.version(1).stores(p);const g=async e=>{await h.import(e,{clearTablesBeforeImport:!0})},m=async()=>{const e=await h.export();return e};var w=o(5357);const C={data(){return{db:h,useObservable:w.mA,liveQuery:u.Y1,databaseImport:g,databaseExport:m,windowID:null}},methods:{async getImage(e){return await this.$root.db.ImageLibrary.get(e)},async AddRecord(e,t){return t.lastupdated=Date.now(),await this.db[e].add(t)},async UpdateRecord(e,t,o){return o.uuid=t,o.lastupdated=Date.now(),await this.db[e].put(JSON.parse(JSON.stringify(o)))},async DeleteRecord(e,t){return await this.db[e].delete(t)},clearDatabase(){this.$root.db.Settings.clear(),this.$root.db.Writer.clear(),this.$root.db.Cards.clear(),this.$root.db.Files.clear(),this.$root.db.Mindmap.clear(),this.$root.db.ImageLibrary.clear(),this.$root.db.Gridplanner.clear(),this.$root.db.Snowflake.clear(),this.$root.db.Timeline.clear()},async getSettings(e){if(!e){let t=await this.$root.db.Settings.toArray();e=t[0].uuid}this.$root.session.settings=this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Settings.get(e))))},async closeProject(){this.$swal({title:"Are you sure?",text:"This will close the project and clear the database!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, close it!"}).then((e=>{e.isConfirmed&&(window.removeEventListener("beforeunload",this.$root.unloadEvent),this.$root.session={},this.$root.popup={},this.$root.dbloaded=!1,this.$root.clearDatabase(),this.$swal("Project Closed!","Your file has been closed.","success"))}))}},beforeMount(){this.windowID=this.uuid()}};var v=C;const f={data(){return{SettingsTemplate:{documentprefs:{align:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-align")),fontsize:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-fontsize")),lspacing:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-lspacing")),indentation:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-indentation")),pspacing:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-pspacing")),page:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-page")),font:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-font")),color:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-color")),bgcolor:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-bgcolor")),h1align:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-h1align")),h2align:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-h2align")),h3align:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-h3align")),h4align:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--pageEditor-h4align")),distractionfree_font:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--distractionfree-font")),distractionfree_bg:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--distractionfree-bg")),distractionfree_fg:this.dotrim(getComputedStyle(document.documentElement).getPropertyValue("--distractionfree-fg")),typesound:!1}}}},methods:{dotrim(e){return" "===e[0]&&(e=e.substring(1)),e},makeNewCard(e){let t=this.$root.uuid();e&&(t=e);let o={};o.uuid=t,o.projectID=this.$root.$data.session.selectedProject,o.title="",o.description="",o.showdesc=!1,o.content="",o.labels=[],o.images=[],o.style="",o.options={},o.color="--card1",this.$root.AddRecord("Cards",o),this.$root.$data.session.EditCard=o.uuid}}};var L=f;const H={data(){return{GoogleDriveApi:{CLIENT_ID:"451112835343-dfdk5iglpkorfmt3ouu5puogmvmvn22p.apps.googleusercontent.com",API_KEY:"AIzaSyAq4C0VCC3I88n7GdW1VilDmcZdYle-UoU",DISCOVERY_DOC:"https://www.googleapis.com/discovery/v1/apis/drive/v3/rest",SCOPES:"https://www.googleapis.com/auth/drive.file",gapiInited:!1,gisInited:!1,tokenClient:null,loggedin:!1,files:[],CURRENT_FILE_OBJ:null,CURRENT_FILE_NAME:"",CURRENT_FILE_CONTENTS:"",loading:!1}}},methods:{async GoogleDriveInitializeGapi(){console.log("GoogleDriveInitializeGapi"),await window.gapi.client.init({apiKey:this.GoogleDriveApi.API_KEY,discoveryDocs:[this.GoogleDriveApi.DISCOVERY_DOC]}),this.GoogleDriveApi.gapiInited=!0,this.GoogleDriveCheckAuthStatus()},async GoogleDrivegisLoaded(){console.log("GoogleDrivegisLoaded"),this.GoogleDriveApi.tokenClient=window.google.accounts.oauth2.initTokenClient({client_id:this.GoogleDriveApi.CLIENT_ID,scope:this.GoogleDriveApi.SCOPES,callback:""}),this.GoogleDriveApi.gisInited=!0,this.GoogleDriveCheckAuthStatus()},GoogleDriveCheckAuthStatus(){console.log("GoogleDriveCheckAuthStatus"),this.GoogleDriveApi.gapiInited&&this.GoogleDriveApi.gisInited&&this.GoogleDriveAuthStart()},async GoogleDriveAuthStart(){console.log("GoogleDriveAuthStart"),this.GoogleDriveApi.tokenClient.callback=e=>{if(console.log("GoogleDriveAuthStart","callback",e),void 0!==e.error)throw e;this.GoogleDriveApi.loggedin=!0},null===window.gapi.client.getToken()?this.GoogleDriveApi.tokenClient.requestAccessToken({prompt:"consent"}):this.GoogleDriveApi.tokenClient.requestAccessToken({prompt:""})},GoogleDriveSignOut(){const e=window.gapi.client.getToken();null!==e&&(window.google.accounts.oauth2.revoke(e.access_token),window.gapi.client.setToken(""),this.GoogleDriveApi.loggedin=!1,this.$root.$data.popup.name=null)},async GoogleDriveListFiles(){let e;this.GoogleDriveApi.searching=!0,console.log("GoogleDriveListFiles");try{e=await window.gapi.client.drive.files.list({pageSize:10,fields:"files(id, name, size,  modifiedTime)",q:"name contains '.wm4'"})}catch(o){return void console.log(o.message)}const t=e.result.files;t&&0!=t.length?(this.GoogleDriveApi.files=t,this.GoogleDriveApi.searching=!1):console.log("No files found.")},GoogleDriveReadFile(){var e=window.gapi.client.drive.files.get({fileId:this.GoogleDriveApi.CURRENT_FILE_OBJ.id,alt:"media"});return e.then((async e=>{const t=new Blob([e.body],{type:"text/json;charset=utf-8"});await this.$root.databaseImport(t),this.$root.getSettings()}),(function(e){console.error(e)})),this.$root.$data.popup.name=null,e},async GoogleDriveWriteFile(e){this.GoogleDriveApi.loading=!0,this.GoogleDriveApi.CURRENT_FILE_NAME=this.$root.session.settings.ProjectName;let t=await this.$root.databaseExport();console.log("blob",t);let o=await t.text();console.log("CURRENT_FILE_CONTENTS",o);var i="";console.log(this.GoogleDriveApi.CURRENT_FILE_OBJ),this.GoogleDriveApi.CURRENT_FILE_OBJ&&(i=this.GoogleDriveApi.CURRENT_FILE_OBJ.id);const s="-------314159265358979323846",n="\r\n--"+s+"\r\n",a="\r\n--"+s+"--",l="application/json";var r,d={name:this.GoogleDriveApi.CURRENT_FILE_NAME+".wm4",mimeType:l},c=n+"Content-Type: application/json\r\n\r\n"+JSON.stringify(d)+n+"Content-Type: "+l+"\r\n\r\n"+o+a;""==i?(console.log("newfile"),r=window.gapi.client.request({path:"/upload/drive/v3/files",method:"POST",params:{uploadType:"multipart"},headers:{"Content-Type":'multipart/related; boundary="'+s+'"'},body:c})):r=window.gapi.client.request({path:"/upload/drive/v3/files/"+i,method:"PATCH",params:{uploadType:"multipart"},headers:{"Content-Type":'multipart/related; boundary="'+s+'"'},body:c}),e||(e=e=>{this.GoogleDriveApi.CURRENT_FILE_OBJ?console.log("Data Saved to GDrive",this.GoogleDriveApi.CURRENT_FILE_OBJ):console.log("Data Created on GDrive"),this.GoogleDriveApi.CURRENT_FILE_OBJ=e,this.GoogleDriveApi.loading=!1,this.$root.$data.popup.name=null}),r.execute(e)},GoogleDriveSignIn(){window.gapi.load("client",this.GoogleDriveInitializeGapi),this.GoogleDrivegisLoaded()}}};var _=H;const V={key:0,class:"wavemakerPopup",style:{"text-align":"center"}},b={style:{"text-align":"right"}},y={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},k=(0,s._)("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1),$=[k];function x(e,t,o,n,a,l){const r=(0,s.up)("ApiForm"),d=(0,s.up)("SettingsPopup"),c=(0,s.up)("GoogleDrive");return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.$root.$data.popup.name?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"wavemakerPopupBlackout",onClick:t[0]||(t[0]=t=>e.$root.$data.popup.name=null)})):(0,s.kq)("",!0),(0,s.Wm)(i.uT,{name:"bounce"},{default:(0,s.w5)((()=>[e.$root.$data.popup.name?((0,s.wg)(),(0,s.iD)("div",V,[(0,s._)("div",b,[(0,s._)("button",{class:"clearInterfaceIconButton",onClick:t[1]||(t[1]=t=>e.$root.$data.popup.name=null)},[((0,s.wg)(),(0,s.iD)("svg",y,$))])]),"ApiForm"===e.$root.$data.popup.name?((0,s.wg)(),(0,s.j4)(r,{key:0})):(0,s.kq)("",!0),"SettingsPopup"===e.$root.$data.popup.name?((0,s.wg)(),(0,s.j4)(d,{key:1})):(0,s.kq)("",!0),"GoogleDrive"===e.$root.$data.popup.name?((0,s.wg)(),(0,s.j4)(c,{key:2})):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])),_:1})],64)}var D=o(3577);const M={key:0},B=(0,s._)("svg",{class:"wavemakerLoadingIcon",version:"1.1",id:"L9",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 100","enable-background":"new 0 0 0 0","xml:space":"preserve"},[(0,s._)("path",{d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50"},[(0,s._)("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})])],-1),A=[B],I={key:1,class:"wavemakerForm"},S={key:0},T=(0,s._)("h1",null,"Log In",-1),E=(0,s._)("label",null,"email",-1),U=(0,s._)("label",null,"Password",-1),Z={key:1};function N(e,t,o,n,a,l){return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.$root.$data.api_credentials.loading?((0,s.wg)(),(0,s.iD)("div",M,A)):(0,s.kq)("",!0),e.$root.$data.api_credentials.loading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",I,[e.$root.$data.api_credentials.loggedin?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",S,[T,E,(0,s.wy)((0,s._)("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=t=>e.$root.$data.api_credentials.email=t),class:"formInput"},null,512),[[i.nr,e.$root.$data.api_credentials.email]]),U,(0,s.wy)((0,s._)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=t=>e.$root.$data.api_credentials.password=t),class:"formInput"},null,512),[[i.nr,e.$root.$data.api_credentials.password]]),(0,s._)("button",{onClick:t[2]||(t[2]=t=>e.$root.api_login()),class:"formButton"},"Log IN"),(0,s._)("div",null,(0,D.zw)(e.$root.$data.api_credentials.error),1)])),e.$root.$data.api_credentials.loggedin?((0,s.wg)(),(0,s.iD)("div",Z,[(0,s._)("button",{onClick:t[3]||(t[3]=t=>e.$root.api_logout()),class:"formButton"},"Log Out"),(0,s._)("button",{onClick:t[4]||(t[4]=e=>l.get()),class:"formButton"},"Get File"),(0,s._)("button",{onClick:t[5]||(t[5]=e=>l.set()),class:"formButton"},"Set File")])):(0,s.kq)("",!0)]))],64)}var j={name:"ApiForm",methods:{async get(){let e=await this.$root.api_get();console.log("GET -> ",e)},async set(){let e=await this.$root.api_set();console.log("SET -> ",e)}}},Y=o(3744);const P=(0,Y.Z)(j,[["render",N]]);var q=P;const F=e=>((0,s.dD)("data-v-d0acc20a"),e=e(),(0,s.Cn)(),e),z={style:{"text-align":"left"}},G={class:"container"},R={class:"item item-center"},W=F((()=>(0,s._)("h2",null,"Document Preferences",-1))),O=F((()=>(0,s._)("label",null,"Alignment",-1))),J=F((()=>(0,s._)("option",{value:"left"},"Align Left",-1))),K=F((()=>(0,s._)("option",{value:"center"},"Align Center",-1))),Q=F((()=>(0,s._)("option",{value:"right"},"Align Right",-1))),X=F((()=>(0,s._)("option",{value:"justify"},"Justify",-1))),ee=[J,K,Q,X],te=F((()=>(0,s._)("label",null,"Font Size",-1))),oe=(0,s.uE)('<option value="1rem" data-v-d0acc20a>Smallest</option><option value="1.5rem" data-v-d0acc20a>Small</option><option value="2rem" data-v-d0acc20a>Standard</option><option value="3rem" data-v-d0acc20a>Big</option><option value="3.5rem" data-v-d0acc20a>Biggest</option>',5),ie=[oe],se=F((()=>(0,s._)("label",null,"Line Height",-1))),ne=F((()=>(0,s._)("option",{value:"3rem"},"Standard Spacing",-1))),ae=F((()=>(0,s._)("option",{value:"4rem"},"Double Spaced",-1))),le=F((()=>(0,s._)("option",{value:"5rem"},"2.5 Spaced",-1))),re=F((()=>(0,s._)("option",{value:"6rem"},"Triple Spaced",-1))),de=[ne,ae,le,re],ce=F((()=>(0,s._)("label",null,"Paragraph Indentation",-1))),ue=F((()=>(0,s._)("option",{value:"20px"},"Yes",-1))),he=F((()=>(0,s._)("option",{value:"0px"},"no",-1))),pe=[ue,he],ge=F((()=>(0,s._)("label",null,"Paragraph Spacing",-1))),me=(0,s.uE)('<option value="20px" data-v-d0acc20a>Standard Spacing</option><option value="30px" data-v-d0acc20a>1.5x spacing</option><option value="40px" data-v-d0acc20a>2x spacing</option><option value="50px" data-v-d0acc20a>2.5x spacing</option><option value="100px" data-v-d0acc20a>5x spacing</option>',5),we=[me],Ce=F((()=>(0,s._)("label",null,"Page Width",-1))),ve=F((()=>(0,s._)("option",{value:"800px"},"Page Style",-1))),fe=F((()=>(0,s._)("option",{value:"100%"},"Full Width",-1))),Le=[ve,fe],He=F((()=>(0,s._)("label",null,"Text Colour",-1))),_e=F((()=>(0,s._)("label",null,"Page Colour",-1))),Ve=F((()=>(0,s._)("label",null,"H1 Alignment",-1))),be=F((()=>(0,s._)("option",{value:"left"},"Align Left",-1))),ye=F((()=>(0,s._)("option",{value:"center"},"Align Center",-1))),ke=F((()=>(0,s._)("option",{value:"right"},"Align Right",-1))),$e=F((()=>(0,s._)("option",{value:"justify"},"Justify",-1))),xe=[be,ye,ke,$e],De=F((()=>(0,s._)("label",null,"H2 Alignment",-1))),Me=F((()=>(0,s._)("option",{value:"left"},"Align Left",-1))),Be=F((()=>(0,s._)("option",{value:"center"},"Align Center",-1))),Ae=F((()=>(0,s._)("option",{value:"right"},"Align Right",-1))),Ie=F((()=>(0,s._)("option",{value:"justify"},"Justify",-1))),Se=[Me,Be,Ae,Ie],Te=F((()=>(0,s._)("label",null,"H3 Alignment",-1))),Ee=F((()=>(0,s._)("option",{value:"left"},"Align Left",-1))),Ue=F((()=>(0,s._)("option",{value:"center"},"Align Center",-1))),Ze=F((()=>(0,s._)("option",{value:"right"},"Align Right",-1))),Ne=F((()=>(0,s._)("option",{value:"justify"},"Justify",-1))),je=[Ee,Ue,Ze,Ne],Ye=F((()=>(0,s._)("label",null,"H4 Alignment",-1))),Pe=F((()=>(0,s._)("option",{value:"left"},"Align Left",-1))),qe=F((()=>(0,s._)("option",{value:"center"},"Align Center",-1))),Fe=F((()=>(0,s._)("option",{value:"right"},"Align Right",-1))),ze=F((()=>(0,s._)("option",{value:"justify"},"Justify",-1))),Ge=[Pe,qe,Fe,ze],Re=F((()=>(0,s._)("hr",null,null,-1))),We=F((()=>(0,s._)("h2",null,"Distraction-Free Preferences",-1))),Oe=F((()=>(0,s._)("label",null,"Text Colour",-1))),Je=F((()=>(0,s._)("label",null,"Page Colour",-1))),Ke=F((()=>(0,s._)("label",null,"Typewriter sound",-1))),Qe=F((()=>(0,s._)("br",null,null,-1))),Xe=F((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M13.5 21H6V17H13.5C15.43 17 17 15.43 17 13.5S15.43 10 13.5 10H11V14L4 8L11 2V6H13.5C17.64 6 21 9.36 21 13.5S17.64 21 13.5 21Z"})],-1))),et={class:"item"},tt=F((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2C17.5,2 22,6 22,11A6,6 0 0,1 16,17H14.2C13.9,17 13.7,17.2 13.7,17.5C13.7,17.6 13.8,17.7 13.8,17.8C14.2,18.3 14.4,18.9 14.4,19.5C14.5,20.9 13.4,22 12,22M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C12.3,20 12.5,19.8 12.5,19.5C12.5,19.3 12.4,19.2 12.4,19.1C12,18.6 11.8,18.1 11.8,17.5C11.8,16.1 12.9,15 14.3,15H16A4,4 0 0,0 20,11C20,7.1 16.4,4 12,4M6.5,10C7.3,10 8,10.7 8,11.5C8,12.3 7.3,13 6.5,13C5.7,13 5,12.3 5,11.5C5,10.7 5.7,10 6.5,10M9.5,6C10.3,6 11,6.7 11,7.5C11,8.3 10.3,9 9.5,9C8.7,9 8,8.3 8,7.5C8,6.7 8.7,6 9.5,6M14.5,6C15.3,6 16,6.7 16,7.5C16,8.3 15.3,9 14.5,9C13.7,9 13,8.3 13,7.5C13,6.7 13.7,6 14.5,6M17.5,10C18.3,10 19,10.7 19,11.5C19,12.3 18.3,13 17.5,13C16.7,13 16,12.3 16,11.5C16,10.7 16.7,10 17.5,10Z"})],-1))),ot={key:0,class:"dropdown"},it=["onClick"],st=F((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M11 1H3C1.9 1 1 1.9 1 3V15L4 12H9V11C9 8.8 10.79 7 13 7V3C13 1.9 12.1 1 11 1M11 4L9.5 4C9.16 5.19 8.54 6.3 7.68 7.26L7.66 7.28L8.92 8.53L8.55 9.54L7 8L4.5 10.5L3.81 9.77L6.34 7.28C5.72 6.59 5.22 5.82 4.86 5H5.85C6.16 5.6 6.54 6.17 7 6.68C7.72 5.88 8.24 4.97 8.57 4L3 4V3H6.5V2H7.5V3H11V4M21 9H13C11.9 9 11 9.9 11 11V18C11 19.1 11.9 20 13 20H20L23 23V11C23 9.9 22.1 9 21 9M19.63 19L18.78 16.75H15.22L14.38 19H12.88L16.25 10H17.75L21.13 19H19.63M17 12L18.22 15.25H15.79L17 12Z"})],-1))),nt={key:1,class:"dropdown"},at=["onClick"],lt=F((()=>(0,s._)("hr",null,null,-1))),rt=F((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"})],-1))),dt=F((()=>(0,s._)("div",{style:{clear:"both"}},null,-1)));function ct(e,t,o,n,a,l){return(0,s.wg)(),(0,s.iD)("div",z,[(0,s._)("h1",null,(0,D.zw)(this.$root.setlang.settings.title),1),(0,s._)("div",G,[(0,s._)("div",R,[W,O,(0,s.wy)((0,s._)("select",{class:"wavemaker-form","onUpdate:modelValue":t[0]||(t[0]=e=>this.$root.session.settings.documentprefs.align=e),onChange:t[1]||(t[1]=(...e)=>l.updateSettings&&l.updateSettings(...e))},ee,544),[[i.bM,this.$root.session.settings.documentprefs.align]]),te,(0,s.wy)((0,s._)("select",{class:"wavemaker-form","onUpdate:modelValue":t[2]||(t[2]=e=>this.$root.session.settings.documentprefs.fontsize=e),onChange:t[3]||(t[3]=(...e)=>l.updateSettings&&l.updateSettings(...e))},ie,544),[[i.bM,this.$root.session.settings.documentprefs.fontsize]]),se,(0,s.wy)((0,s._)("select",{class:"wavemaker-form","onUpdate:modelValue":t[4]||(t[4]=e=>this.$root.session.settings.documentprefs.lspacing=e),onChange:t[5]||(t[5]=(...e)=>l.updateSettings&&l.updateSettings(...e))},de,544),[[i.bM,this.$root.session.settings.documentprefs.lspacing]]),ce,(0,s.wy)((0,s._)("select",{class:"wavemaker-form","onUpdate:modelValue":t[6]||(t[6]=e=>this.$root.session.settings.documentprefs.indentation=e),onChange:t[7]||(t[7]=(...e)=>l.updateSettings&&l.updateSettings(...e))},pe,544),[[i.bM,this.$root.session.settings.documentprefs.indentation]]),ge,(0,s.wy)((0,s._)("select",{class:"wavemaker-form","onUpdate:modelValue":t[8]||(t[8]=e=>this.$root.session.settings.documentprefs.pspacing=e),onChange:t[9]||(t[9]=(...e)=>l.updateSettings&&l.updateSettings(...e))},we,544),[[i.bM,this.$root.session.settings.documentprefs.pspacing]]),Ce,(0,s.wy)((0,s._)("select",{class:"wavemaker-form","onUpdate:modelValue":t[10]||(t[10]=e=>this.$root.session.settings.documentprefs.page=e),onChange:t[11]||(t[11]=(...e)=>l.updateSettings&&l.updateSettings(...e))},Le,544),[[i.bM,this.$root.session.settings.documentprefs.page]]),(0,s._)("table",null,[(0,s._)("tr",null,[(0,s._)("td",null,[He,(0,s.wy)((0,s._)("input",{type:"color","onUpdate:modelValue":t[12]||(t[12]=e=>this.$root.session.settings.documentprefs.color=e),onChange:t[13]||(t[13]=(...e)=>l.updateSettings&&l.updateSettings(...e))},null,544),[[i.nr,this.$root.session.settings.documentprefs.color]])]),(0,s._)("td",null,[_e,(0,s.wy)((0,s._)("input",{type:"color","onUpdate:modelValue":t[14]||(t[14]=e=>this.$root.session.settings.documentprefs.bgcolor=e),onChange:t[15]||(t[15]=(...e)=>l.updateSettings&&l.updateSettings(...e))},null,544),[[i.nr,this.$root.session.settings.documentprefs.bgcolor]])])])]),Ve,(0,s.wy)((0,s._)("select",{class:"wavemaker-form","onUpdate:modelValue":t[16]||(t[16]=e=>this.$root.session.settings.documentprefs.h1align=e),onChange:t[17]||(t[17]=(...e)=>l.updateSettings&&l.updateSettings(...e))},xe,544),[[i.bM,this.$root.session.settings.documentprefs.h1align]]),De,(0,s.wy)((0,s._)("select",{class:"wavemaker-form","onUpdate:modelValue":t[18]||(t[18]=e=>this.$root.session.settings.documentprefs.h2align=e),onChange:t[19]||(t[19]=(...e)=>l.updateSettings&&l.updateSettings(...e))},Se,544),[[i.bM,this.$root.session.settings.documentprefs.h2align]]),Te,(0,s.wy)((0,s._)("select",{class:"wavemaker-form","onUpdate:modelValue":t[20]||(t[20]=e=>this.$root.session.settings.documentprefs.h3align=e),onChange:t[21]||(t[21]=(...e)=>l.updateSettings&&l.updateSettings(...e))},je,544),[[i.bM,this.$root.session.settings.documentprefs.h3align]]),Ye,(0,s.wy)((0,s._)("select",{class:"wavemaker-form","onUpdate:modelValue":t[22]||(t[22]=e=>this.$root.session.settings.documentprefs.h4align=e),onChange:t[23]||(t[23]=(...e)=>l.updateSettings&&l.updateSettings(...e))},Ge,544),[[i.bM,this.$root.session.settings.documentprefs.h4align]]),Re,We,(0,s._)("table",null,[(0,s._)("tr",null,[(0,s._)("td",null,[Oe,(0,s.wy)((0,s._)("input",{type:"color","onUpdate:modelValue":t[24]||(t[24]=e=>this.$root.session.settings.documentprefs.distractionfree_fg=e),onChange:t[25]||(t[25]=(...e)=>l.updateSettings&&l.updateSettings(...e)),style:{width:"30px",height:"30px"}},null,544),[[i.nr,this.$root.session.settings.documentprefs.distractionfree_fg]])]),(0,s._)("td",null,[Je,(0,s.wy)((0,s._)("input",{type:"color","onUpdate:modelValue":t[26]||(t[26]=e=>this.$root.session.settings.documentprefs.distractionfree_bg=e),onChange:t[27]||(t[27]=(...e)=>l.updateSettings&&l.updateSettings(...e)),style:{width:"30px",height:"30px"}},null,544),[[i.nr,this.$root.session.settings.documentprefs.distractionfree_bg]])]),(0,s._)("td",null,[Ke,(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":t[28]||(t[28]=e=>this.$root.session.settings.documentprefs.typesound=e),style:{width:"20px",height:"20px"}},null,512),[[i.e8,this.$root.session.settings.documentprefs.typesound]])])])]),Qe,(0,s._)("button",{onClick:t[29]||(t[29]=(...e)=>l.resetSettings&&l.resetSettings(...e)),class:"interfaceBtn"},[Xe,(0,s.Uk)(" Reset to defaults")])]),(0,s._)("div",et,[(0,s._)("button",{class:"interfaceBtn fullw",onClick:t[30]||(t[30]=e=>a.themes=!a.themes),style:{"text-align":"left"}},[tt,(0,s.Uk)(" "+(0,D.zw)(this.$root.setlang.settings.themes),1)]),a.themes?((0,s.wg)(),(0,s.iD)("div",ot,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.$root.themeList,((e,t)=>((0,s.wg)(),(0,s.iD)("button",{class:"myoption",onClick:t=>l.setTheme(e.file),key:t},(0,D.zw)(e.name),9,it)))),128))])):(0,s.kq)("",!0),(0,s._)("button",{class:"interfaceBtn fullw",onClick:t[31]||(t[31]=e=>a.lang=!a.lang),style:{"text-align":"left"}},[st,(0,s.Uk)(" "+(0,D.zw)(this.$root.setlang.settings.lang),1)]),a.lang?((0,s.wg)(),(0,s.iD)("div",nt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Object.keys(this.$root.language),((e,t)=>((0,s.wg)(),(0,s.iD)("button",{class:"myoption",key:t,onClick:t=>l.language(e)},(0,D.zw)(this.$root.language[e].info.name),9,at)))),128))])):(0,s.kq)("",!0),lt,(0,s._)("button",{onClick:t[32]||(t[32]=t=>e.$root.closeProject()),class:"interfaceBtn fullw",style:{"text-align":"left"}},[rt,(0,s.Uk)(" "+(0,D.zw)(this.$root.setlang.settings.close),1)])])]),dt])}var ut={name:"SettingsPopup",data(){return{themes:!1,lang:!1}},methods:{setTheme(e){this.$root.theme=e,this.$root.switchTheme(),this.themes=!1},language(e){this.$root.lang=e,this.$root.switchLang(),this.lang=!1},resetSettings(){this.$root.session.settings.documentprefs=JSON.parse(JSON.stringify(this.$root.SettingsTemplate.documentprefs)),this.updateSettings()},updateSettings(){document.documentElement.style.setProperty("--pageEditor-align",this.$root.session.settings.documentprefs.align),document.documentElement.style.setProperty("--pageEditor-fontsize",this.$root.session.settings.documentprefs.fontsize),document.documentElement.style.setProperty("--pageEditor-lspacing",this.$root.session.settings.documentprefs.lspacing),document.documentElement.style.setProperty("--pageEditor-indentation",this.$root.session.settings.documentprefs.indentation),document.documentElement.style.setProperty("--pageEditor-pspacing",this.$root.session.settings.documentprefs.pspacing),document.documentElement.style.setProperty("--pageEditor-page",this.$root.session.settings.documentprefs.page),document.documentElement.style.setProperty("--pageEditor-font",this.$root.session.settings.documentprefs.font),document.documentElement.style.setProperty("--pageEditor-color",this.$root.session.settings.documentprefs.color),document.documentElement.style.setProperty("--pageEditor-bgcolor",this.$root.session.settings.documentprefs.bgcolor),document.documentElement.style.setProperty("--distractionfree-font",this.$root.session.settings.documentprefs.distractionfree_font),document.documentElement.style.setProperty("--distractionfree-fg",this.$root.session.settings.documentprefs.distractionfree_fg),document.documentElement.style.setProperty("--distractionfree-bg",this.$root.session.settings.documentprefs.distractionfree_bg),this.$root.UpdateRecord("Settings",this.$root.session.settings.uuid,this.$root.session.settings)}},mounted(){console.log(this.$root.session.settings.documentprefs)}};const ht=(0,Y.Z)(ut,[["render",ct],["__scopeId","data-v-d0acc20a"]]);var pt=ht;const gt=e=>((0,s.dD)("data-v-4d53c791"),e=e(),(0,s.Cn)(),e),mt=gt((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M7.71,3.5L1.15,15L4.58,21L11.13,9.5M9.73,15L6.3,21H19.42L22.85,15M22.28,14L15.42,2H8.58L8.57,2L15.43,14H22.28Z"})],-1))),wt={key:1,style:{"text-align":"left"}},Ct={key:0},vt=gt((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M13 19C13 19.34 13.04 19.67 13.09 20H6.5C5 20 3.69 19.5 2.61 18.43C1.54 17.38 1 16.09 1 14.58C1 13.28 1.39 12.12 2.17 11.1S4 9.43 5.25 9.15C5.67 7.62 6.5 6.38 7.75 5.43S10.42 4 12 4C13.95 4 15.6 4.68 16.96 6.04C18.32 7.4 19 9.05 19 11C20.15 11.13 21.1 11.63 21.86 12.5C22.37 13.07 22.7 13.71 22.86 14.42C21.82 13.54 20.5 13 19 13C15.69 13 13 15.69 13 19M16 18H18V22H20V18H22L19 15L16 18Z"})],-1))),ft={key:0,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Lt=gt((()=>(0,s._)("path",{d:"M18 14.5C19.11 14.5 20.11 14.95 20.83 15.67L22 14.5V18.5H18L19.77 16.73C19.32 16.28 18.69 16 18 16C16.62 16 15.5 17.12 15.5 18.5C15.5 19.88 16.62 21 18 21C18.82 21 19.54 20.61 20 20H21.71C21.12 21.47 19.68 22.5 18 22.5C15.79 22.5 14 20.71 14 18.5C14 16.29 15.79 14.5 18 14.5M10 4L12 6H20C21.1 6 22 6.89 22 8V13C21 12.38 19.79 12 18.5 12C14.91 12 12 14.91 12 18.5C12 19 12.06 19.5 12.17 20H4C2.89 20 2 19.1 2 18L2 6C2 4.89 2.89 4 4 4H10Z"},null,-1))),Ht={key:1,version:"1.1",viewBox:"0 0 100 100",width:"24px",height:"24px"},_t=gt((()=>(0,s._)("path",{d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50"},[(0,s._)("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})],-1))),Vt=[_t],bt={key:1},yt=["onClick"],kt=(0,s.uE)('<svg viewBox="0 0 24 24" data-v-4d53c791><defs id="defs8" data-v-4d53c791></defs><path id="path2" d="M20,18H4V8H20M20,6H12L10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6Z" data-v-4d53c791></path><path id="path3731" d="m 11.084747,9.8305089 h 7.186439 V 17.01695 h -7.186439 z" style="fill:none;stroke-width:0.29943502;" data-v-4d53c791></path><path id="path3733" d="m 17.021865,11.84974 -1.7835,-1.787036 c -0.308989,-0.3095941 -0.810692,-0.3095941 -1.119667,0 l -1.777381,1.783961 c -0.104021,0.104223 -0.104021,0.269733 0,0.373956 l 0.538408,0.539479 0.357918,0.334109 c 0.107067,0.09809 0.269211,0.09809 0.376277,0 l 0.718911,-0.665156 c 0.198848,-0.183903 0.501704,-0.183903 0.697492,0 l 0.71891,0.665156 c 0.107081,0.09809 0.269212,0.09809 0.376292,0 l 0.357932,-0.334109 0.538408,-0.536404 c 0.100961,-0.101162 0.100961,-0.269733 0,-0.373956 z" style="stroke-width:0.0139114;" data-v-4d53c791></path><path id="path3735" d="m 11.325657,13.986203 2.793041,2.798572 c 0.308975,0.309566 0.810678,0.309566 1.119667,0 l 2.79304,-2.798572 c 0.483359,-0.4843 0.143785,-0.62837 -0.211087,-0.965553 l -0.437475,-0.416863 c -0.103993,-0.101148 -0.269211,-0.09807 -0.376277,0 l -0.718897,0.665156 c -0.198876,0.183917 -0.501703,0.183917 -0.697506,0 l -0.71891,-0.665156 c -0.106323,-0.09807 -0.269954,-0.09807 -0.376292,0 l -0.71891,0.665156 c -0.198848,0.183917 -0.501704,0.183917 -0.697492,0 l -0.718911,-0.665156 c -0.106336,-0.09807 -0.269955,-0.09807 -0.376292,0 l -0.403815,0.373969 c -0.37013,0.343305 -0.758647,0.499618 -0.253884,1.008447 z" style="stroke-width:0.0139114;" data-v-4d53c791></path></svg>',1),$t={style:{"text-decoration":"italic"}},xt=gt((()=>(0,s._)("hr",null,null,-1))),Dt=gt((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M10 4A4 4 0 0 0 6 8A4 4 0 0 0 10 12A4 4 0 0 0 14 8A4 4 0 0 0 10 4M17.5 13C15 13 13 15 13 17.5C13 20 15 22 17.5 22C20 22 22 20 22 17.5C22 15 20 13 17.5 13M10 14C5.58 14 2 15.79 2 18V20H11.5A6.5 6.5 0 0 1 11 17.5A6.5 6.5 0 0 1 11.95 14.14C11.32 14.06 10.68 14 10 14M17.5 14.5C19.16 14.5 20.5 15.84 20.5 17.5C20.5 18.06 20.35 18.58 20.08 19L16 14.92C16.42 14.65 16.94 14.5 17.5 14.5M14.92 16L19 20.08C18.58 20.35 18.06 20.5 17.5 20.5C15.84 20.5 14.5 19.16 14.5 17.5C14.5 16.94 14.65 16.42 14.92 16Z"})],-1))),Mt={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Bt=gt((()=>(0,s._)("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1))),At=[Bt];function It(e,t,o,i,n,a){return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.$root.GoogleDriveApi.loggedin?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:t[0]||(t[0]=t=>e.$root.GoogleDriveSignIn()),class:"interfaceBtn GoogleDrive"},[mt,(0,s.Uk)(" "+(0,D.zw)(this.$root.setlang.google.info),1)])),e.$root.GoogleDriveApi.loggedin?((0,s.wg)(),(0,s.iD)("div",wt,[e.$root.session.settings?((0,s.wg)(),(0,s.iD)("div",Ct,[(0,s._)("h3",null,(0,D.zw)(this.$root.setlang.google.saveinfo),1),(0,s._)("h4",null,(0,D.zw)(this.$root.session.settings.ProjectName),1),(0,s._)("button",{onClick:t[1]||(t[1]=t=>e.$root.GoogleDriveWriteFile()),class:"interfaceBtn"},[vt,(0,s.Uk)(" "+(0,D.zw)(this.$root.setlang.google.save),1)])])):(0,s.kq)("",!0),(0,s._)("h3",null,(0,D.zw)(this.$root.setlang.google.files),1),(0,s._)("div",null,[(0,s._)("button",{onClick:t[2]||(t[2]=t=>{e.$root.GoogleDriveApi.files=[],e.$root.GoogleDriveListFiles()}),class:"interfaceBtn filebutton",style:{width:"auto"}},[e.$root.GoogleDriveApi.searching?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("svg",ft,[(0,s.Uk)("> "),Lt])),e.$root.GoogleDriveApi.searching?((0,s.wg)(),(0,s.iD)("svg",Ht,Vt)):(0,s.kq)("",!0),(0,s.Uk)(" "+(0,D.zw)(this.$root.setlang.google.search),1)])]),e.$root.GoogleDriveApi.files.length?((0,s.wg)(),(0,s.iD)("div",bt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.$root.GoogleDriveApi.files,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t},[(0,s._)("button",{onClick:t=>a.openFile(e),class:"interfaceBtn filebutton file"},[kt,(0,s._)("div",null,(0,D.zw)(e.name)+" - ("+(0,D.zw)(e.size+"bytes")+")",1),(0,s._)("div",$t,(0,D.zw)(e.modifiedTime),1)],8,yt)])))),128))])):(0,s.kq)("",!0),(0,s._)("div",null,[xt,(0,s._)("button",{onClick:t[3]||(t[3]=(...t)=>e.$root.GoogleDriveSignOut&&e.$root.GoogleDriveSignOut(...t)),class:"interfaceBtn filebutton",style:{width:"auto",display:"inline-block"}},[Dt,(0,s.Uk)(" "+(0,D.zw)(this.$root.setlang.google.logout),1)]),(0,s._)("button",{class:"interfaceBtn filebutton logout",onClick:t[4]||(t[4]=t=>e.$root.popup.name=null)},[((0,s.wg)(),(0,s.iD)("svg",Mt,At)),(0,s.Uk)(" "+(0,D.zw)(this.$root.setlang.google.close),1)])])])):(0,s.kq)("",!0)],64)}var St={name:"GoogleDrive",props:{msg:String},data(){return{tab:"load",searching:!1}},methods:{loggy(e){console.log(e)},openFile(e){this.$root.GoogleDriveApi.CURRENT_FILE_OBJ=e,this.$root.GoogleDriveApi.CURRENT_FILE_NAME=e.name,this.$root.GoogleDriveReadFile(),this.$root.popup.name=null}},mounted(){}};const Tt=(0,Y.Z)(St,[["render",It],["__scopeId","data-v-4d53c791"]]);var Et=Tt,Ut={name:"PopupManager",components:{ApiForm:q,SettingsPopup:pt,GoogleDrive:Et}};const Zt=(0,Y.Z)(Ut,[["render",x]]);var Nt=Zt;const jt=e=>((0,s.dD)("data-v-3910f573"),e=e(),(0,s.Cn)(),e),Yt={key:0,class:"wavemaker_welcome"},Pt={class:"wavemakerForm"},qt={style:{"text-align":"center"}},Ft=(0,s.uE)('<svg id="wavemaker_logo" version="1.1" viewBox="0 0 24 24" height="50" width="50" data-v-3910f573><path d="M0 0h24v24H0V0z" fill="none" data-v-3910f573></path><g transform="matrix(0.046875,0,0,0.04604639,-1.951887,-3.0598516)" data-v-3910f573><g id="_921457168" data-v-3910f573><path class="wavemaker_logo-top" d="M 464.632,212.901 337.566,83.292 c -22.014,-22.454 -57.758,-22.454 -79.771,0 l -126.63,129.386 c -7.411,7.559 -7.411,19.563 0,27.122 l 38.359,39.127 25.5,24.232 c 7.628,7.114 19.18,7.114 26.808,0 l 51.219,-48.242 c 14.167,-13.338 35.744,-13.338 49.693,0 l 51.219,48.242 c 7.629,7.114 19.18,7.114 26.809,0 l 25.501,-24.232 38.359,-38.904 c 7.193,-7.337 7.193,-19.563 0,-27.122 z" data-v-3910f573></path><path class="wavemaker_logo-bottom" d="m 58.804,367.853 198.991,202.973 c 22.013,22.452 57.757,22.452 79.771,0 L 536.557,367.853 c 34.437,-35.125 10.244,-45.574 -15.039,-70.029 L 490.35,267.59 c -7.409,-7.336 -19.18,-7.113 -26.808,0 l -51.218,48.242 c -14.169,13.339 -35.744,13.339 -49.694,0 L 311.411,267.59 c -7.575,-7.113 -19.233,-7.113 -26.809,0 l -51.219,48.242 c -14.167,13.339 -35.744,13.339 -49.693,0 L 132.471,267.59 c -7.576,-7.113 -19.233,-7.113 -26.809,0 l -28.77,27.123 c -26.37,24.899 -54.05,36.236 -18.088,73.14 z" data-v-3910f573></path></g></g></svg><div class="softwareName" data-v-3910f573>Wavemaker Cards</div>',2),zt=jt((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M10,16.5V7.5L16,12M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})],-1))),Gt=["title"],Rt=jt((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M13.75,9H16.14L19,14H16.05L13.5,9.46M18.3,17H12.75L14.15,14.5H19.27L19.53,14.96M11.5,17L10.4,14.86L13.24,9.9L14.74,12.56L12.25,17M20,6H12L10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6Z"})],-1))),Wt=["title"],Ot=jt((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M19,20H4C2.89,20 2,19.1 2,18V6C2,4.89 2.89,4 4,4H10L12,6H19A2,2 0 0,1 21,8H21L4,8V18L6.14,10H23.21L20.93,18.5C20.7,19.37 19.92,20 19,20Z"})],-1))),Jt={class:"languages"},Kt=["value"],Qt=jt((()=>(0,s._)("label",null,"Legacy tools",-1))),Xt=jt((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M20 6H2V2H20V6M16.5 12H15V17L18.61 19.16L19.36 17.94L16.5 16.25V12M23 16C23 19.87 19.87 23 16 23C13.62 23 11.53 21.81 10.26 20H3V7H19V9.68C21.36 10.81 23 13.21 23 16M8 12H10.26C10.83 11.19 11.56 10.5 12.41 10H8.5C8.22 10 8 10.22 8 10.5V12M21 16C21 13.24 18.76 11 16 11S11 13.24 11 16 13.24 21 16 21 21 18.76 21 16Z"})],-1))),eo=jt((()=>(0,s._)("div",{style:{"background-color":"firebrick",color:"#fff",padding:"10px",margin:"10px"}},[(0,s._)("p",null,"This is an ALPHA version it may break - if you are having issues you can clear all the stored data for your browser - instructions linked below"),(0,s._)("a",{style:{color:"#fff"},href:"https://www.howtogeek.com/664912/how-to-clear-storage-and-site-data-for-a-single-site-on-google-chrome/",target:"blank"}," How to clear your cache on chrome based browsers ")],-1)));function to(e,t,o,n,a,l){return this.$root.setlang?((0,s.wg)(),(0,s.iD)("div",Yt,[(0,s._)("div",Pt,[(0,s._)("div",qt,[Ft,(0,s._)("div",null,"Version 4 ("+(0,D.zw)(this.$root.myPackage.version)+") ",1),(0,s._)("h3",null,(0,D.zw)(this.$root.setlang.welcome.info),1)]),(0,s._)("button",{class:"interfaceBtn fullw text-left focuson",onClick:t[0]||(t[0]=(...e)=>l.MakeSettings&&l.MakeSettings(...e))},[zt,(0,s._)("span",null,(0,D.zw)(this.$root.setlang.welcome.getstarted),1)]),(0,s._)("button",{onClick:t[1]||(t[1]=t=>e.$root.$data.popup.name="GoogleDrive"),class:"interfaceBtn fullw text-left",title:this.$root.setlang.welcome.loadgoogle},[Rt,(0,s._)("span",null,(0,D.zw)(this.$root.setlang.welcome.loadgoogle),1)],8,Gt),(0,s._)("button",{onClick:t[2]||(t[2]=(...t)=>e.$root.file_loadDB&&e.$root.file_loadDB(...t)),class:"interfaceBtn fullw text-left",title:this.$root.setlang.welcome.loadfile},[Ot,(0,s._)("span",null,(0,D.zw)(this.$root.setlang.welcome.loadfile),1)],8,Wt),(0,s._)("div",Jt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>this.$root.lang=e),onChange:t[4]||(t[4]=e=>this.$root.switchLang())},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Object.keys(this.$root.language),((e,t)=>((0,s.wg)(),(0,s.iD)("option",{key:t,value:e},(0,D.zw)(e)+" ("+(0,D.zw)(this.$root.language[e].info.name)+") ",9,Kt)))),128))],544),[[i.bM,this.$root.lang]])]),(0,s._)("div",null,[Qt,(0,s._)("button",{class:"interfaceBtn fullw text-left",onClick:t[5]||(t[5]=t=>e.$root.v3import=!0)},[Xt,(0,s.Uk)(" Import a Wavemaker version 3 file")])]),eo])])):(0,s.kq)("",!0)}var oo={name:"welcomeSettings",data(){return{projname:"My New Project"}},methods:{MakeSettings(){let e=JSON.parse(JSON.stringify(this.$root.SettingsTemplate));e.uuid=this.$root.uuid(),e.ProjectName=this.projname,this.$root.AddRecord("Settings",e),this.$root.session.settings=this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Settings.get(e.uuid))))}}};const io=(0,Y.Z)(oo,[["render",to],["__scopeId","data-v-3910f573"]]);var so=io;const no={class:"toolbox"};function ao(e,t,o,i,n,a){const l=(0,s.up)("ProjectInfo"),r=(0,s.up)("WriterMenu"),d=(0,s.up)("CardsDatabaseHome"),c=(0,s.up)("PlanningBoardHome"),u=(0,s.up)("SnowFlake"),h=(0,s.up)("TimeLine"),p=(0,s.up)("MindMapHome"),g=(0,s.up)("GridPlannerHome"),m=(0,s.up)("ToolBar"),w=(0,s.up)("DistractionFree");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",no,[e.$root.session.selectedTool?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(l,{key:0})),"writer"===e.$root.session.selectedTool?((0,s.wg)(),(0,s.j4)(r,{key:1})):(0,s.kq)("",!0),"cardsdatabase"===e.$root.session.selectedTool?((0,s.wg)(),(0,s.j4)(d,{key:2})):(0,s.kq)("",!0),"planningboard"===e.$root.session.selectedTool?((0,s.wg)(),(0,s.j4)(c,{key:3})):(0,s.kq)("",!0),"snowflake"===e.$root.session.selectedTool?((0,s.wg)(),(0,s.j4)(u,{key:4})):(0,s.kq)("",!0),"timeline"===e.$root.session.selectedTool?((0,s.wg)(),(0,s.j4)(h,{key:5})):(0,s.kq)("",!0),"mindmap"===e.$root.session.selectedTool?((0,s.wg)(),(0,s.j4)(p,{key:6})):(0,s.kq)("",!0),"gridplanner"===e.$root.session.selectedTool?((0,s.wg)(),(0,s.j4)(g,{key:7})):(0,s.kq)("",!0)]),(0,s.Wm)(m),"distractionfree"===e.$root.session.selectedTool?((0,s.wg)(),(0,s.j4)(w,{key:0})):(0,s.kq)("",!0)],64)}const lo=e=>((0,s.dD)("data-v-49215368"),e=e(),(0,s.Cn)(),e),ro={class:"TopToolbar"},co=(0,s.uE)('<svg id="wavemaker_logo" version="1.1" viewBox="0 0 24 24" data-v-49215368><path d="M0 0h24v24H0V0z" fill="none" data-v-49215368></path><g transform="matrix(0.046875,0,0,0.04604639,-1.951887,-3.0598516)" data-v-49215368><g id="_921457168" data-v-49215368><path class="wavemaker_logo-top" d="M 464.632,212.901 337.566,83.292 c -22.014,-22.454 -57.758,-22.454 -79.771,0 l -126.63,129.386 c -7.411,7.559 -7.411,19.563 0,27.122 l 38.359,39.127 25.5,24.232 c 7.628,7.114 19.18,7.114 26.808,0 l 51.219,-48.242 c 14.167,-13.338 35.744,-13.338 49.693,0 l 51.219,48.242 c 7.629,7.114 19.18,7.114 26.809,0 l 25.501,-24.232 38.359,-38.904 c 7.193,-7.337 7.193,-19.563 0,-27.122 z" data-v-49215368></path><path class="wavemaker_logo-bottom" d="m 58.804,367.853 198.991,202.973 c 22.013,22.452 57.757,22.452 79.771,0 L 536.557,367.853 c 34.437,-35.125 10.244,-45.574 -15.039,-70.029 L 490.35,267.59 c -7.409,-7.336 -19.18,-7.113 -26.808,0 l -51.218,48.242 c -14.169,13.339 -35.744,13.339 -49.694,0 L 311.411,267.59 c -7.575,-7.113 -19.233,-7.113 -26.809,0 l -51.219,48.242 c -14.167,13.339 -35.744,13.339 -49.693,0 L 132.471,267.59 c -7.576,-7.113 -19.233,-7.113 -26.809,0 l -28.77,27.123 c -26.37,24.899 -54.05,36.236 -18.088,73.14 z" data-v-49215368></path></g></g></svg>',1),uo=[co],ho={style:{float:"right"}},po=["title"],go=lo((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"})],-1))),mo=lo((()=>(0,s._)("span",{class:"tooltiptext"},"Settings",-1))),wo=[go,mo],Co=lo((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z"})],-1))),vo=lo((()=>(0,s._)("span",{class:"tooltiptext"},"Save File",-1))),fo=[Co,vo],Lo=lo((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M7.71,3.5L1.15,15L4.58,21L11.13,9.5M9.73,15L6.3,21H19.42L22.85,15M22.28,14L15.42,2H8.58L8.57,2L15.43,14H22.28Z"})],-1))),Ho=lo((()=>(0,s._)("span",{class:"tooltiptext"},"Google Drive",-1))),_o=[Lo,Ho],Vo={key:0},bo=lo((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M13 19C13 19.34 13.04 19.67 13.09 20H6.5C5 20 3.69 19.5 2.61 18.43C1.54 17.38 1 16.09 1 14.58C1 13.28 1.39 12.12 2.17 11.1S4 9.43 5.25 9.15C5.67 7.62 6.5 6.38 7.75 5.43S10.42 4 12 4C13.95 4 15.6 4.68 16.96 6.04C18.32 7.4 19 9.05 19 11C20.15 11.13 21.1 11.63 21.86 12.5C22.37 13.07 22.7 13.71 22.86 14.42C21.82 13.54 20.5 13 19 13C15.69 13 13 15.69 13 19M16 18H18V22H20V18H22L19 15L16 18Z"})],-1))),yo=lo((()=>(0,s._)("span",{class:"tooltiptext"},"Quick Upload",-1))),ko=[bo,yo],$o={key:1,class:"toolbarButton"},xo=lo((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 100 100"},[(0,s._)("path",{d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50"},[(0,s._)("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})])],-1))),Do=lo((()=>(0,s._)("span",{class:"tooltiptext"},"Google Drive",-1))),Mo=[xo,Do],Bo=lo((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"})],-1))),Ao=lo((()=>(0,s._)("span",{class:"tooltiptext",style:{right:"0px"}},"Close Project",-1))),Io=[Bo,Ao],So={key:0,class:"navbar"},To=lo((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z"})],-1))),Eo=lo((()=>(0,s._)("span",{class:"tooltiptext"},"Project Home",-1))),Uo=[To,Eo],Zo=lo((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M19 2L14 6.5V17.5L19 13V2M6.5 5C4.55 5 2.45 5.4 1 6.5V21.16C1 21.41 1.25 21.66 1.5 21.66C1.6 21.66 1.65 21.59 1.75 21.59C3.1 20.94 5.05 20.5 6.5 20.5C8.45 20.5 10.55 20.9 12 22C13.35 21.15 15.8 20.5 17.5 20.5C19.15 20.5 20.85 20.81 22.25 21.56C22.35 21.61 22.4 21.59 22.5 21.59C22.75 21.59 23 21.34 23 21.09V6.5C22.4 6.05 21.75 5.75 21 5.5V19C19.9 18.65 18.7 18.5 17.5 18.5C15.8 18.5 13.35 19.15 12 20V6.5C10.55 5.4 8.45 5 6.5 5Z"})],-1))),No=lo((()=>(0,s._)("span",{class:"tooltiptext"},"Your Books",-1))),jo=[Zo,No],Yo=lo((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M22,9V7H20V5A2,2 0 0,0 18,3H4A2,2 0 0,0 2,5V19A2,2 0 0,0 4,21H18A2,2 0 0,0 20,19V17H22V15H20V13H22V11H20V9H22M18,19H4V5H18V19M6,13H11V17H6V13M12,7H16V10H12V7M6,7H11V12H6V7M12,11H16V17H12V11Z"})],-1))),Po=lo((()=>(0,s._)("span",{class:"tooltiptext"},"Planning Boards",-1))),qo=[Yo,Po],Fo=lo((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M21 16V13C21 11.89 20.11 11 19 11H13V8H15V2H9V8H11V11H5C3.89 11 3 11.89 3 13V16H1V22H7V16H5V13H11V16H9V22H15V16H13V13H19V16H17V22H23V16H21M11 4H13V6H11V4M5 20H3V18H5V20M13 20H11V18H13V20M21 20H19V18H21V20Z"})],-1))),zo=lo((()=>(0,s._)("span",{class:"tooltiptext"},"Mindmap Tool",-1))),Go=[Fo,zo],Ro=lo((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M14.25,12L16.27,11H23L22,9H18.03L20.42,5.83L19.43,3.83L15.37,9.2L13.35,10.21L13.75,8L17.83,2.62L15.64,2.22L12,7L8.4,2.2L6.2,2.6L10.26,8L10.66,10.21L8.82,9.29L8.66,9.21L4.6,3.8L3.6,5.8L6,9H2L1,11H7.77L9.75,12L7.73,13H1L2,15H5.97L3.58,18.17L4.57,20.17L8.63,14.8L10.65,13.79L10.25,16L6.17,21.38L8.36,21.79L12,17L15.6,21.8L17.8,21.4L13.74,16L13.34,13.79L15.34,14.79L19.4,20.2L20.4,18.2L18,15H22L23,13H16.23"})],-1))),Wo=lo((()=>(0,s._)("span",{class:"tooltiptext"},"Snowflake Tool",-1))),Oo=[Ro,Wo],Jo=lo((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12,20A7,7 0 0,1 5,13A7,7 0 0,1 12,6A7,7 0 0,1 19,13A7,7 0 0,1 12,20M12,4A9,9 0 0,0 3,13A9,9 0 0,0 12,22A9,9 0 0,0 21,13A9,9 0 0,0 12,4M12.5,8H11V14L15.75,16.85L16.5,15.62L12.5,13.25V8M7.88,3.39L6.6,1.86L2,5.71L3.29,7.24L7.88,3.39M22,5.72L17.4,1.86L16.11,3.39L20.71,7.25L22,5.72Z"})],-1))),Ko=lo((()=>(0,s._)("span",{class:"tooltiptext"},"Timeline Tool",-1))),Qo=[Jo,Ko],Xo=lo((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M10,4V8H14V4H10M16,4V8H20V4H16M16,10V14H20V10H16M16,16V20H20V16H16M14,20V16H10V20H14M8,20V16H4V20H8M8,14V10H4V14H8M8,8V4H4V8H8M10,14H14V10H10V14M4,2H20A2,2 0 0,1 22,4V20A2,2 0 0,1 20,22H4C2.92,22 2,21.1 2,20V4A2,2 0 0,1 4,2Z"})],-1))),ei=lo((()=>(0,s._)("span",{class:"tooltiptext"},"Gridplanner Tool",-1))),ti=[Xo,ei],oi=lo((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12,3C7.58,3 4,4.79 4,7C4,9.21 7.58,11 12,11C16.42,11 20,9.21 20,7C20,4.79 16.42,3 12,3M4,9V12C4,14.21 7.58,16 12,16C16.42,16 20,14.21 20,12V9C20,11.21 16.42,13 12,13C7.58,13 4,11.21 4,9M4,14V17C4,19.21 7.58,21 12,21C16.42,21 20,19.21 20,17V14C20,16.21 16.42,18 12,18C7.58,18 4,16.21 4,14Z"})],-1))),ii=lo((()=>(0,s._)("span",{class:"tooltiptext"},"Cards Database",-1))),si=[oi,ii];function ni(e,t,o,n,a,l){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",ro,[(0,s._)("button",{id:"wavemakerIconButton",onClick:t[0]||(t[0]=(...e)=>l.toggleNav&&l.toggleNav(...e))},uo),(0,s._)("div",ho,[(0,s._)("button",{onClick:t[1]||(t[1]=t=>e.$root.$data.popup.name="SettingsPopup"),class:"toolbarButton",title:this.$root.setlang.settings.title},wo,8,po),(0,s._)("button",{onClick:t[2]||(t[2]=(...t)=>e.$root.file_downloadDB&&e.$root.file_downloadDB(...t)),class:"toolbarButton"},fo),(0,s._)("button",{onClick:t[3]||(t[3]=t=>e.$root.popup.name="GoogleDrive"),class:"toolbarButton"},_o),e.$root.GoogleDriveApi.loggedin?((0,s.wg)(),(0,s.iD)("span",Vo,[e.$root.GoogleDriveApi.loading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:t[4]||(t[4]=e=>this.$root.GoogleDriveWriteFile()),class:"toolbarButton"},ko)),e.$root.GoogleDriveApi.loading?((0,s.wg)(),(0,s.iD)("button",$o,Mo)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("button",{onClick:t[5]||(t[5]=t=>e.$root.closeProject()),class:"toolbarButton"},Io)])]),(0,s.Wm)(i.uT,{name:"toolbar-slide-fade"},{default:(0,s.w5)((()=>[e.$root.navbar?((0,s.wg)(),(0,s.iD)("div",So,[(0,s._)("button",{class:(0,D.C_)(["toolbarButton vertical",e.$root.session.selectedTool?"":"active"]),onClick:t[6]||(t[6]=e=>l.setTool(null)),title:"Project Home"},Uo,2),(0,s._)("button",{class:(0,D.C_)(["toolbarButton vertical","writer"===e.$root.session.selectedTool?"active":""]),onClick:t[7]||(t[7]=e=>l.setTool("writer")),title:"Your Books"},jo,2),(0,s._)("button",{class:(0,D.C_)(["toolbarButton vertical","planningboard"===e.$root.session.selectedTool?"active":""]),onClick:t[8]||(t[8]=e=>l.setTool("planningboard"))},qo,2),(0,s._)("button",{class:(0,D.C_)(["toolbarButton vertical","mindmap"===e.$root.session.selectedTool?"active":""]),onClick:t[9]||(t[9]=e=>l.setTool("mindmap"))},Go,2),(0,s._)("button",{class:(0,D.C_)(["toolbarButton vertical","snowflake"===e.$root.session.selectedTool?"active":""]),onClick:t[10]||(t[10]=e=>l.setTool("snowflake"))},Oo,2),(0,s._)("button",{class:(0,D.C_)(["toolbarButton vertical","timeline"===e.$root.session.selectedTool?"active":""]),onClick:t[11]||(t[11]=e=>l.setTool("timeline"))},Qo,2),(0,s._)("button",{class:(0,D.C_)(["toolbarButton vertical","gridplanner"===e.$root.session.selectedTool?"active":""]),onClick:t[12]||(t[12]=e=>l.setTool("gridplanner"))},ti,2),(0,s._)("button",{class:(0,D.C_)(["toolbarButton vertical lastbtn","cardsdatabase"===e.$root.session.selectedTool?"active":""]),onClick:t[13]||(t[13]=e=>l.setTool("cardsdatabase"))},si,2)])):(0,s.kq)("",!0)])),_:1})],64)}var ai={name:"ToolBar",data(){return{}},methods:{setTool(e){this.$root.session.selectedTool=e,this.$root.togglenav&&(this.$root.navbar=!1)},toggleNav(){this.$root.togglenav&&(this.$root.navbar=!this.$root.navbar)}}};const li=(0,Y.Z)(ai,[["render",ni],["__scopeId","data-v-49215368"]]);var ri=li;const di=e=>((0,s.dD)("data-v-b2350e66"),e=e(),(0,s.Cn)(),e),ci={class:"wavemaker_info_box"},ui=di((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z"})],-1))),hi=di((()=>(0,s._)("hr",null,null,-1))),pi=di((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M19 2L14 6.5V17.5L19 13V2M6.5 5C4.55 5 2.45 5.4 1 6.5V21.16C1 21.41 1.25 21.66 1.5 21.66C1.6 21.66 1.65 21.59 1.75 21.59C3.1 20.94 5.05 20.5 6.5 20.5C8.45 20.5 10.55 20.9 12 22C13.35 21.15 15.8 20.5 17.5 20.5C19.15 20.5 20.85 20.81 22.25 21.56C22.35 21.61 22.4 21.59 22.5 21.59C22.75 21.59 23 21.34 23 21.09V6.5C22.4 6.05 21.75 5.75 21 5.5V19C19.9 18.65 18.7 18.5 17.5 18.5C15.8 18.5 13.35 19.15 12 20V6.5C10.55 5.4 8.45 5 6.5 5Z"})],-1))),gi=di((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M21 16V13C21 11.89 20.11 11 19 11H13V8H15V2H9V8H11V11H5C3.89 11 3 11.89 3 13V16H1V22H7V16H5V13H11V16H9V22H15V16H13V13H19V16H17V22H23V16H21M11 4H13V6H11V4M5 20H3V18H5V20M13 20H11V18H13V20M21 20H19V18H21V20Z"})],-1))),mi=di((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M14.25,12L16.27,11H23L22,9H18.03L20.42,5.83L19.43,3.83L15.37,9.2L13.35,10.21L13.75,8L17.83,2.62L15.64,2.22L12,7L8.4,2.2L6.2,2.6L10.26,8L10.66,10.21L8.82,9.29L8.66,9.21L4.6,3.8L3.6,5.8L6,9H2L1,11H7.77L9.75,12L7.73,13H1L2,15H5.97L3.58,18.17L4.57,20.17L8.63,14.8L10.65,13.79L10.25,16L6.17,21.38L8.36,21.79L12,17L15.6,21.8L17.8,21.4L13.74,16L13.34,13.79L15.34,14.79L19.4,20.2L20.4,18.2L18,15H22L23,13H16.23"})],-1))),wi=di((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12,20A7,7 0 0,1 5,13A7,7 0 0,1 12,6A7,7 0 0,1 19,13A7,7 0 0,1 12,20M12,4A9,9 0 0,0 3,13A9,9 0 0,0 12,22A9,9 0 0,0 21,13A9,9 0 0,0 12,4M12.5,8H11V14L15.75,16.85L16.5,15.62L12.5,13.25V8M7.88,3.39L6.6,1.86L2,5.71L3.29,7.24L7.88,3.39M22,5.72L17.4,1.86L16.11,3.39L20.71,7.25L22,5.72Z"})],-1))),Ci=di((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M10,4V8H14V4H10M16,4V8H20V4H16M16,10V14H20V10H16M16,16V20H20V16H16M14,20V16H10V20H14M8,20V16H4V20H8M8,14V10H4V14H8M8,8V4H4V8H8M10,14H14V10H10V14M4,2H20A2,2 0 0,1 22,4V20A2,2 0 0,1 20,22H4C2.92,22 2,21.1 2,20V4A2,2 0 0,1 4,2Z"})],-1))),vi=di((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12,3C7.58,3 4,4.79 4,7C4,9.21 7.58,11 12,11C16.42,11 20,9.21 20,7C20,4.79 16.42,3 12,3M4,9V12C4,14.21 7.58,16 12,16C16.42,16 20,14.21 20,12V9C20,11.21 16.42,13 12,13C7.58,13 4,11.21 4,9M4,14V17C4,19.21 7.58,21 12,21C16.42,21 20,19.21 20,17V14C20,16.21 16.42,18 12,18C7.58,18 4,16.21 4,14Z"})],-1)));function fi(e,t,o,n,a,l){return(0,s.wg)(),(0,s.iD)("div",ci,[(0,s._)("label",null,(0,D.zw)(this.$root.setlang.start.projectlabel),1),(0,s.wy)((0,s._)("input",{class:"projectName","onUpdate:modelValue":t[0]||(t[0]=e=>this.$root.session.settings.ProjectName=e),onChange:t[1]||(t[1]=(...e)=>l.update&&l.update(...e))},null,544),[[i.nr,this.$root.session.settings.ProjectName]]),(0,s._)("button",{onClick:t[2]||(t[2]=(...e)=>l.gettingStartedPopup&&l.gettingStartedPopup(...e)),class:"interfaceBtn"},[ui,(0,s.Uk)(" "+(0,D.zw)(this.$root.setlang.start.help),1)]),hi,(0,s._)("button",{class:"interfaceBtn",onClick:t[3]||(t[3]=e=>l.setTool("writer"))},[pi,(0,s.Uk)(" "+(0,D.zw)(this.$root.setlang.tools.writer),1)]),(0,s._)("button",{class:"interfaceBtn",onClick:t[4]||(t[4]=e=>l.setTool("mindmap"))},[gi,(0,s.Uk)(" "+(0,D.zw)(this.$root.setlang.tools.mindmap),1)]),(0,s._)("button",{class:"interfaceBtn",onClick:t[5]||(t[5]=e=>l.setTool("snowflake"))},[mi,(0,s.Uk)(" "+(0,D.zw)(this.$root.setlang.tools.snowflake),1)]),(0,s._)("button",{class:"interfaceBtn",onClick:t[6]||(t[6]=e=>l.setTool("timeline"))},[wi,(0,s.Uk)(" "+(0,D.zw)(this.$root.setlang.tools.timeline),1)]),(0,s._)("button",{class:"interfaceBtn",onClick:t[7]||(t[7]=e=>l.setTool("gridplanner"))},[Ci,(0,s.Uk)(" "+(0,D.zw)(this.$root.setlang.tools.gridplanner),1)]),(0,s._)("button",{class:"interfaceBtn",onClick:t[8]||(t[8]=e=>l.setTool("cardsdatabase"))},[vi,(0,s.Uk)(" "+(0,D.zw)(this.$root.setlang.tools.cardsdatabase),1)])])}var Li={name:"ProjectInfo",methods:{update(){let e=this.$root.session.settings.uuid;this.$root.UpdateRecord("Settings",e,this.$root.session.settings)},setTool(e){e&&(this.$root.session.writer={},this.$root.session[e]={}),this.$root.session.selectedTool=e,this.navbar=!1},gettingStartedPopup(){this.$root.openInNew("https://wavemaker.co.uk/getstarted/")}}};const Hi=(0,Y.Z)(Li,[["render",fi],["__scopeId","data-v-b2350e66"]]);var _i=Hi;const Vi=e=>((0,s.dD)("data-v-324d36ca"),e=e(),(0,s.Cn)(),e),bi={key:0,id:"ToolHome"},yi={class:"wavemaker_info_box"},ki={style:{width:"100%"}},$i={style:{width:"50px"}},xi=Vi((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M13 19C13 20.1 13.3 21.12 13.81 22H6C4.89 22 4 21.11 4 20V4C4 2.9 4.89 2 6 2H7V9L9.5 7.5L12 9V2H18C19.1 2 20 2.89 20 4V13.09C19.67 13.04 19.34 13 19 13C15.69 13 13 15.69 13 19M20 18V15H18V18H15V20H18V23H20V20H23V18H20Z"})],-1))),Di=[xi],Mi=Vi((()=>(0,s._)("hr",null,null,-1))),Bi={style:{width:"100%"}},Ai={class:"title"},Ii={class:"author"},Si=Vi((()=>(0,s._)("br",null,null,-1))),Ti={style:{width:"50px"}},Ei=["onClick"],Ui=Vi((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M19.39 10.74L11 19.13V22H6C4.89 22 4 21.11 4 20V4C4 2.9 4.89 2 6 2H7V9L9.5 7.5L12 9V2H18C19.1 2 20 2.89 20 4V10.3C19.78 10.42 19.57 10.56 19.39 10.74M13 19.96V22H15.04L21.17 15.88L19.13 13.83L13 19.96M22.85 13.47L21.53 12.15C21.33 11.95 21 11.95 20.81 12.15L19.83 13.13L21.87 15.17L22.85 14.19C23.05 14 23.05 13.67 22.85 13.47Z"})],-1))),Zi=[Ui],Ni={style:{width:"50px"}},ji=["onClick"],Yi={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Pi=Vi((()=>(0,s._)("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"},null,-1))),qi=[Pi];function Fi(e,t,o,i,n,a){const l=(0,s.up)("Writer");return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.$root.session.writer.selected?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",bi,[(0,s._)("div",yi,[(0,s._)("table",ki,[(0,s._)("tr",null,[(0,s._)("td",null,[(0,s._)("h1",null,(0,D.zw)(this.$root.setlang.tools.writer),1)]),(0,s._)("td",$i,[(0,s._)("button",{onClick:t[0]||(t[0]=(...e)=>a.addItem&&a.addItem(...e)),class:"interfaceBtn"},Di)])])]),Mi,(0,s._)("table",Bi,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.toollist,((t,o)=>((0,s.wg)(),(0,s.iD)("tr",{key:o},[(0,s._)("td",null,[(0,s._)("div",Ai,(0,D.zw)(t.title),1),(0,s._)("div",Ii,(0,D.zw)(t.description),1),(0,s._)("i",null,[Si,(0,s.Uk)(" "+(0,D.zw)(e.$root.niceDate(t.lastupdated)),1)])]),(0,s._)("td",Ti,[(0,s._)("button",{onClick:e=>a.setLiveQuery(t),class:"interfaceBtn"},Zi,8,Ei)]),(0,s._)("td",Ni,[(0,s._)("button",{onClick:e=>a.deleteItem(t),class:"interfaceBtn deleteBtn"},[((0,s.wg)(),(0,s.iD)("svg",Yi,qi))],8,ji)])])))),128))])])])),e.$root.session.writer.selected?((0,s.wg)(),(0,s.j4)(l,{key:1})):(0,s.kq)("",!0)],64)}const zi=e=>((0,s.dD)("data-v-b7397954"),e=e(),(0,s.Cn)(),e),Gi={key:0},Ri={key:0,class:"wavemaker_info_box"},Wi=(0,s.uE)('<div style="text-align:center;" data-v-b7397954><svg id="wavemaker_logo" version="1.1" viewBox="0 0 24 24" height="50" width="50" data-v-b7397954><path d="M0 0h24v24H0V0z" fill="none" data-v-b7397954></path><g transform="matrix(0.046875,0,0,0.04604639,-1.951887,-3.0598516)" data-v-b7397954><g id="_921457168" data-v-b7397954><path class="wavemaker_logo-top" d="M 464.632,212.901 337.566,83.292 c -22.014,-22.454 -57.758,-22.454 -79.771,0 l -126.63,129.386 c -7.411,7.559 -7.411,19.563 0,27.122 l 38.359,39.127 25.5,24.232 c 7.628,7.114 19.18,7.114 26.808,0 l 51.219,-48.242 c 14.167,-13.338 35.744,-13.338 49.693,0 l 51.219,48.242 c 7.629,7.114 19.18,7.114 26.809,0 l 25.501,-24.232 38.359,-38.904 c 7.193,-7.337 7.193,-19.563 0,-27.122 z" data-v-b7397954></path><path class="wavemaker_logo-bottom" d="m 58.804,367.853 198.991,202.973 c 22.013,22.452 57.757,22.452 79.771,0 L 536.557,367.853 c 34.437,-35.125 10.244,-45.574 -15.039,-70.029 L 490.35,267.59 c -7.409,-7.336 -19.18,-7.113 -26.808,0 l -51.218,48.242 c -14.169,13.339 -35.744,13.339 -49.694,0 L 311.411,267.59 c -7.575,-7.113 -19.233,-7.113 -26.809,0 l -51.219,48.242 c -14.167,13.339 -35.744,13.339 -49.693,0 L 132.471,267.59 c -7.576,-7.113 -19.233,-7.113 -26.809,0 l -28.77,27.123 c -26.37,24.899 -54.05,36.236 -18.088,73.14 z" data-v-b7397954></path></g></g></svg></div>',1),Oi={style:{width:"100%"}},Ji=zi((()=>(0,s._)("td",{style:{"max-width":"200px"}},[(0,s._)("img",{src:"img/placeholder.png",style:{"max-width":"200px"}}),(0,s._)("p",null,"(1600px X 2500px) (coming soon)")],-1))),Ki=["placeholder"],Qi=zi((()=>(0,s._)("hr",null,null,-1))),Xi=["placeholder"],es=zi((()=>(0,s._)("hr",null,null,-1))),ts=zi((()=>(0,s._)("div",null,null,-1))),os=zi((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M15.2,20H13.8L12,13.2L10.2,20H8.8L6.6,11H8.1L9.5,17.8L11.3,11H12.6L14.4,17.8L15.8,11H17.3L15.2,20M13,9V3.5L18.5,9H13Z"})],-1)));function is(e,t,o,n,a,l){const r=(0,s.up)("PageEditor"),d=(0,s.up)("WriterRightSide"),c=(0,s.up)("WriterLeftSide");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",{class:(0,D.C_)(["writer",[e.$root.lhspin?"lhspin":"",e.$root.rhspin?"rhspin":""]])},[e.$root.session.writer.file?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Gi,[this.$root.session.writer.selected?((0,s.wg)(),(0,s.iD)("div",Ri,[Wi,(0,s._)("table",Oi,[(0,s._)("tr",null,[Ji,(0,s._)("td",null,[(0,s._)("label",null,(0,D.zw)(this.$root.setlang.tools.name),1),(0,s.wy)((0,s._)("input",{type:"text",class:"formInput mantitle","onUpdate:modelValue":t[0]||(t[0]=e=>this.$root.session.writer.selected.title=e),onChange:t[1]||(t[1]=(...e)=>l.updateDatabase&&l.updateDatabase(...e)),placeholder:this.$root.setlang.tools.name},null,40,Ki),[[i.nr,this.$root.session.writer.selected.title]]),Qi,(0,s._)("label",null,(0,D.zw)(this.$root.setlang.tools.description),1),(0,s.wy)((0,s._)("input",{type:"text",class:"formInput mandesc","onUpdate:modelValue":t[2]||(t[2]=e=>this.$root.session.writer.selected.description=e),onChange:t[3]||(t[3]=(...e)=>l.updateDatabase&&l.updateDatabase(...e)),placeholder:this.$root.setlang.tools.description},null,40,Xi),[[i.nr,this.$root.session.writer.selected.description]]),es,(0,s.Uk)(" "+(0,D.zw)(this.$root.fullWordCount)+" "+(0,D.zw)(this.$root.setlang.writer.words),1)])])]),ts,(0,s._)("p",null,(0,D.zw)(this.$root.setlang.writer.intro),1),(0,s._)("button",{onClick:t[4]||(t[4]=(...e)=>l.exportDoc&&l.exportDoc(...e)),class:"interfaceBtn"},[os,(0,s.Uk)(" "+(0,D.zw)(this.$root.setlang.writer.docdownload),1)])])):(0,s.kq)("",!0)])),(0,s.Wm)(i.uT,{name:"fade"},{default:(0,s.w5)((()=>[e.$root.session.writer.file?((0,s.wg)(),(0,s.iD)("div",{class:"pageHolder",key:e.$root.session.writer.file.uuid},[(0,s.Wm)(r,{pageuuid:e.$root.session.writer.file.uuid},null,8,["pageuuid"])])):(0,s.kq)("",!0)])),_:1})],2),this.$root.session.writer.file?((0,s.wg)(),(0,s.j4)(d,{key:this.$root.session.writer.file.uuid})):(0,s.kq)("",!0),(0,s.Wm)(c)],64)}const ss=e=>((0,s.dD)("data-v-68c777b6"),e=e(),(0,s.Cn)(),e),ns={key:0,style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},as=ss((()=>(0,s._)("path",{d:"M16,12V4H17V2H7V4H8V12L6,14V16H11.2V22H12.8V16H18V14L16,12Z"},null,-1))),ls=[as],rs={key:1,style:{width:"18px",height:"px"},viewBox:"0 0 24 24"},ds=ss((()=>(0,s._)("path",{d:"M2,5.27L3.28,4L20,20.72L18.73,22L12.8,16.07V22H11.2V16H6V14L8,12V11.27L2,5.27M16,12L18,14V16H17.82L8,6.18V4H7V2H17V4H16V12Z"},null,-1))),cs=[ds],us={class:"scrollpanel"},hs={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},ps=ss((()=>(0,s._)("path",{d:"M17.5 14.33C18.29 14.33 19.13 14.41 20 14.57V16.07C19.38 15.91 18.54 15.83 17.5 15.83C15.6 15.83 14.11 16.16 13 16.82V15.13C14.17 14.6 15.67 14.33 17.5 14.33M13 12.46C14.29 11.93 15.79 11.67 17.5 11.67C18.29 11.67 19.13 11.74 20 11.9V13.4C19.38 13.24 18.54 13.16 17.5 13.16C15.6 13.16 14.11 13.5 13 14.15M17.5 10.5C15.6 10.5 14.11 10.82 13 11.5V9.84C14.23 9.28 15.73 9 17.5 9C18.29 9 19.13 9.08 20 9.23V10.78C19.26 10.59 18.41 10.5 17.5 10.5M21 18.5V7C19.96 6.67 18.79 6.5 17.5 6.5C15.45 6.5 13.62 7 12 8V19.5C13.62 18.5 15.45 18 17.5 18C18.69 18 19.86 18.16 21 18.5M17.5 4.5C19.85 4.5 21.69 5 23 6V20.56C23 20.68 22.95 20.8 22.84 20.91C22.73 21 22.61 21.08 22.5 21.08C22.39 21.08 22.31 21.06 22.25 21.03C20.97 20.34 19.38 20 17.5 20C15.45 20 13.62 20.5 12 21.5C10.66 20.5 8.83 20 6.5 20C4.84 20 3.25 20.36 1.75 21.07C1.72 21.08 1.68 21.08 1.63 21.1C1.59 21.11 1.55 21.12 1.5 21.12C1.39 21.12 1.27 21.08 1.16 21C1.05 20.89 1 20.78 1 20.65V6C2.34 5 4.18 4.5 6.5 4.5C8.83 4.5 10.66 5 12 6C13.34 5 15.17 4.5 17.5 4.5Z"},null,-1))),gs=[ps],ms={class:"addbar"},ws={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Cs=ss((()=>(0,s._)("path",{d:"M14 2H6C4.89 2 4 2.89 4 4V20C4 21.11 4.89 22 6 22H13.81C13.28 21.09 13 20.05 13 19C13 18.67 13.03 18.33 13.08 18H6V16H13.81C14.27 15.2 14.91 14.5 15.68 14H6V12H18V13.08C18.33 13.03 18.67 13 19 13S19.67 13.03 20 13.08V8L14 2M13 9V3.5L18.5 9H13M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"},null,-1))),vs=[Cs],fs={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Ls=ss((()=>(0,s._)("path",{d:"M19,15L13,21L11.58,19.58L15.17,16H4V4H6V14H15.17L11.58,10.42L13,9L19,15Z"},null,-1))),Hs=[Ls];function _s(e,t,o,i,n,a){const l=(0,s.up)("WriterNode");return this.$root.session.writer.selected?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,D.C_)(["menu",e.$root.lhspin?"lhspinned":""])},[(0,s._)("button",{class:"pinBtn",onClick:t[0]||(t[0]=t=>e.$root.lhspin=!e.$root.lhspin)},[e.$root.lhspin?((0,s.wg)(),(0,s.iD)("svg",ns,ls)):(0,s.kq)("",!0),e.$root.lhspin?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("svg",rs,cs))]),(0,s._)("div",us,[(0,s._)("button",{class:"settingsBtn",style:{border:"0",outline:"none"},onClick:t[1]||(t[1]=e=>this.$root.session.writer.file=null)},[((0,s.wg)(),(0,s.iD)("svg",hs,gs)),(0,s._)("div",null,(0,D.zw)(this.$root.setlang.writer.settings),1)]),(0,s.Wm)(l,{list:this.$root.session.writer.selected.files,onUpdateDatabase:a.updateDatabase},null,8,["list","onUpdateDatabase"])]),(0,s._)("div",ms,[(0,s._)("button",{onClick:t[2]||(t[2]=(...e)=>a.addFile&&a.addFile(...e))},[((0,s.wg)(),(0,s.iD)("svg",ws,vs))]),this.$root.session.writer.file?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:t[3]||(t[3]=(...e)=>a.addChild&&a.addChild(...e)),style:{left:"50px"}},[((0,s.wg)(),(0,s.iD)("svg",fs,Hs))])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)}o(7658);const Vs=e=>((0,s.dD)("data-v-f48e8692"),e=e(),(0,s.Cn)(),e),bs={class:"list-group-item",tabindex:"0"},ys={class:"itemBox"},ks=["onClick"],$s={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},xs=Vs((()=>(0,s._)("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1))),Ds=[xs];function Ms(e,t,o,n,a,l){const r=(0,s.up)("NodeTemplate"),d=(0,s.up)("WriterNode",!0),c=(0,s.up)("VueDraggableNext");return(0,s.wg)(),(0,s.j4)(c,(0,s.dG)({list:o.list,tag:"transition-group",handle:".handle","component-data":{tag:"div",type:"transition-group",name:a.drag?null:"flip-list"}},l.dragOptions,{onStart:t[0]||(t[0]=e=>a.drag=!0),onEnd:t[1]||(t[1]=e=>a.drag=!1),"item-key":"order",onChange:l.updateDatabase,emptyInsertThreshold:50}),{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.list,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"childbox"},[(0,s._)("div",bs,[(0,s._)("div",ys,[((0,s.wg)(),(0,s.j4)(r,{nodeElement:e,key:e.uuid,onSelectNode:t=>l.selectNode(e),onToggleFolder:t=>e.open=!e.open},null,8,["nodeElement","onSelectNode","onToggleFolder"])),(0,s._)("button",{class:"deleteIconButton",onClick:o=>l.deleteFile(t,e),tabindex:"0"},[((0,s.wg)(),(0,s.iD)("svg",$s,Ds))],8,ks)]),(0,s.Wm)(i.uT,{name:"folderslide"},{default:(0,s.w5)((()=>[e.open?((0,s.wg)(),(0,s.j4)(d,{key:0,list:e.children,onUpdateDatabase:l.updateDatabase,onSelectNode:t=>l.selectNode(e)},null,8,["list","onUpdateDatabase","onSelectNode"])):(0,s.kq)("",!0)])),_:2},1024)])])))),128))])),_:1},16,["list","component-data","onChange"])}var Bs=o(8496);const As=e=>((0,s.dD)("data-v-0199d1e2"),e=e(),(0,s.Cn)(),e),Is={key:0},Ss={key:0,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Ts=As((()=>(0,s._)("path",{d:"M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z"},null,-1))),Es=[Ts],Us={key:1,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Zs=As((()=>(0,s._)("path",{d:"M20,18H4V8H20M20,6H12L10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6Z"},null,-1))),Ns=[Zs],js={key:1},Ys={key:0,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Ps=As((()=>(0,s._)("path",{d:"M13,9H18.5L13,3.5V9M6,2H14L20,8V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V4C4,2.89 4.89,2 6,2M15,18V16H6V18H15M18,14V12H6V14H18Z"},null,-1))),qs=[Ps],Fs={key:1,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},zs=As((()=>(0,s._)("path",{d:"M6,2A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6M6,4H13V9H18V20H6V4M8,12V14H16V12H8M8,16V18H13V16H8Z"},null,-1))),Gs=[zs],Rs={class:"title"};function Ws(e,t,o,i,n,a){return n.item?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,D.C_)(["itemTitle",a.isSelected(n.item.uuid)?"chosen":""]),onClick:t[1]||(t[1]=(...e)=>a.chooseme&&a.chooseme(...e))},[(0,s._)("span",{class:"handle",onClick:t[0]||(t[0]=t=>e.$emit("toggleFolder"))},[o.nodeElement.children.length?((0,s.wg)(),(0,s.iD)("span",Is,[a.isSelected(n.item.uuid)?((0,s.wg)(),(0,s.iD)("svg",Ss,Es)):(0,s.kq)("",!0),a.isSelected(n.item.uuid)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("svg",Us,Ns))])):((0,s.wg)(),(0,s.iD)("span",js,[a.isSelected(n.item.uuid)?((0,s.wg)(),(0,s.iD)("svg",Ys,qs)):(0,s.kq)("",!0),a.isSelected(n.item.uuid)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("svg",Fs,Gs))]))]),(0,s._)("div",Rs,(0,D.zw)(n.item.title),1)],2)):(0,s.kq)("",!0)}var Os={name:"NodeTemplate",emits:["selectNode","toggleFolder"],props:{nodeElement:Object},data(){return{db:h,item:(0,w.mA)((0,u.Y1)((async()=>await h.Files.get(this.nodeElement.uuid))))}},methods:{isSelected(e){return!(!this.$root.session.writer.file||this.$root.session.writer.file.uuid!==e)},chooseme(){this.$emit("selectNode")}}};const Js=(0,Y.Z)(Os,[["render",Ws],["__scopeId","data-v-0199d1e2"]]);var Ks=Js,Qs={name:"WriterNode",components:{VueDraggableNext:Bs.J,NodeTemplate:Ks},emits:["updateDatabase"],props:{list:Array},data(){return{drag:!1}},computed:{dragOptions(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}}},methods:{deleteFile(e,t){this.$swal({title:"Are you sure?",text:"You won't be able to undo this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((o=>{o.isConfirmed&&(this.$root.session.writer.file&&this.$root.session.writer.file.uuid===t.uuid&&(this.$root.session.writer.file=null),t.children.length&&(console.log(t.children),this.recursiveDelete(t.children)),this.list.splice(e,1),this.updateDatabase(),this.$root.DeleteRecord("Files",t.uuid),this.$swal("Deleted!","Your file has been deleted.","success"))}))},recursiveDelete(e){e.forEach((e=>{this.$root.session.writer.file&&this.$root.session.writer.file.uuid===e.uuid&&(this.$root.session.writer.file=null),e.children.length&&this.recursiveDelete(e.children),this.$root.DeleteRecord("Files",e.uuid)}))},updateDatabase(){this.$emit("updateDatabase")},selectNode(e){console.log("select",e),this.$root.session.writer.file=e}}};const Xs=(0,Y.Z)(Qs,[["render",Ms],["__scopeId","data-v-f48e8692"]]);var en=Xs,tn={name:"WriterLeftSide",display:"Transitions",order:7,components:{WriterNode:en},data(){return{drag:!1,pinme:!1,defaultCard:{type:"file",name:this.$root.setlang.writer.newfile,children:[],open:!1}}},methods:{previewText(e){if(e){e=e.replace(/(<([^>]+)>)/gi," ");let t="...";return e.length<100&&(t=""),e.substring(0,75)+t}},searchforuuid(e,t){let o={index:null,parent:null};for(let i=0;i<t.length;i++){if(t[i].uuid===e.uuid)return o.index=i,o.parent=t,o;if(t[i].children.length)return this.searchforuuid(e,t[i].children)}return!1},async addFile(){let e=JSON.parse(JSON.stringify(this.defaultCard));e.uuid=this.$root.uuid();let t={};if(t.title=this.$root.setlang.writer.newfile,t.writerid=this.$root.session.writer.selected.uuid,t.uuid=e.uuid,t.content="",t.notes=[],await this.$root.AddRecord("Files",t),this.$root.session.writer.file)if(this.$root.session.writer.file.children.length)this.$root.session.writer.file.children.push(e);else{let t=this.searchforuuid(this.$root.session.writer.file,this.$root.session.writer.selected.files);t.parent.splice(t.index+1,0,e)}else this.$root.session.writer.selected.files.push(e);this.updateDatabase()},addChild(){let e=JSON.parse(JSON.stringify(this.defaultCard));e.uuid=this.$root.uuid();let t={};t.title=this.$root.setlang.writer.newfile,t.uuid=e.uuid,t.writerid=this.$root.session.writer.selected.uuid,t.content="",t.notes=[],this.$root.AddRecord("Files",t),this.$root.session.writer.file.children.push(e),console.log(this.$root.session.writer.file.children),this.updateDatabase()},updateDatabase(){this.$root.UpdateRecord("Writer",this.$root.session.writer.selected.uuid,this.$root.session.writer.selected)}},computed:{dragOptions(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}}}};const on=(0,Y.Z)(tn,[["render",_s],["__scopeId","data-v-68c777b6"]]);var sn=on;const nn=e=>((0,s.dD)("data-v-6ae13b69"),e=e(),(0,s.Cn)(),e),an={key:0,style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},ln=nn((()=>(0,s._)("path",{d:"M16,12V4H17V2H7V4H8V12L6,14V16H11.2V22H12.8V16H18V14L16,12Z"},null,-1))),rn=[ln],dn={key:1,style:{width:"18px",height:"px"},viewBox:"0 0 24 24"},cn=nn((()=>(0,s._)("path",{d:"M2,5.27L3.28,4L20,20.72L18.73,22L12.8,16.07V22H11.2V16H6V14L8,12V11.27L2,5.27M16,12L18,14V16H17.82L8,6.18V4H7V2H17V4H16V12Z"},null,-1))),un=[cn],hn={class:"scrollpanel scroll-lhs"},pn={class:"scroll-inside"},gn={key:0},mn={style:{"padding-left":"0px"}},wn=nn((()=>(0,s._)("div",{class:"handle"},[(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M1.88,0.46L0.46,1.88L5.59,7H2V9H9V2H7V5.59M11,7V9H21V15H23V9A2,2 0 0,0 21,7M7,11V21A2,2 0 0,0 9,23H15V21H9V11M15.88,14.46L14.46,15.88L19.6,21H17V23H23V17H21V19.59"})])],-1))),Cn=["onClick"],vn={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},fn=nn((()=>(0,s._)("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1))),Ln=[fn],Hn={key:0,class:"addbar"},_n={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Vn=nn((()=>(0,s._)("path",{d:"M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z"},null,-1))),bn=[Vn],yn={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},kn=nn((()=>(0,s._)("path",{d:"M13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.9 4 4 4H20C21.11 4 22 4.89 22 6V13.81C21.12 13.3 20.09 13 19 13C15.69 13 13 15.69 13 19C13 19.34 13.04 19.67 13.09 20M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"},null,-1))),$n=[kn];function xn(e,t,o,i,n,a){const l=(0,s.up)("CardViewer"),r=(0,s.up)("VueDraggableNext");return(0,s.wg)(),(0,s.iD)("div",{class:(0,D.C_)(["menu",e.$root.rhspin?"rhspinned":""])},[(0,s._)("button",{class:"pinBtn",onClick:t[0]||(t[0]=t=>e.$root.rhspin=!e.$root.rhspin)},[e.$root.rhspin?((0,s.wg)(),(0,s.iD)("svg",an,rn)):(0,s.kq)("",!0),e.$root.rhspin?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("svg",dn,un))]),(0,s._)("div",hn,[(0,s._)("div",pn,[n.item?((0,s.wg)(),(0,s.iD)("div",gn,[(0,s.Wm)(r,(0,s.dG)({list:n.item.notes,tag:"transition-group",handle:".handle","component-data":{tag:"div",type:"transition-group",name:n.drag?null:"flip-list"}},a.dragOptions,{onStart:t[1]||(t[1]=e=>n.drag=!0),onEnd:t[2]||(t[2]=e=>n.drag=!1),"item-key":"order",onChange:a.updateDatabase}),{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.item.notes,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"list-group-item",tabindex:"0"},[(0,s._)("div",mn,[((0,s.wg)(),(0,s.j4)(l,{cardid:e.uuid,allowlink:!0,onLinkcard:a.linkCard,key:e.uuid},null,8,["cardid","onLinkcard"])),wn,(0,s._)("button",{class:"deleteIconButton",onClick:o=>a.deleteNote(t,e),tabindex:"0"},[((0,s.wg)(),(0,s.iD)("svg",vn,Ln))],8,Cn)])])))),128))])),_:1},16,["list","component-data","onChange"])])):(0,s.kq)("",!0)])]),n.item?((0,s.wg)(),(0,s.iD)("div",Hn,[(0,s._)("button",{onClick:t[3]||(t[3]=t=>e.$root.openInNew("planningboard")),class:"popBtn"},[((0,s.wg)(),(0,s.iD)("svg",_n,bn))]),(0,s._)("button",{onClick:t[4]||(t[4]=(...e)=>a.addCard&&a.addCard(...e)),class:"addBtn"},[((0,s.wg)(),(0,s.iD)("svg",yn,$n))])])):(0,s.kq)("",!0)],2)}const Dn=e=>((0,s.dD)("data-v-6bb8f227"),e=e(),(0,s.Cn)(),e),Mn={key:0},Bn={key:0},An={class:"cardTitle"},In={key:0},Sn={key:1},Tn={key:1,class:"cardDescription"},En=["innerHTML"],Un=Dn((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M14.06,9L15,9.94L5.92,19H5V18.08L14.06,9M17.66,3C17.41,3 17.15,3.1 16.96,3.29L15.13,5.12L18.88,8.87L20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18.17,3.09 17.92,3 17.66,3M14.06,6.19L3,17.25V21H6.75L17.81,9.94L14.06,6.19Z"})],-1))),Zn=[Un],Nn={key:1,class:"card"},jn={key:0},Yn=Dn((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.9 4 4 4H20C21.11 4 22 4.89 22 6V13.81C21.12 13.3 20.09 13 19 13C15.69 13 13 15.69 13 19C13 19.34 13.04 19.67 13.09 20M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"})],-1))),Pn=Dn((()=>(0,s._)("div",{style:{"text-align":"center",padding:"5px"}}," or ",-1))),qn=Dn((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M11,16H10C8.39,16 6,14.94 6,12C6,9.07 8.39,8 10,8H11V10H10C9.54,10 8,10.17 8,12C8,13.9 9.67,14 10,14H11V16M15,11V13H9V11H15M14,16H13V14H14C14.46,14 16,13.83 16,12C16,10.1 14.33,10 14,10H13V8H14C15.61,8 18,9.07 18,12C18,14.94 15.61,16 14,16Z"})],-1))),Fn={key:0,class:"LinkBox"},zn={key:0},Gn=["value","onClick"],Rn=Dn((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M19,19H5V5H19V19M11,16H10C8.39,16 6,14.94 6,12C6,9.07 8.39,8 10,8H11V10H10C9.54,10 8,10.17 8,12C8,13.9 9.67,14 10,14H11V16M14,16H13V14H14C14.46,14 16,13.83 16,12C16,10.1 14.33,10 14,10H13V8H14C15.61,8 18,9.07 18,12C18,14.94 15.61,16 14,16M15,13H9V11H15V13Z"})],-1))),Wn={key:1};function On(e,t,o,i,n,a){const l=(0,s.up)("MiniImage");return(0,s.wg)(),(0,s.iD)(s.HY,null,[n.cardInfo?((0,s.wg)(),(0,s.iD)("div",Mn,[(0,s._)("div",{class:"card",onDblclick:t[1]||(t[1]=t=>e.$root.$data.session.EditCard=o.cardid),style:(0,D.j5)("background-color: var("+n.cardInfo.color+"); color : var("+n.cardInfo.color+"-f); fill : var("+n.cardInfo.color+"-f)")},[n.cardInfo.showimage?((0,s.wg)(),(0,s.iD)("div",Bn,[((0,s.wg)(),(0,s.j4)(l,{uuid:n.cardInfo.showimage,key:n.cardInfo.showimage},null,8,["uuid"]))])):(0,s.kq)("",!0),(0,s._)("div",An,[n.cardInfo.title?((0,s.wg)(),(0,s.iD)("span",In,(0,D.zw)(n.cardInfo.title),1)):((0,s.wg)(),(0,s.iD)("span",Sn,(0,D.zw)(this.$root.setlang.cards.cardtitle),1))]),n.cardInfo.showdesc?((0,s.wg)(),(0,s.iD)("div",Tn,[(0,s._)("span",{innerHTML:n.cardInfo.description},null,8,En)])):(0,s.kq)("",!0),(0,s._)("button",{class:"clearInterfaceIconButton editButton",onClick:t[0]||(t[0]=t=>e.$root.$data.session.EditCard=o.cardid)},Zn)],36)])):(0,s.kq)("",!0),n.cardInfo?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Nn,[a.chooser?((0,s.wg)(),(0,s.iD)("div",jn,[(0,s._)("button",{onClick:t[2]||(t[2]=e=>this.$root.makeNewCard(this.cardid)),class:"interfaceBtn",style:{width:"100%","text-align":"left"}},[Yn,(0,s.Uk)(" "+(0,D.zw)(this.$root.setlang.cards.createnewbtn),1)]),Pn,(0,s._)("button",{onClick:t[3]||(t[3]=e=>n.showLinkBox=!n.showLinkBox),class:"interfaceBtn"},[qn,(0,s.Uk)(" "+(0,D.zw)(this.$root.setlang.cards.linkexisting),1)]),n.showLinkBox?((0,s.wg)(),(0,s.iD)("div",Fn,[0==n.linkcards.length?((0,s.wg)(),(0,s.iD)("div",zn," No cards ")):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.linkcards,((e,t)=>((0,s.wg)(),(0,s.iD)("button",{class:"interfaceBtn",key:t,value:e.uuid,onClick:t=>a.sendlink(e.uuid)},[Rn,(0,s.Uk)(" "+(0,D.zw)(e.title),1)],8,Gn)))),128))])):(0,s.kq)("",!0)])):((0,s.wg)(),(0,s.iD)("div",Wn,"loading"))]))],64)}const Jn=["src"];function Kn(e,t,o,i,n,a){return n.base64Url?((0,s.wg)(),(0,s.iD)("img",{key:0,src:"data:image/png;base64,"+n.base64Url},null,8,Jn)):(0,s.kq)("",!0)}var Qn={name:"MiniImage",props:["uuid"],data(){return{base64Url:null}},async mounted(){let e=await h.ImageLibrary.get(this.uuid);this.base64Url=e.base64}};const Xn=(0,Y.Z)(Qn,[["render",Kn]]);var ea=Xn,ta={name:"CardViewer",emits:["linkcard"],components:{MiniImage:ea},props:{cardid:{type:String,required:!0},allowlink:{type:Boolean,default:!1}},computed:{currentProjectCards(){let e=[];return Object.keys(this.linkcards).forEach((t=>{""!=this.linkcards[t].title&&e.push(this.linkcards[t])})),e},chooser(){let e=!1;return!(this.cardInfo||!this.allowlink)||e}},data(){return{cardInfo:(0,w.mA)((0,u.Y1)((async()=>await h.Cards.get(this.cardid)))),linkcards:(0,w.mA)((0,u.Y1)((async()=>await h.Cards.where("title").notEqual("").toArray()))),advancedEdit:!1,tag:null,cardChange:null,showimage:null,showLinkBox:!1}},methods:{sendlink(e){this.$emit("linkcard",e,this.cardid)}},async mounted(){}};const oa=(0,Y.Z)(ta,[["render",On],["__scopeId","data-v-6bb8f227"]]);var ia=oa,sa={name:"WriterRightSide",display:"Transitions",order:7,components:{VueDraggableNext:Bs.J,CardViewer:ia},data(){return{drag:!1,item:(0,w.mA)((0,u.Y1)((async()=>await h.Files.get(this.$root.session.writer.file.uuid))))}},methods:{linkCard(e,t){var o=this.item.notes.find((e=>e.uuid===t));o.uuid=e,this.updateDatabase()},deleteNote(e){this.$swal({title:"Are you sure?",text:"You won't be able to undo this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((t=>{t.isConfirmed&&(this.item.notes.splice(e,1),this.updateDatabase(),this.$swal("Deleted!","Your file has been deleted.","success"))}))},addCard(){let e={};e.uuid=this.$root.uuid(),this.item.notes.push(e),this.updateDatabase()},updateDatabase(){this.$root.UpdateRecord("Files",this.item.uuid,this.item)}},computed:{dragOptions(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}}}};const na=(0,Y.Z)(sa,[["render",xn],["__scopeId","data-v-6ae13b69"]]);var aa=na;const la=e=>((0,s.dD)("data-v-0445d076"),e=e(),(0,s.Cn)(),e),ra={class:"PageEditorScroll",ref:"scrolltarget"},da={key:0,class:"titleBar"},ca=["placeholder"],ua=la((()=>(0,s._)("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M13.5,15.5H10V12.5H13.5A1.5,1.5 0 0,1 15,14A1.5,1.5 0 0,1 13.5,15.5M10,6.5H13A1.5,1.5 0 0,1 14.5,8A1.5,1.5 0 0,1 13,9.5H10M15.6,10.79C16.57,10.11 17.25,9 17.25,8C17.25,5.74 15.5,4 13.25,4H7V18H14.04C16.14,18 17.75,16.3 17.75,14.21C17.75,12.69 16.89,11.39 15.6,10.79Z"})],-1))),ha=[ua],pa=la((()=>(0,s._)("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M10,4V7H12.21L8.79,15H6V18H14V15H11.79L15.21,7H18V4H10Z"})],-1))),ga=[pa],ma=la((()=>(0,s._)("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24",class:"strikefix"},[(0,s._)("path",{d:"M23,12V14H18.61C19.61,16.14 19.56,22 12.38,22C4.05,22.05 4.37,15.5 4.37,15.5L8.34,15.55C8.37,18.92 11.5,18.92 12.12,18.88C12.76,18.83 15.15,18.84 15.34,16.5C15.42,15.41 14.32,14.58 13.12,14H1V12H23M19.41,7.89L15.43,7.86C15.43,7.86 15.6,5.09 12.15,5.08C8.7,5.06 9,7.28 9,7.56C9.04,7.84 9.34,9.22 12,9.88H5.71C5.71,9.88 2.22,3.15 10.74,2C19.45,0.8 19.43,7.91 19.41,7.89Z"})],-1))),wa=[ma],Ca=la((()=>(0,s._)("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M13,4A4,4 0 0,1 17,8A4,4 0 0,1 13,12H11V18H9V4H13M13,10A2,2 0 0,0 15,8A2,2 0 0,0 13,6H11V10H13Z"})],-1))),va=[Ca],fa=la((()=>(0,s._)("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M3,4H5V10H9V4H11V18H9V12H5V18H3V4M14,18V16H16V6.31L13.5,7.75V5.44L16,4H18V16H20V18H14Z"})],-1))),La=[fa],Ha=la((()=>(0,s._)("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M3,4H5V10H9V4H11V18H9V12H5V18H3V4M21,18H15A2,2 0 0,1 13,16C13,15.47 13.2,15 13.54,14.64L18.41,9.41C18.78,9.05 19,8.55 19,8A2,2 0 0,0 17,6A2,2 0 0,0 15,8H13A4,4 0 0,1 17,4A4,4 0 0,1 21,8C21,9.1 20.55,10.1 19.83,10.83L15,16H21V18Z"})],-1))),_a=[Ha],Va=la((()=>(0,s._)("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M13 19C13 19.7 13.13 20.37 13.35 21H5C3.9 21 3 20.11 3 19V5C3 3.9 3.9 3 5 3H19C20.11 3 21 3.9 21 5V13.35C20.37 13.13 19.7 13 19 13V5H5V19H13M13.96 12.29L11.21 15.83L9.25 13.47L6.5 17H13.35C13.75 15.88 14.47 14.91 15.4 14.21L13.96 12.29M20 18V15H18V18H15V20H18V23H20V20H23V18H20Z"})],-1))),ba=[Va],ya=la((()=>(0,s._)("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M3,4H7V8H3V4M9,5V7H21V5H9M3,10H7V14H3V10M9,11V13H21V11H9M3,16H7V20H3V16M9,17V19H21V17H9"})],-1))),ka=[ya],$a=la((()=>(0,s._)("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M7,13V11H21V13H7M7,19V17H21V19H7M7,7V5H21V7H7M3,8V5H2V4H4V8H3M2,17V16H5V20H2V19H4V18.5H3V17.5H4V17H2M4.25,10A0.75,0.75 0 0,1 5,10.75C5,10.95 4.92,11.14 4.79,11.27L3.12,13H5V14H2V13.08L4,11H2V10H4.25Z"})],-1))),xa=[$a],Da=la((()=>(0,s._)("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M22,9V7H20V5A2,2 0 0,0 18,3H4A2,2 0 0,0 2,5V19A2,2 0 0,0 4,21H18A2,2 0 0,0 20,19V17H22V15H20V13H22V11H20V9H22M18,19H4V5H18V19M6,13H11V17H6V13M12,7H16V10H12V7M6,7H11V12H6V7M12,11H16V17H12V11Z"})],-1))),Ma=[Da],Ba={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Aa=la((()=>(0,s._)("path",{d:"M20 13H16C16 14.1 15.1 15 14 15H10C8.9 15 8 14.1 8 13H4L2 18V20C2 21.1 2.9 22 4 22H20C21.1 22 22 21.1 22 20V18M6 20C5.11 20 4.66 18.92 5.29 18.29C5.92 17.66 7 18.11 7 19C7 19.55 6.55 20 6 20M10 20C9.11 20 8.66 18.92 9.29 18.29C9.92 17.66 11 18.11 11 19C11 19.55 10.55 20 10 20M14 20C13.11 20 12.66 18.92 13.29 18.29C13.92 17.66 15 18.11 15 19C15 19.55 14.55 20 14 20M18 20C17.11 20 16.66 18.92 17.29 18.29C17.92 17.66 19 18.11 19 19C19 19.55 18.55 20 18 20M18 10V3H6V10H3V12H21V10M8 5H16V6H8M8 7H14V8H8"},null,-1))),Ia=[Aa],Sa={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Ta=la((()=>(0,s._)("path",{d:"M7 16C7.55 16 8 16.45 8 17C8 18.1 7.1 19 6 19C5.83 19 5.67 19 5.5 18.95C5.81 18.4 6 17.74 6 17C6 16.45 6.45 16 7 16M18.67 3C18.41 3 18.16 3.1 17.96 3.29L9 12.25L11.75 15L20.71 6.04C21.1 5.65 21.1 5 20.71 4.63L19.37 3.29C19.17 3.09 18.92 3 18.67 3M7 14C5.34 14 4 15.34 4 17C4 18.31 2.84 19 2 19C2.92 20.22 4.5 21 6 21C8.21 21 10 19.21 10 17C10 15.34 8.66 14 7 14Z"},null,-1))),Ea=[Ta],Ua={key:0,class:"hilighter"},Za={key:2,class:"wordcountdisplay"};function Na(e,t,o,n,a,l){const r=(0,s.up)("EditorContent");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",ra,[a.editor?((0,s.wg)(),(0,s.j4)(r,{key:0,editor:a.editor},null,8,["editor"])):(0,s.kq)("",!0)],512),a.item?((0,s.wg)(),(0,s.iD)("div",da,[(0,s.wy)((0,s._)("input",{type:"text",placeholder:this.$root.setlang.writer.newfile,"onUpdate:modelValue":t[0]||(t[0]=e=>a.item.title=e),onChange:t[1]||(t[1]=(...e)=>l.changed&&l.changed(...e))},null,40,ca),[[i.nr,a.item.title]])])):(0,s.kq)("",!0),a.editor?((0,s.wg)(),(0,s.iD)("div",{key:1,class:"toolbar",style:(0,D.j5)([e.$root.$data.session.writer.lhs?"left:40px;":"",e.$root.$data.session.writer.rhs?"right:-40px;":""])},[(0,s._)("button",{onClick:t[2]||(t[2]=e=>a.editor.chain().focus().toggleBold().run()),class:(0,D.C_)({"is-active":a.editor.isActive("bold")})},ha,2),(0,s._)("button",{onClick:t[3]||(t[3]=e=>a.editor.chain().focus().toggleItalic().run()),class:(0,D.C_)({"is-active":a.editor.isActive("italic")})},ga,2),(0,s._)("button",{onClick:t[4]||(t[4]=e=>a.editor.chain().focus().toggleStrike().run()),class:(0,D.C_)({"is-active":a.editor.isActive("strike")})},wa,2),(0,s._)("button",{onClick:t[5]||(t[5]=e=>a.editor.chain().focus().setParagraph().run()),class:(0,D.C_)({"is-active":a.editor.isActive("paragraph")})},va,2),(0,s._)("button",{onClick:t[6]||(t[6]=e=>a.editor.chain().focus().toggleHeading({level:1}).run()),class:(0,D.C_)({"is-active":a.editor.isActive("heading",{level:1})})},La,2),(0,s._)("button",{onClick:t[7]||(t[7]=e=>a.editor.chain().focus().toggleHeading({level:2}).run()),class:(0,D.C_)({"is-active":a.editor.isActive("heading",{level:2})})},_a,2),(0,s._)("button",{onClick:t[8]||(t[8]=(...e)=>l.addImage&&l.addImage(...e))},ba),(0,s._)("button",{onClick:t[9]||(t[9]=e=>a.editor.chain().focus().toggleBulletList().run()),class:(0,D.C_)({"is-active":a.editor.isActive("bulletList")})},ka,2),(0,s._)("button",{onClick:t[10]||(t[10]=e=>a.editor.chain().focus().toggleOrderedList().run()),class:(0,D.C_)({"is-active":a.editor.isActive("orderedList")})},xa,2),(0,s._)("button",{onClick:t[11]||(t[11]=e=>this.$root.session.selectedTool="planningboard")},Ma),(0,s._)("button",{onClick:t[12]||(t[12]=e=>this.$root.session.selectedTool="distractionfree")},[((0,s.wg)(),(0,s.iD)("svg",Ba,Ia))]),(0,s._)("button",{onClick:t[13]||(t[13]=e=>a.hilighter=!a.hilighter)},[((0,s.wg)(),(0,s.iD)("svg",Sa,Ea))]),a.hilighter?((0,s.wg)(),(0,s.iD)("div",Ua,[(0,s._)("button",{style:{"background-color":"yellow"},onClick:t[14]||(t[14]=e=>a.editor.chain().focus().toggleHighlight({color:"yellow"}).run())}),(0,s._)("button",{style:{"background-color":"#ffc078"},onClick:t[15]||(t[15]=e=>a.editor.chain().focus().toggleHighlight({color:"#ffc078"}).run())}),(0,s._)("button",{style:{"background-color":"#8ce99a"},onClick:t[16]||(t[16]=e=>a.editor.chain().focus().toggleHighlight({color:"#8ce99a"}).run())}),(0,s._)("button",{style:{"background-color":"#74c0fc"},onClick:t[17]||(t[17]=e=>a.editor.chain().focus().toggleHighlight({color:"#74c0fc"}).run())}),(0,s._)("button",{style:{"background-color":"#b197fc"},onClick:t[18]||(t[18]=e=>a.editor.chain().focus().toggleHighlight({color:"#b197fc"}).run())}),(0,s._)("button",{style:{"background-color":"#ffa8a8"},onClick:t[19]||(t[19]=e=>a.editor.chain().focus().toggleHighlight({color:"#ffa8a8"}).run())}),(0,s._)("button",{style:{"background-color":"#ff0000"},onClick:t[20]||(t[20]=e=>a.editor.chain().focus().toggleHighlight({color:"#ff0000"}).run())})])):(0,s.kq)("",!0)],4)):(0,s.kq)("",!0),a.item?((0,s.wg)(),(0,s.iD)("div",Za,(0,D.zw)(a.item.wordcount)+" of "+(0,D.zw)(this.$root.fullWordCount),1)):(0,s.kq)("",!0)])}var ja=o(9576),Ya=o(9212),Pa=o(7779),qa=o(2943),Fa=o(4524),za={name:"NewPage",props:{pageuuid:String},components:{EditorContent:ja.kg},data(){return{item:this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Files.get(this.pageuuid)))),editor:null,updateUUID:null,mypos:0,hilighter:!1}},methods:{repositionEditor(){if(this.mypos=this.getCaretPosition(),0!=this.mypos){let e=parseInt(this.mypos)+this.$refs.scrolltarget.scrollTop-window.innerHeight/2;this.$refs.scrolltarget.scrollTo({top:e,behavior:"smooth"})}},getCaretPosition(){var e,t,o=0;return e=window.getSelection(),t=e.getRangeAt(0),o=t.getBoundingClientRect(),o.y},changed(){this.$root.UpdateRecord("Files",this.item.uuid,this.item)},addImage(){let e=window.prompt("Provide a URL to your image");if(e){if(e.includes("drive.google.com")){let t=e.split("/"),o=t[0]+"//"+t[2]+"/uc?export=view&id="+t[5];e=o}this.editor.chain().focus().setImage({src:e}).run()}}},mounted(){this.updateUUID=this.$root.uuid(),this.$watch("item",((e,t)=>{if(!t)return this.editor.commands.setContent(this.item.content),this.item.wordcount=this.$root.wordCounter(this.editor.getHTML()),this.$root.calcFullWordCount(),!1;e.updateUUID!=this.updateUUID&&(this.editor.commands.setContent(e.content),this.item.wordcount=this.$root.wordCounter(this.editor.getHTML()),this.$root.calcFullWordCount())})),this.editor=new ja.ML({extensions:[Ya.Z,Pa.ZP,qa.ZP,Fa.ZP.configure({multicolor:!0})],content:"",onTransaction:()=>{this.repositionEditor()},onUpdate:()=>{this.item.wordcount=this.$root.wordCounter(this.editor.getHTML()),this.text=this.editor.getHTML(),this.item.content=this.text,this.item.updateUUID=this.updateUUID,this.$emit("update:modelValue",this.editor.getJSON()),this.$root.calcFullWordCount(),this.changed()}})},beforeUnmount(){this.editor&&this.editor.destroy()}};const Ga=(0,Y.Z)(za,[["render",Na],["__scopeId","data-v-0445d076"]]);var Ra=Ga,Wa={name:"WriterTool",components:{WriterLeftSide:sn,WriterRightSide:aa,PageEditor:Ra},data(){return{exportHTML:null,exportObject:{}}},methods:{async exportDoc(){this.exportObject={};let e=await this.$root.db.Files.where({writerid:this.$root.session.writer.selected.uuid}).toArray();e.forEach((e=>{this.exportObject[e.uuid]=e})),this.exportHTML="",this.getfileexport(this.$root.session.writer.selected.files),window.Export2Word(this.exportHTML),this.exportHTML="",this.exportObject={}},getfileexport(e){e.forEach((e=>{let t=this.exportObject[e.uuid];this.exportHTML=this.exportHTML+"<h1>"+t.title+"</h1>"+t.content,e.children&&e.children.length&&this.getfileexport(e.children)}))},updateDatabase(){this.$root.UpdateRecord("Writer",this.$root.session.writer.selected.uuid,this.$root.session.writer.selected)}},mounted(){this.$root.calcFullWordCount()}};const Oa=(0,Y.Z)(Wa,[["render",is],["__scopeId","data-v-b7397954"]]);var Ja=Oa,Ka={name:"WriterHome",components:{Writer:Ja},data(){return{toollist:this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Writer.toArray())))}},methods:{addItem(){let e={title:"",description:"",files:[]};e.uuid=this.$root.uuid(),this.$root.AddRecord("Writer",e),this.$root.session.writer.selected=e},setLiveQuery(e){this.$root.session.writer.selected=this.$root.useObservable(this.$root.liveQuery((()=>this.$root.db.Writer.get(e.uuid))))},deleteItem(e){this.$swal({title:"Are you sure?",text:"You won't be able to undo this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((t=>{t.isConfirmed&&(this.recursiveDelete(e.files),this.$root.DeleteRecord("Writer",e.uuid),this.$swal("Deleted!","Your file has been deleted.","success"))}))},recursiveDelete(e){e.forEach((e=>{e.children.length&&this.recursiveDelete(e.children),this.$root.DeleteRecord("Files",e.uuid)}))}},created(){this.$root.session.writer||(this.$root.session.writer={})}};const Qa=(0,Y.Z)(Ka,[["render",Fi],["__scopeId","data-v-324d36ca"]]);var Xa=Qa;const el=e=>((0,s.dD)("data-v-6fd19d63"),e=e(),(0,s.Cn)(),e),tl={class:"toolbar"},ol={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},il=el((()=>(0,s._)("path",{d:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"},null,-1))),sl=[il],nl=["placeholder"],al=el((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.9 4 4 4H20C21.11 4 22 4.89 22 6V13.81C21.12 13.3 20.09 13 19 13C15.69 13 13 15.69 13 19C13 19.34 13.04 19.67 13.09 20M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"})],-1))),ll=[al],rl={id:"scrollWindow"},dl={style:{padding:"15px","padding-right":"135px"}},cl={class:"cardFrame"},ul=["onClick"],hl={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},pl=el((()=>(0,s._)("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1))),gl=[pl],ml={class:"taglist"},wl=["onClick"];function Cl(e,t,o,n,a,l){const r=(0,s.up)("CardViewer"),d=(0,s.up)("masonry-wall");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",tl,[((0,s.wg)(),(0,s.iD)("svg",ol,sl)),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.SearchTerm=e),placeholder:this.$root.setlang.db.search},null,8,nl),[[i.nr,a.SearchTerm]]),(0,s._)("button",{onClick:t[1]||(t[1]=e=>this.$root.makeNewCard()),class:"interfaceBtn"},ll)]),(0,s._)("div",rl,[(0,s._)("div",dl,[(0,s.Wm)(d,{items:l.CardsArray,"ssr-columns":1,"column-width":300,gap:16},{default:(0,s.w5)((({item:e})=>[(0,s._)("div",cl,[((0,s.wg)(),(0,s.j4)(r,{cardid:e.uuid,key:e.lastupdated},null,8,["cardid"])),(0,s._)("button",{class:"deleteIconButton",onClick:t=>l.deleteCard(e.uuid)},[((0,s.wg)(),(0,s.iD)("svg",hl,gl))],8,ul)])])),_:1},8,["items"])]),(0,s._)("div",ml,[(0,s._)("div",null,[(0,s._)("button",{onClick:t[2]||(t[2]=t=>a.currentTag=e.tag),style:{"background-color":"var(--primary)",color:"var(--primary-f)"}}," [ "+(0,D.zw)(this.$root.setlang.db.clear)+" ] ",1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.taglist.sort(),((e,t)=>((0,s.wg)(),(0,s.iD)("button",{onClick:t=>a.currentTag=e,key:t},(0,D.zw)(e),9,wl)))),128))])])])],64)}var vl=o(3693),fl={name:"CardsDatabaseHome",data(){return{SearchTerm:null,currentTag:null,cardList:(0,w.mA)((0,u.Y1)((async()=>await h.Cards.toArray())))}},components:{CardViewer:ia,MasonryWall:vl.Z},computed:{CardsArray(){let e=[];return this.cardList&&this.cardList.forEach((t=>{let o=!1;this.SearchTerm?(t.title.toLowerCase().includes(this.SearchTerm.toLowerCase())||t.description.toLowerCase().includes(this.SearchTerm.toLowerCase()))&&(o=!0):o=!0;let i=!1;this.currentTag?t.labels.includes(this.currentTag)&&(i=!0):i=!0,o&&i&&e.push(t)})),e},taglist(){let e=[];return this.CardsArray.forEach((t=>{t.labels.forEach((t=>{e.includes(t)||e.push(t)}))})),e}},methods:{deleteCard(e){this.$swal({title:"Are you sure?",text:"You won't be able to undo this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((t=>{t.isConfirmed&&(this.$root.DeleteRecord("Cards",e),this.$swal("Deleted!","Your file has been deleted.","success"))}))}},mounted(){}};const Ll=(0,Y.Z)(fl,[["render",Cl],["__scopeId","data-v-6fd19d63"]]);var Hl=Ll;const _l=e=>((0,s.dD)("data-v-3e116fe0"),e=e(),(0,s.Cn)(),e),Vl={key:0,id:"ToolHome"},bl={class:"wavemaker_info_box"},yl={style:{width:"100%"}},kl={style:{width:"50px"}},$l=_l((()=>(0,s._)("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M22,9V7H20V5A2,2 0 0,0 18,3H4A2,2 0 0,0 2,5V19A2,2 0 0,0 4,21H18A2,2 0 0,0 20,19V17H22V15H20V13H22V11H20V9H22M18,19H4V5H18V19M6,13H11V17H6V13M12,7H16V10H12V7M6,7H11V12H6V7M12,11H16V17H12V11Z"})],-1))),xl=[$l],Dl=_l((()=>(0,s._)("hr",null,null,-1))),Ml={style:{width:"100%"}},Bl={class:"title"},Al={class:"author"},Il=_l((()=>(0,s._)("br",null,null,-1))),Sl={style:{width:"50px"}},Tl=["onClick"],El=_l((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M19.39 10.74L11 19.13V22H6C4.89 22 4 21.11 4 20V4C4 2.9 4.89 2 6 2H7V9L9.5 7.5L12 9V2H18C19.1 2 20 2.89 20 4V10.3C19.78 10.42 19.57 10.56 19.39 10.74M13 19.96V22H15.04L21.17 15.88L19.13 13.83L13 19.96M22.85 13.47L21.53 12.15C21.33 11.95 21 11.95 20.81 12.15L19.83 13.13L21.87 15.17L22.85 14.19C23.05 14 23.05 13.67 22.85 13.47Z"})],-1))),Ul=[El];function Zl(e,t,o,i,n,a){const l=(0,s.up)("PlanningBoard");return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.$root.session.writer.selected?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Vl,[(0,s._)("div",bl,[(0,s._)("table",yl,[(0,s._)("tr",null,[(0,s._)("td",null,[(0,s._)("h1",null,(0,D.zw)(this.$root.setlang.tools.planningboard),1)]),(0,s._)("td",kl,[(0,s._)("button",{onClick:t[0]||(t[0]=(...e)=>a.addItem&&a.addItem(...e)),class:"interfaceBtn"},xl)])])]),Dl,(0,s._)("table",Ml,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.toollist,((t,o)=>((0,s.wg)(),(0,s.iD)("tr",{key:o},[(0,s._)("td",null,[(0,s._)("div",Bl,(0,D.zw)(t.title),1),(0,s._)("div",Al,(0,D.zw)(t.description),1),(0,s._)("i",null,[Il,(0,s.Uk)(" "+(0,D.zw)(e.$root.niceDate(t.lastupdated)),1)])]),(0,s._)("td",Sl,[(0,s._)("button",{onClick:e=>a.setLiveQuery(t),class:"interfaceBtn"},Ul,8,Tl)])])))),128))])])])),e.$root.session.writer.selected?((0,s.wg)(),(0,s.j4)(l,{key:e.$root.session.writer.selected.lastupdated})):(0,s.kq)("",!0)],64)}const Nl=e=>((0,s.dD)("data-v-40d9a67c"),e=e(),(0,s.Cn)(),e),jl={key:0,class:"planningBoardHolder"},Yl={id:"toolbox"},Pl=Nl((()=>(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M19 2L14 6.5V17.5L19 13V2M6.5 5C4.55 5 2.45 5.4 1 6.5V21.16C1 21.41 1.25 21.66 1.5 21.66C1.6 21.66 1.65 21.59 1.75 21.59C3.1 20.94 5.05 20.5 6.5 20.5C8.45 20.5 10.55 20.9 12 22C13.35 21.15 15.8 20.5 17.5 20.5C19.15 20.5 20.85 20.81 22.25 21.56C22.35 21.61 22.4 21.59 22.5 21.59C22.75 21.59 23 21.34 23 21.09V6.5C22.4 6.05 21.75 5.75 21 5.5V19C19.9 18.65 18.7 18.5 17.5 18.5C15.8 18.5 13.35 19.15 12 20V6.5C10.55 5.4 8.45 5 6.5 5Z"})],-1))),ql=[Pl],Fl={class:"boardTable",cellspacing:"0",cellpadding:"0"},zl={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Gl=Nl((()=>(0,s._)("path",{d:"M11,2A2,2 0 0,1 13,4V20A2,2 0 0,1 11,22H2V2H11M4,10V14H11V10H4M4,16V20H11V16H4M4,4V8H11V4H4M15,11H18V8H20V11H23V13H20V16H18V13H15V11Z"},null,-1))),Rl=[Gl];function Wl(e,t,o,n,a,l){const r=(0,s.up)("PlanningBoardCards");return(0,s.wg)(),(0,s.iD)(s.HY,null,[a.WriterLQ?((0,s.wg)(),(0,s.iD)("div",jl,[(0,s._)("div",Yl,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>this.WriterLQ.title=e),class:"titleinput",onChange:t[1]||(t[1]=(...e)=>l.updateDatabase&&l.updateDatabase(...e))},null,544),[[i.nr,this.WriterLQ.title]]),(0,s._)("button",{onClick:t[2]||(t[2]=e=>this.$root.session.selectedTool="writer"),class:"toolbutton"},ql)]),(0,s._)("table",Fl,[(0,s._)("tr",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.WriterLQ.files,((e,t)=>((0,s.wg)(),(0,s.j4)(r,{key:t,fileId:e.uuid,FileNode:e},null,8,["fileId","FileNode"])))),128))])])])):(0,s.kq)("",!0),(0,s._)("button",{class:"add-col-btn",onClick:t[3]||(t[3]=(...e)=>l.addFile&&l.addFile(...e))},[((0,s.wg)(),(0,s.iD)("svg",zl,Rl))])],64)}const Ol=e=>((0,s.dD)("data-v-28cc4d6b"),e=e(),(0,s.Cn)(),e),Jl={style:{width:"320px"},width:"320px"},Kl=["placeholder"],Ql={class:"hscroll"},Xl={class:"clearInterfaceIconButton cardHandle"},er={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},tr=Ol((()=>(0,s._)("path",{d:"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"},null,-1))),or=[tr],ir=["onClick"],sr={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},nr=Ol((()=>(0,s._)("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1))),ar=[nr],lr={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},rr=Ol((()=>(0,s._)("path",{d:"M13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.9 4 4 4H20C21.11 4 22 4.89 22 6V13.81C21.12 13.3 20.09 13 19 13C15.69 13 13 15.69 13 19C13 19.34 13.04 19.67 13.09 20M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"},null,-1))),dr=[rr];function cr(e,t,o,n,a,l){const r=(0,s.up)("CardViewer"),d=(0,s.up)("VueDraggableNext"),c=(0,s.up)("PlanningBoardCards",!0);return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("td",Jl,[a.MyFile?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",{class:"titleBar",onClick:t[2]||(t[2]=(...e)=>l.selectCol&&l.selectCol(...e))},[(0,s.wy)((0,s._)("input",{type:"text",class:"titleBarInput","onUpdate:modelValue":t[0]||(t[0]=e=>a.MyFile.title=e),placeholder:this.$root.setlang.writer.newfile,onChange:t[1]||(t[1]=(...e)=>l.updateDatabase&&l.updateDatabase(...e))},null,40,Kl),[[i.nr,a.MyFile.title]])]),(0,s._)("div",Ql,[(0,s.Wm)(d,(0,s.dG)({list:a.MyFile.notes,tag:"transition-group",group:"board",class:"list-group-card","component-data":{tag:"div",type:"transition-group",name:a.drag?null:"flip-list"},handle:".cardHandle"},l.dragOptions,{onStart:t[3]||(t[3]=e=>a.drag=!0),onEnd:t[4]||(t[4]=e=>a.drag=!1),emptyInsertThreshold:90,onChange:l.updateDatabase}),{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.MyFile.notes,((t,o)=>((0,s.wg)(),(0,s.iD)("div",{key:o,class:"list-group-card-item",tabindex:"0"},[((0,s.wg)(),(0,s.j4)(r,{cardid:t.uuid,allowlink:!0,onLinkcard:l.linkCard,key:e.$root.uuid()},null,8,["cardid","onLinkcard"])),(0,s._)("div",Xl,[((0,s.wg)(),(0,s.iD)("svg",er,or))]),(0,s._)("button",{class:"deleteIconButton",onClick:e=>l.deleteNote(o,t),tabindex:"0"},[((0,s.wg)(),(0,s.iD)("svg",sr,ar))],8,ir)])))),128))])),_:1},16,["list","component-data","onChange"]),(0,s._)("button",{class:"add-card",onClick:t[5]||(t[5]=e=>l.addCard())},[((0,s.wg)(),(0,s.iD)("svg",lr,dr))])])],64)):(0,s.kq)("",!0)]),o.FileNode.children.length?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(o.FileNode.children,((e,t)=>((0,s.wg)(),(0,s.j4)(c,{fileId:e.uuid,key:t,FileNode:e},null,8,["fileId","FileNode"])))),128)):(0,s.kq)("",!0)],64)}var ur={name:"PlanningBoardCols",components:{VueDraggableNext:Bs.J,CardViewer:ia},props:{fileId:{type:String,required:!0},FileNode:{type:Object}},computed:{dragOptions(){return{animation:200,group:"Cards",disabled:!1,ghostClass:"ghost"}}},data(){return{drag:!1,MyFile:this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Files.get(this.fileId))))}},methods:{selectCol(){this.$root.session.writer.file=this.FileNode,console.log("Col Selected",this.$root.session.writer.file)},linkCard(e,t){var o=this.MyFile.notes.find((e=>e.uuid===t));o.uuid=e,this.updateDatabase()},deleteNote(e){this.$swal({title:"Are you sure?",text:"You won't be able to undo this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((t=>{t.isConfirmed&&(this.MyFile.notes.splice(e,1),this.updateDatabase(),this.$swal("Deleted!","Your file has been deleted.","success"))}))},addCard(){let e={};e.uuid=this.$root.uuid(),this.MyFile.notes.push(e),this.updateDatabase()},updateDatabase(){this.$root.UpdateRecord("Files",this.MyFile.uuid,this.MyFile)}}};const hr=(0,Y.Z)(ur,[["render",cr],["__scopeId","data-v-28cc4d6b"]]);var pr=hr,gr={name:"PlanningBoard",components:{PlanningBoardCards:pr},data(){return{WriterLQ:this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Writer.get(this.$root.session.writer.selected.uuid)))),ColumnArray:[],TempArray:[]}},methods:{deleteFile(e,t){this.$swal({title:"Are you sure?",text:"You won't be able to undo this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((o=>{o.isConfirmed&&(this.$root.$data.session.writer.file===t&&(this.$root.$data.session.writer.file=null),this.WriterLQ.files.splice(e,1),this.updateDatabase(),this.$swal("Deleted!","Your file has been deleted.","success"))}))},addFile(){console.log("Add needed");let e=JSON.parse(JSON.stringify({type:"file",name:this.$root.setlang.writer.newfile,children:[],content:null}));e.uuid=this.$root.uuid();let t={};if(t.title=this.$root.setlang.writer.newfile,t.writerid=this.$root.session.writer.selected.uuid,t.uuid=e.uuid,t.content="",t.notes=[],this.$root.AddRecord("Files",t),this.$root.session.writer.file){let t=this.WriterLQ.files.indexOf(this.$root.session.writer.file);this.WriterLQ.files.splice(t+1,0,e)}else this.WriterLQ.files.push(e);this.updateDatabase()},updateDatabase(){console.log("list changed"),this.$root.UpdateRecord("Writer",this.WriterLQ.uuid,this.WriterLQ)}}};const mr=(0,Y.Z)(gr,[["render",Wl],["__scopeId","data-v-40d9a67c"]]);var wr=mr,Cr={name:"PlanningBoardHome",components:{PlanningBoard:wr},data(){return{toollist:this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Writer.toArray())))}},methods:{addItem(){let e={title:"",description:"",files:[]};e.uuid=this.$root.uuid(),this.$root.AddRecord("Writer",e),this.$root.session.writer.selected=e},setLiveQuery(e){this.$root.session.writer.selected=this.$root.useObservable(this.$root.liveQuery((()=>this.$root.db.Writer.get(e.uuid))))}},created(){this.$root.session.writer||(this.$root.session.writer={})}};const vr=(0,Y.Z)(Cr,[["render",Zl],["__scopeId","data-v-3e116fe0"]]);var fr=vr;const Lr={key:0,id:"ToolHome"},Hr={class:"wavemaker_info_box"},_r={style:{width:"100%"}},Vr={style:{width:"50px"}},br=(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M14.25,12L16.27,11H23L22,9H18.03L20.42,5.83L19.43,3.83L15.37,9.2L13.35,10.21L13.75,8L17.83,2.62L15.64,2.22L12,7L8.4,2.2L6.2,2.6L10.26,8L10.66,10.21L8.82,9.29L8.66,9.21L4.6,3.8L3.6,5.8L6,9H2L1,11H7.77L9.75,12L7.73,13H1L2,15H5.97L3.58,18.17L4.57,20.17L8.63,14.8L10.65,13.79L10.25,16L6.17,21.38L8.36,21.79L12,17L15.6,21.8L17.8,21.4L13.74,16L13.34,13.79L15.34,14.79L19.4,20.2L20.4,18.2L18,15H22L23,13H16.23"})],-1),yr=[br],kr={key:0},$r=(0,s._)("hr",null,null,-1),xr=["placeholder"],Dr={style:{"text-align":"right"}},Mr=(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})],-1),Br=[Mr],Ar=(0,s._)("hr",null,null,-1),Ir={key:1,style:{width:"100%"}},Sr={class:"title"},Tr=(0,s._)("br",null,null,-1),Er={style:{width:"50px"}},Ur=["onClick"],Zr=(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"})],-1),Nr=[Zr],jr={style:{width:"50px"}},Yr=["onClick"],Pr={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},qr=(0,s._)("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"},null,-1),Fr=[qr];function zr(e,t,o,n,a,l){const r=(0,s.up)("SnowFlakeTool");return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.$root.$data.session.snowflake.selected?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Lr,[(0,s._)("div",Hr,[(0,s._)("table",_r,[(0,s._)("tr",null,[(0,s._)("td",null,[(0,s._)("h1",null,(0,D.zw)(this.$root.setlang.tools.snowflake),1)]),(0,s._)("td",Vr,[(0,s._)("button",{onClick:t[0]||(t[0]=e=>a.showaddform=!a.showaddform),class:"interfaceBtn"},yr)])])]),a.showaddform?((0,s.wg)(),(0,s.iD)("div",kr,[$r,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>a.title=e),placeholder:this.$root.setlang.tools.name,class:"formInput"},null,8,xr),[[i.nr,a.title]]),(0,s._)("div",Dr,[(0,s._)("button",{onClick:t[2]||(t[2]=(...e)=>l.addItem&&l.addItem(...e)),class:"interfaceBtn"},Br)])])):(0,s.kq)("",!0),Ar,a.showaddform?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("table",Ir,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.Snowflakes,((t,o)=>((0,s.wg)(),(0,s.iD)("tr",{key:o},[(0,s._)("td",null,[(0,s._)("div",Sr,(0,D.zw)(t.title),1),(0,s._)("i",null,[Tr,(0,s.Uk)(" "+(0,D.zw)(e.$root.niceDate(t.lastupdated)),1)])]),(0,s._)("td",Er,[(0,s._)("button",{onClick:e=>l.chooseItem(t),class:"interfaceBtn"},Nr,8,Ur)]),(0,s._)("td",jr,[(0,s._)("button",{onClick:e=>l.deleteItem(t),class:"interfaceBtn deleteBtn"},[((0,s.wg)(),(0,s.iD)("svg",Pr,Fr))],8,Yr)])])))),128))]))])])),e.$root.$data.session.snowflake.selected?((0,s.wg)(),(0,s.j4)(r,{key:1})):(0,s.kq)("",!0)],64)}const Gr=e=>((0,s.dD)("data-v-0636d3aa"),e=e(),(0,s.Cn)(),e),Rr={class:"scroller"},Wr={id:"toolbox"},Or={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Jr=Gr((()=>(0,s._)("path",{d:"M9 12H18.8L16.3 9.5L17.7 8.1L22.6 13L17.7 17.9L16.3 16.5L18.8 14H9V12M21 17.4V20H3V6H21V8.6L23 10.6V4C23 2.9 22.1 2 21 2H3C1.9 2 1 2.9 1 4V20C1 21.1 1.9 22 3 22H21C22.1 22 23 21.1 23 20V15.4L21 17.4Z"},null,-1))),Kr=[Jr],Qr={class:"row"},Xr={class:"card"},ed=["onClick"],td={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},od=Gr((()=>(0,s._)("path",{d:"M8,2H16A2,2 0 0,1 18,4V20A2,2 0 0,1 16,22H8A2,2 0 0,1 6,20V4A2,2 0 0,1 8,2M8,10V14H16V10H8M8,16V20H16V16H8M8,4V8H16V4H8Z"},null,-1))),id=[od],sd=["onUpdate:modelValue","placeholder"],nd=["onClick"],ad=Gr((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"})],-1))),ld=[ad],rd={key:0,class:"column"},dd={class:"card"},cd=["onUpdate:modelValue","placeholder"],ud={class:"card"},hd=["onUpdate:modelValue","placeholder"],pd={class:"card"},gd=["onUpdate:modelValue","placeholder"],md=["onClick"],wd={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Cd=Gr((()=>(0,s._)("path",{d:"M14.58,16.59L19.17,12L14.58,7.41L16,6L22,12L16,18L14.58,16.59M8.58,16.59L13.17,12L8.58,7.41L10,6L16,12L10,18L8.58,16.59M2.58,16.59L7.17,12L2.58,7.41L4,6L10,12L4,18L2.58,16.59Z"},null,-1))),vd=[Cd];function fd(e,t,o,n,a,l){const r=(0,s.up)("MiniEditor");return(0,s.wg)(),(0,s.iD)("div",Rr,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.$root.session.snowflake.selected.content,((o,n)=>((0,s.wg)(),(0,s.iD)(s.HY,{key:n},[(0,s._)("div",Wr,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.$root.session.snowflake.selected.title=t),class:"titleinput",onChange:t[1]||(t[1]=(...e)=>l.updateDatabase&&l.updateDatabase(...e))},null,544),[[i.nr,e.$root.session.snowflake.selected.title]]),(0,s._)("button",{onClick:t[2]||(t[2]=(...e)=>l.exportToManuscript&&l.exportToManuscript(...e)),class:"toolbutton"},[((0,s.wg)(),(0,s.iD)("svg",Or,Kr))])]),(0,s._)("div",Qr,[(0,s._)("div",{class:"column",style:(0,D.j5)(o.open?"":"display:block")},[(0,s._)("div",Xr,[(0,s._)("button",{class:"open-flake-button",onClick:e=>l.openflake(o)},[((0,s.wg)(),(0,s.iD)("svg",td,id))],8,ed),(0,s.wy)((0,s._)("input",{class:"title","onUpdate:modelValue":e=>o.title=e,placeholder:this.$root.setlang.snowflake.title,onChange:t[3]||(t[3]=(...e)=>l.updateDatabase&&l.updateDatabase(...e))},null,40,sd),[[i.nr,o.title]]),(0,s.Wm)(r,{snowFlake:o,modelValue:o.content,"onUpdate:modelValue":e=>o.content=e,onUpdated:l.updateDatabase},null,8,["snowFlake","modelValue","onUpdate:modelValue","onUpdated"]),(0,s._)("button",{class:"delete-flake-button",onClick:e=>l.deleteFlake(n)},ld,8,nd)])],4),(0,s.Wm)(i.uT,{name:"h-slide-fade"},{default:(0,s.w5)((()=>[o.open?((0,s.wg)(),(0,s.iD)("div",rd,[(0,s._)("div",dd,[(0,s.wy)((0,s._)("input",{class:"title","onUpdate:modelValue":e=>o.children[0].title=e,placeholder:this.$root.setlang.snowflake.title,onChange:t[4]||(t[4]=(...e)=>l.updateDatabase&&l.updateDatabase(...e))},null,40,cd),[[i.nr,o.children[0].title]]),(0,s.Wm)(r,{snowFlake:o.children[0],modelValue:o.children[0].content,"onUpdate:modelValue":e=>o.children[0].content=e,onUpdated:l.updateDatabase},null,8,["snowFlake","modelValue","onUpdate:modelValue","onUpdated"])]),(0,s._)("div",ud,[(0,s.wy)((0,s._)("input",{class:"title","onUpdate:modelValue":e=>o.children[1].title=e,placeholder:this.$root.setlang.snowflake.title,onChange:t[5]||(t[5]=(...e)=>l.updateDatabase&&l.updateDatabase(...e))},null,40,hd),[[i.nr,o.children[1].title]]),(0,s.Wm)(r,{snowFlake:o.children[1],modelValue:o.children[1].content,"onUpdate:modelValue":e=>o.children[1].content=e,onUpdated:l.updateDatabase},null,8,["snowFlake","modelValue","onUpdate:modelValue","onUpdated"])]),(0,s._)("div",pd,[(0,s.wy)((0,s._)("input",{class:"title","onUpdate:modelValue":e=>o.children[2].title=e,placeholder:this.$root.setlang.snowflake.title,onChange:t[6]||(t[6]=(...e)=>l.updateDatabase&&l.updateDatabase(...e))},null,40,gd),[[i.nr,o.children[2].title]]),(0,s.Wm)(r,{snowFlake:o.children[2],modelValue:o.children[2].content,"onUpdate:modelValue":e=>o.children[2].content=e,onUpdated:l.updateDatabase},null,8,["snowFlake","modelValue","onUpdate:modelValue","onUpdated"])]),(0,s._)("button",{class:"replaceButton",onClick:e=>l.replace(o,n)},[((0,s.wg)(),(0,s.iD)("svg",wd,vd))],8,md)])):(0,s.kq)("",!0)])),_:2},1024)])],64)))),128))])}function Ld(e,t,o,i,n,a){const l=(0,s.up)("EditorContent");return(0,s.wg)(),(0,s.j4)(l,{editor:n.editor,class:"descriptionEditor"},null,8,["editor"])}var Hd=o(4746),_d=o(6667);const Vd=_d.ZP.extend({content:"inline*"});var bd={name:"DescriptionEditor",components:{EditorContent:ja.kg},props:{modelValue:{type:String,default:""}},data(){return{editor:null}},watch:{modelValue(e){const t=this.editor.getHTML()===e;t||this.editor.commands.setContent(e,!1)}},mounted(){this.editor=new ja.ML({extensions:[Ya.Z,Hd.Z,Vd],content:this.modelValue,onUpdate:()=>{this.$emit("update:modelValue",this.editor.getHTML()),this.$emit("updated")}})},beforeUnmount(){this.editor.destroy()}};const yd=(0,Y.Z)(bd,[["render",Ld]]);var kd=yd,$d={name:"SnowFlakeTool",components:{MiniEditor:kd},data(){return{}},methods:{exportToManuscript(){this.$swal({title:"Are you sure?",text:"Export your Cards!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, export it!"}).then((e=>{if(e.isConfirmed){let e={};e.uuid=this.$root.uuid(),e.title=this.$root.session.snowflake.selected.title,e.descripton=this.$root.session.snowflake.selected.description,e.files=[],this.$root.session.snowflake.selected.content.forEach((t=>{console.log("SNOW >>>",t);let o=this.$root.uuid(),i={};i.writerid=e.uuid,i.title=t.title,i.content=t.content,i.notes=[],i.uuid=o,i.wordcount=this.$root.wordCounter(t.content),this.$root.AddRecord("Files",i);let s={};s.uuid=o,s.open=!1,s.type="file",s.children=[],e.files.push(s)})),this.$root.AddRecord("Writer",e),this.$swal("Exported!","Your file has been Exported.","success")}}))},openflake(e){if(!e.children.length){let t={};t.level=e.level+1,t.content="",t.open=!1,t.children=[],t.title="",e.children.push({...t}),e.children.push({...t}),e.children.push({...t})}e.open=!e.open,this.updateDatabase()},deleteFlake(e){this.$swal({title:"Are you sure?",text:"You won't be able to undo this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((t=>{t.isConfirmed&&(this.$root.session.snowflake.selected.content.splice(e,1),this.startFlake(),this.updateDatabase(),this.$swal("Deleted!","Your file has been deleted.","success"))}))},replace(e,t){this.$swal({title:"Are you sure?",text:"You won't be able to undo this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, replace it!"}).then((o=>{if(o.isConfirmed){let o={...e.children[0]},i={...e.children[1]},s={...e.children[2]};this.$root.session.snowflake.selected.content.splice(t+1,0,s),this.$root.session.snowflake.selected.content.splice(t+1,0,i),this.$root.session.snowflake.selected.content.splice(t+1,0,o),this.$root.session.snowflake.selected.content.splice(t,1),this.updateDatabase(),this.$swal("Replaced!","Your card has been replaced with the three new ones.","success")}}))},updateDatabase(){console.log("list changed"),this.$root.UpdateRecord("Snowflake",this.$root.session.snowflake.selected.uuid,this.$root.session.snowflake.selected)},startFlake(){if(!this.$root.session.snowflake.selected.content.length){let e={title:"",level:0,content:"",open:!1,children:[]};this.$root.session.snowflake.selected.content.push(e)}}},mounted(){this.startFlake()}};const xd=(0,Y.Z)($d,[["render",fd],["__scopeId","data-v-0636d3aa"]]);var Dd=xd,Md={name:"PlanningBoardHome",components:{SnowFlakeTool:Dd},data(){return{title:null,description:null,showaddform:!1,Snowflakes:this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Snowflake.toArray())))}},methods:{deleteItem(e){this.$swal({title:"Are you sure?",text:"You won't be able to undo this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((t=>{t.isConfirmed&&(this.$root.DeleteRecord("Snowflake",e.uuid),this.$swal("Deleted!","Your file has been deleted.","success"))}))},chooseItem(e){this.$root.session.snowflake.selected=this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Snowflake.get(e.uuid))))},addItem(){if(!this.title)return alert(this.$root.setlang.tools.warn),!1;let e={};e.title=this.title,e.description=this.description,e.content=[],e.uuid=this.$root.uuid(),this.$root.AddRecord("Snowflake",e),this.title="",this.description="",this.showaddform=!1}},created(){this.$root.$data.session.snowflake||(this.$root.$data.session.snowflake={})}};const Bd=(0,Y.Z)(Md,[["render",zr]]);var Ad=Bd;const Id={key:0,id:"ToolHome"},Sd={class:"wavemaker_info_box"},Td={style:{width:"100%"}},Ed={style:{width:"50px"}},Ud=(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12,20A7,7 0 0,1 5,13A7,7 0 0,1 12,6A7,7 0 0,1 19,13A7,7 0 0,1 12,20M12,4A9,9 0 0,0 3,13A9,9 0 0,0 12,22A9,9 0 0,0 21,13A9,9 0 0,0 12,4M12.5,8H11V14L15.75,16.85L16.5,15.62L12.5,13.25V8M7.88,3.39L6.6,1.86L2,5.71L3.29,7.24L7.88,3.39M22,5.72L17.4,1.86L16.11,3.39L20.71,7.25L22,5.72Z"})],-1),Zd=[Ud],Nd={key:0},jd=(0,s._)("hr",null,null,-1),Yd=["placeholder"],Pd=["placeholder"],qd={style:{"text-align":"right"}},Fd=(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})],-1),zd=[Fd],Gd=(0,s._)("hr",null,null,-1),Rd={key:1,style:{width:"100%"}},Wd={class:"title"},Od={class:"author"},Jd=(0,s._)("br",null,null,-1),Kd={style:{width:"50px"}},Qd=["onClick"],Xd=(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"})],-1),ec=[Xd],tc={style:{width:"50px"}},oc=["onClick"],ic={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},sc=(0,s._)("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"},null,-1),nc=[sc];function ac(e,t,o,n,a,l){const r=(0,s.up)("TimeLineTool");return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.$root.session.timeline.selected?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Id,[(0,s._)("div",Sd,[(0,s._)("table",Td,[(0,s._)("tr",null,[(0,s._)("td",null,[(0,s._)("h1",null,(0,D.zw)(this.$root.setlang.tools.timeline),1)]),(0,s._)("td",Ed,[(0,s._)("button",{onClick:t[0]||(t[0]=e=>a.showaddform=!a.showaddform),class:"interfaceBtn"},Zd)])])]),a.showaddform?((0,s.wg)(),(0,s.iD)("div",Nd,[jd,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>a.title=e),placeholder:this.$root.setlang.tools.name,class:"formInput"},null,8,Yd),[[i.nr,a.title]]),(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>a.description=e),placeholder:this.$root.setlang.tools.description,class:"formInput"},null,8,Pd),[[i.nr,a.description]]),(0,s._)("div",qd,[(0,s._)("button",{onClick:t[3]||(t[3]=(...e)=>l.addItem&&l.addItem(...e)),class:"interfaceBtn"},zd)])])):(0,s.kq)("",!0),Gd,a.showaddform?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("table",Rd,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.Timelines,((t,o)=>((0,s.wg)(),(0,s.iD)("tr",{key:o},[(0,s._)("td",null,[(0,s._)("div",Wd,(0,D.zw)(t.title),1),(0,s._)("div",Od,(0,D.zw)(t.description),1),(0,s._)("i",null,[Jd,(0,s.Uk)(" "+(0,D.zw)(e.$root.niceDate(t.lastupdated)),1)])]),(0,s._)("td",Kd,[(0,s._)("button",{onClick:e=>l.chooseItem(t),class:"interfaceBtn"},ec,8,Qd)]),(0,s._)("td",tc,[(0,s._)("button",{onClick:e=>l.deleteItem(t),class:"interfaceBtn deleteBtn"},[((0,s.wg)(),(0,s.iD)("svg",ic,nc))],8,oc)])])))),128))]))])])),e.$root.session.timeline.selected?((0,s.wg)(),(0,s.j4)(r,{key:1})):(0,s.kq)("",!0)],64)}const lc=e=>((0,s.dD)("data-v-ecb2ea88"),e=e(),(0,s.Cn)(),e),rc={class:"scroller"},dc=["placeholder"],cc=["placeholder"],uc={class:"timeline"},hc={class:"time"},pc={class:"handle"},gc={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},mc=lc((()=>(0,s._)("path",{d:"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"},null,-1))),wc=[mc],Cc=["placeholder","onUpdate:modelValue"],vc=["onClick"],fc={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},Lc=lc((()=>(0,s._)("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1))),Hc=[Lc],_c={class:"content"},Vc=["placeholder","onUpdate:modelValue"],bc=lc((()=>(0,s._)("div",{style:{clear:"both"}},null,-1))),yc={style:{"text-align":"center","padding-left":"15px"}},kc={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},$c=lc((()=>(0,s._)("path",{d:"M13.72 21.84C13.16 21.94 12.59 22 12 22C6.5 22 2 17.5 2 12S6.5 2 12 2 22 6.5 22 12C22 12.59 21.94 13.16 21.84 13.72C21 13.26 20.03 13 19 13C17.74 13 16.57 13.39 15.6 14.06L12.5 12.2V7H11V13L14.43 15.11C13.54 16.16 13 17.5 13 19C13 20.03 13.26 21 13.72 21.84M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"},null,-1))),xc=[$c],Dc={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Mc=lc((()=>(0,s._)("path",{d:"M9 12H18.8L16.3 9.5L17.7 8.1L22.6 13L17.7 17.9L16.3 16.5L18.8 14H9V12M21 17.4V20H3V6H21V8.6L23 10.6V4C23 2.9 22.1 2 21 2H3C1.9 2 1 2.9 1 4V20C1 21.1 1.9 22 3 22H21C22.1 22 23 21.1 23 20V15.4L21 17.4Z"},null,-1))),Bc=[Mc];function Ac(e,t,o,n,a,l){const r=(0,s.up)("MiniEditor"),d=(0,s.up)("VueDraggableNext");return(0,s.wg)(),(0,s.iD)("div",rc,[(0,s.wy)((0,s._)("input",{class:"topinput",placeholder:this.$root.setlang.tools.name,"onUpdate:modelValue":t[0]||(t[0]=e=>this.$root.session.timeline.selected.title=e),onChange:t[1]||(t[1]=(...e)=>l.updateDatabase&&l.updateDatabase(...e))},null,40,dc),[[i.nr,this.$root.session.timeline.selected.title]]),(0,s.wy)((0,s._)("input",{class:"topinput sub",placeholder:this.$root.setlang.tools.description,"onUpdate:modelValue":t[2]||(t[2]=e=>this.$root.session.timeline.selected.description=e),onChange:t[3]||(t[3]=(...e)=>l.updateDatabase&&l.updateDatabase(...e))},null,40,cc),[[i.nr,this.$root.session.timeline.selected.description]]),(0,s._)("div",uc,[(0,s.Wm)(d,(0,s.dG)({list:this.$root.$data.session.timeline.selected.content,tag:"ul",group:"board","component-data":{tag:"ul",type:"transition-group",name:a.drag?null:"flip-list"},handle:".handle"},l.dragOptions,{onStart:t[6]||(t[6]=e=>a.drag=!0),onEnd:t[7]||(t[7]=e=>a.drag=!1),emptyInsertThreshold:90,onChange:l.updateDatabase}),{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.$root.session.timeline.selected.content,((e,o)=>((0,s.wg)(),(0,s.iD)("li",{key:o},[(0,s._)("div",hc,[(0,s._)("div",pc,[((0,s.wg)(),(0,s.iD)("svg",gc,wc))]),(0,s.wy)((0,s._)("input",{class:"timeText",tabindex:"1",placeholder:this.$root.setlang.timeline.date,"onUpdate:modelValue":t=>e.event=t,onChange:t[4]||(t[4]=(...e)=>l.updateDatabase&&l.updateDatabase(...e))},null,40,Cc),[[i.nr,e.event]]),(0,s._)("button",{onClick:e=>l.deleteTime(o),class:"deleteIconButton"},[((0,s.wg)(),(0,s.iD)("svg",fc,Hc))],8,vc)]),(0,s._)("div",_c,[(0,s.wy)((0,s._)("input",{class:"title",placeholder:this.$root.setlang.timeline.title,tabindex:"1","onUpdate:modelValue":t=>e.title=t,onChange:t[5]||(t[5]=(...e)=>l.updateDatabase&&l.updateDatabase(...e))},null,40,Vc),[[i.nr,e.title]]),(0,s._)("p",null,[(0,s.Wm)(r,{modelValue:e.text,"onUpdate:modelValue":t=>e.text=t,tabindex:"1",onUpdated:l.updateDatabase},null,8,["modelValue","onUpdate:modelValue","onUpdated"])])])])))),128))])),_:1},16,["list","component-data","onChange"]),bc,(0,s._)("div",yc,[(0,s._)("button",{onClick:t[8]||(t[8]=(...e)=>l.addTime&&l.addTime(...e)),class:"add-btn"},[((0,s.wg)(),(0,s.iD)("svg",kc,xc))])])]),(0,s._)("button",{onClick:t[9]||(t[9]=(...e)=>l.exportToManuscript&&l.exportToManuscript(...e)),class:"export-btn"},[((0,s.wg)(),(0,s.iD)("svg",Dc,Bc))])])}var Ic={name:"TimeLineTool",components:{VueDraggableNext:Bs.J,MiniEditor:kd},computed:{dragOptions(){return{animation:200,group:"Cards",disabled:!1,ghostClass:"ghost"}}},data(){return{drag:!1}},methods:{addTime(){console.log("asdasd");let e={title:"",text:"",event:""};this.$root.session.timeline.selected.content.push(e),this.updateDatabase()},deleteTime(e){this.$swal({title:"Are you sure?",text:"You won't be able to undo this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((t=>{t.isConfirmed&&(this.$root.session.timeline.selected.content.splice(e,1),this.updateDatabase(),this.$swal("Deleted!","Your file has been deleted.","success"))}))},updateDatabase(){console.log("list changed"),this.$root.UpdateRecord("Timeline",this.$root.$data.session.timeline.selected.uuid,this.$root.$data.session.timeline.selected)},exportToManuscript(){this.$swal({title:"Are you sure?",text:"Export your timeline!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, export it!"}).then((e=>{if(e.isConfirmed){let e={};e.uuid=this.$root.uuid(),e.title=this.$root.session.timeline.selected.title,e.descripton=this.$root.session.timeline.selected.description,e.files=[],this.$root.session.timeline.selected.content.forEach((t=>{let o=this.$root.uuid(),i={};i.writerid=e.uuid,i.title=t.event+"-"+t.title,i.content=t.content,i.notes=[],i.uuid=o,i.wordcount=this.$root.wordCounter(t.content),this.$root.AddRecord("Files",i);let s={};s.uuid=o,s.open=!1,s.type="file",s.children=[],e.files.push(s)})),this.$root.AddRecord("Writer",e),this.$swal("Exported!","Your file has been Exported.","success")}}))}},mounted(){if(!this.$root.session.timeline.selected.content.length){let e={title:"",text:"",event:""};this.$root.session.timeline.selected.content.push(e)}this.updateDatabase()}};const Sc=(0,Y.Z)(Ic,[["render",Ac],["__scopeId","data-v-ecb2ea88"]]);var Tc=Sc,Ec={name:"PlanningBoardHome",components:{TimeLineTool:Tc},data(){return{title:null,description:null,showaddform:!1,Timelines:this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Timeline.toArray())))}},methods:{deleteItem(e){this.$swal({title:"Are you sure?",text:"You won't be able to undo this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((t=>{t.isConfirmed&&(this.$root.DeleteRecord("Timeline",e.uuid),this.$swal("Deleted!","Your file has been deleted.","success"))}))},chooseItem(e){this.$root.session.timeline.selected=this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Timeline.get(e.uuid))))},addItem(){if(!this.title)return alert(this.$root.setlang.tools.warn),!1;let e={};e.title=this.title,e.description=this.description,e.content=[],e.uuid=this.$root.uuid(),this.$root.AddRecord("Timeline",e),this.title="",this.description="",this.showaddform=!1}},created(){this.$root.session.timeline||(this.$root.session.timeline={})}};const Uc=(0,Y.Z)(Ec,[["render",ac]]);var Zc=Uc;const Nc={key:0,id:"ToolHome"},jc={class:"wavemaker_info_box"},Yc={style:{width:"100%"}},Pc={style:{width:"50px"}},qc=(0,s._)("svg",{version:"1.1",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M21 16V13C21 11.89 20.11 11 19 11H13V8H15V2H9V8H11V11H5C3.89 11 3 11.89 3 13V16H1V22H7V16H5V13H11V16H9V22H15V16H13V13H19V16H17V22H23V16H21M11 4H13V6H11V4M5 20H3V18H5V20M13 20H11V18H13V20M21 20H19V18H21V20Z"})],-1),Fc=[qc],zc={key:0},Gc=(0,s._)("hr",null,null,-1),Rc=["placeholder"],Wc={style:{"text-align":"right"}},Oc=(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})],-1),Jc=[Oc],Kc=(0,s._)("hr",null,null,-1),Qc={key:1,style:{width:"100%"}},Xc={class:"title"},eu=(0,s._)("br",null,null,-1),tu={style:{width:"50px"}},ou=["onClick"],iu=(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"})],-1),su=[iu],nu={style:{width:"50px"}},au=["onClick"],lu={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},ru=(0,s._)("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"},null,-1),du=[ru],cu={key:1};function uu(e,t,o,n,a,l){const r=(0,s.up)("WorkSpace"),d=(0,s.up)("ToolBox");return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.$root.session.mindmap.selected?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Nc,[(0,s._)("div",jc,[(0,s._)("table",Yc,[(0,s._)("tr",null,[(0,s._)("td",null,[(0,s._)("h1",null,(0,D.zw)(this.$root.setlang.tools.mindmap),1)]),(0,s._)("td",Pc,[(0,s._)("button",{onClick:t[0]||(t[0]=e=>a.showaddform=!a.showaddform),class:"interfaceBtn"},Fc)])])]),a.showaddform?((0,s.wg)(),(0,s.iD)("div",zc,[Gc,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>a.title=e),placeholder:this.$root.setlang.tools.name,class:"formInput"},null,8,Rc),[[i.nr,a.title]]),(0,s._)("div",Wc,[(0,s._)("button",{onClick:t[2]||(t[2]=(...e)=>l.addItem&&l.addItem(...e)),class:"interfaceBtn"},Jc)])])):(0,s.kq)("",!0),Kc,a.showaddform?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("table",Qc,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.MindMaps,((t,o)=>((0,s.wg)(),(0,s.iD)("tr",{key:o},[(0,s._)("td",null,[(0,s._)("div",Xc,(0,D.zw)(t.title),1),(0,s._)("i",null,[eu,(0,s.Uk)(" "+(0,D.zw)(e.$root.niceDate(t.lastupdated)),1)])]),(0,s._)("td",tu,[(0,s._)("button",{onClick:e=>l.chooseItem(t),class:"interfaceBtn"},su,8,ou)]),(0,s._)("td",nu,[(0,s._)("button",{onClick:e=>l.deleteItem(t),class:"interfaceBtn deleteBtn"},[((0,s.wg)(),(0,s.iD)("svg",lu,du))],8,au)])])))),128))]))])])),e.$root.session.mindmap.selected?((0,s.wg)(),(0,s.iD)("div",cu,[(0,s.Wm)(r),(0,s.Wm)(d)])):(0,s.kq)("",!0)],64)}const hu=e=>((0,s.dD)("data-v-e3674bf8"),e=e(),(0,s.Cn)(),e),pu={id:"toolbox"},gu=hu((()=>(0,s._)("option",{value:"solid"},"_____",-1))),mu=hu((()=>(0,s._)("option",{value:"dashed"},"- - - -",-1))),wu=hu((()=>(0,s._)("option",{value:"dotted"},"..........",-1))),Cu=[gu,mu,wu],vu={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},fu=hu((()=>(0,s._)("path",{d:"M5 19V5H12V12H19V13C19.7 13 20.37 13.13 21 13.35V9L15 3H5C3.89 3 3 3.89 3 5V19C3 20.1 3.89 21 5 21H13.35C13.13 20.37 13 19.7 13 19H5M14 4.5L19.5 10H14V4.5M23 18V20H20V23H18V20H15V18H18V15H20V18H23Z"},null,-1))),Lu=[fu],Hu={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},_u=hu((()=>(0,s._)("path",{d:"M18 15V18H15V20H18V23H20V20H23V18H20V15H18M13.3 21H5C3.9 21 3 20.1 3 19V5C3 3.9 3.9 3 5 3H19C20.1 3 21 3.9 21 5V13.3C20.4 13.1 19.7 13 19 13C17.9 13 16.8 13.3 15.9 13.9L14.5 12L11 16.5L8.5 13.5L5 18H13.1C13 18.3 13 18.7 13 19C13 19.7 13.1 20.4 13.3 21Z"},null,-1))),Vu=[_u];function bu(e,t,o,n,a,l){return(0,s.wg)(),(0,s.iD)("div",pu,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.$root.session.mindmap.selected.title=t),class:"titleinput",onChange:t[1]||(t[1]=(...e)=>l.updateDatabase&&l.updateDatabase(...e))},null,544),[[i.nr,e.$root.session.mindmap.selected.title]]),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.$root.session.mindmap.linkstyle=t),class:"toolselect"},Cu,512),[[i.bM,e.$root.session.mindmap.linkstyle]]),(0,s._)("button",{onClick:t[3]||(t[3]=(...e)=>l.addNode&&l.addNode(...e)),class:"toolbutton"},[((0,s.wg)(),(0,s.iD)("svg",vu,Lu))]),(0,s._)("button",{onClick:t[4]||(t[4]=e=>l.addNode("image")),class:"toolbutton"},[((0,s.wg)(),(0,s.iD)("svg",Hu,Vu))])])}var yu={name:"ToolBox",methods:{addNode(e){let t={text:"",x:50,y:50,w:"auto",h:32};e&&(t.type=e),this.$root.session.mindmap.selected.content.nodes[this.$root.uuid()]=t},updateDatabase(){console.log("list changed"),this.$root.UpdateRecord("Mindmap",this.$root.$data.session.mindmap.selected.uuid,this.$root.$data.session.mindmap.selected)}},mounted(){this.$root.session.mindmap.linkstyle||(this.$root.session.mindmap.linkstyle="solid")}};const ku=(0,Y.Z)(yu,[["render",bu],["__scopeId","data-v-e3674bf8"]]);var $u=ku;const xu={key:0,id:"workspace"},Du={id:"svg"};function Mu(e,t,o,i,n,a){const l=(0,s.up)("LinkNodes"),r=(0,s.up)("NodeBox");return e.$root.session.mindmap.selected.content?((0,s.wg)(),(0,s.iD)("div",xu,[((0,s.wg)(),(0,s.iD)("svg",Du,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.$root.session.mindmap.selected.content.links,((e,t)=>((0,s.wg)(),(0,s.j4)(l,{key:t,mylink:e,myindex:t},null,8,["mylink","myindex"])))),128))])),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Object.keys(e.$root.session.mindmap.selected.content.nodes),(e=>((0,s.wg)(),(0,s.j4)(r,{key:e,uuid:e},null,8,["uuid"])))),128))])):(0,s.kq)("",!0)}const Bu=e=>((0,s.dD)("data-v-545347c4"),e=e(),(0,s.Cn)(),e),Au=Bu((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M13,11H18L16.5,9.5L17.92,8.08L21.84,12L17.92,15.92L16.5,14.5L18,13H13V18L14.5,16.5L15.92,17.92L12,21.84L8.08,17.92L9.5,16.5L11,18V13H6L7.5,14.5L6.08,15.92L2.16,12L6.08,8.08L7.5,9.5L6,11H11V6L9.5,7.5L8.08,6.08L12,2.16L15.92,6.08L14.5,7.5L13,6V11Z"})],-1))),Iu=[Au],Su=Bu((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M22.7 14.3L21.7 15.3L19.7 13.3L20.7 12.3C20.8 12.2 20.9 12.1 21.1 12.1C21.2 12.1 21.4 12.2 21.5 12.3L22.8 13.6C22.9 13.8 22.9 14.1 22.7 14.3M13 19.9V22H15.1L21.2 15.9L19.2 13.9L13 19.9M11.21 15.83L9.25 13.47L6.5 17H13.12L15.66 14.55L13.96 12.29L11.21 15.83M11 19.9V19.05L11.05 19H5V5H19V11.31L21 9.38V5C21 3.9 20.11 3 19 3H5C3.9 3 3 3.9 3 5V19C3 20.11 3.9 21 5 21H11V19.9Z"})],-1))),Tu=[Su],Eu=Bu((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M22.7 14.3L21.7 15.3L19.7 13.3L20.7 12.3C20.8 12.2 20.9 12.1 21.1 12.1C21.2 12.1 21.4 12.2 21.5 12.3L22.8 13.6C22.9 13.8 22.9 14.1 22.7 14.3M13 19.9V22H15.1L21.2 15.9L19.2 13.9L13 19.9M11.21 15.83L9.25 13.47L6.5 17H13.12L15.66 14.55L13.96 12.29L11.21 15.83M11 19.9V19.05L11.05 19H5V5H19V11.31L21 9.38V5C21 3.9 20.11 3 19 3H5C3.9 3 3 3.9 3 5V19C3 20.11 3.9 21 5 21H11V19.9Z"})],-1))),Uu=[Eu],Zu=Bu((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"})],-1))),Nu=[Zu],ju=Bu((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M10.6 13.4A1 1 0 0 1 9.2 14.8A4.8 4.8 0 0 1 9.2 7.8L12.7 4.2A5.1 5.1 0 0 1 19.8 4.2A5.1 5.1 0 0 1 19.8 11.3L18.3 12.8A6.4 6.4 0 0 0 17.9 10.4L18.4 9.9A3.2 3.2 0 0 0 18.4 5.6A3.2 3.2 0 0 0 14.1 5.6L10.6 9.2A2.9 2.9 0 0 0 10.6 13.4M23 18V20H20V23H18V20H15V18H18V15H20V18M16.2 13.7A4.8 4.8 0 0 0 14.8 9.2A1 1 0 0 0 13.4 10.6A2.9 2.9 0 0 1 13.4 14.8L9.9 18.4A3.2 3.2 0 0 1 5.6 18.4A3.2 3.2 0 0 1 5.6 14.1L6.1 13.7A7.3 7.3 0 0 1 5.7 11.2L4.2 12.7A5.1 5.1 0 0 0 4.2 19.8A5.1 5.1 0 0 0 11.3 19.8L13.1 18A6 6 0 0 1 16.2 13.7Z"})],-1))),Yu=[ju];function Pu(e,t,o,n,a,l){const r=(0,s.up)("MiniImage"),d=(0,s.up)("vue-draggable-resizable");return(0,s.wg)(),(0,s.j4)(d,{parent:!1,class:(0,D.C_)(["card",e.$root.session.mindmap.currentnode===o.uuid?"activeClass":"inactiveClass"]),key:o.uuid,onDragging:l.onDrag,onResizing:l.onResize,w:this.$root.session.mindmap.selected.content.nodes[this.uuid].w,h:this.$root.session.mindmap.selected.content.nodes[this.uuid].h,x:this.$root.session.mindmap.selected.content.nodes[this.uuid].x,y:this.$root.session.mindmap.selected.content.nodes[this.uuid].y,resizable:!1,onFocus:t[11]||(t[11]=e=>l.onActivated(o.uuid)),onActivated:t[12]||(t[12]=e=>l.onActivated(o.uuid)),onDeactivated:l.onDeactivated,"enable-native-drag":!1,"drag-handle":".drag-handle",tabindex:"0","max-height":32,"min-height":32},{default:(0,s.w5)((()=>[(0,s._)("div",{class:"drag-handle",tabindex:"0",onKeydown:[t[0]||(t[0]=(0,i.D2)((0,i.iM)((t=>e.$root.moveNode("up")),["exact","prevent","stop"]),["up"])),t[1]||(t[1]=(0,i.D2)((0,i.iM)((t=>e.$root.moveNode("down")),["exact","prevent","stop"]),["down"])),t[2]||(t[2]=(0,i.D2)((0,i.iM)((t=>e.$root.moveNode("left")),["exact","prevent","stop"]),["left"])),t[3]||(t[3]=(0,i.D2)((0,i.iM)((t=>e.$root.moveNode("right")),["exact","prevent","stop"]),["right"]))]},Iu,32),"image"===this.$root.session.mindmap.selected.content.nodes[this.uuid].type?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[this.$root.session.mindmap.selected.content.nodes[this.uuid].text?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[((0,s.wg)(),(0,s.j4)(r,{uuid:this.$root.session.mindmap.selected.content.nodes[this.uuid].text,style:{"min-width":"100px",width:"100%"},key:this.$root.session.mindmap.selected.content.nodes[this.uuid].text},null,8,["uuid"])),e.$root.session.mindmap.currentnode===o.uuid?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:t[4]||(t[4]=(...e)=>l.addImage&&l.addImage(...e)),class:"NewImageBtn"},Tu)):(0,s.kq)("",!0)],64)):((0,s.wg)(),(0,s.iD)("button",{key:1,class:"imageButton",onClick:t[5]||(t[5]=(...e)=>l.addImage&&l.addImage(...e))},Uu))],64)):(0,s.wy)(((0,s.wg)(),(0,s.iD)("textarea",{key:1,ref:"textarea","onUpdate:modelValue":t[6]||(t[6]=e=>this.$root.session.mindmap.selected.content.nodes[this.uuid].text=e),onClick:t[7]||(t[7]=e=>l.onActivated(o.uuid)),style:{width:"300px"},cols:"30",rows:"1",onKeyup:t[8]||(t[8]=(...e)=>l.resizeTextarea&&l.resizeTextarea(...e))},null,544)),[[i.nr,this.$root.session.mindmap.selected.content.nodes[this.uuid].text]]),e.$root.session.mindmap.currentnode===o.uuid?((0,s.wg)(),(0,s.iD)("button",{key:2,id:"deleteButton",onClick:t[9]||(t[9]=e=>l.deleteNode(o.uuid)),tabindex:"0"},Nu)):(0,s.kq)("",!0),e.$root.session.mindmap.currentnode===o.uuid?((0,s.wg)(),(0,s.iD)("button",{key:3,tabindex:"0",id:"linkButton",onClick:t[10]||(t[10]=e=>l.linker(o.uuid))},Yu)):(0,s.kq)("",!0)])),_:1},8,["onDragging","onResizing","w","h","x","y","onDeactivated","drag-handle","class"])}var qu={name:"NodeBox",components:{MiniImage:ea},props:{uuid:String},data(){return{editme:!1,w:200,h:200,x:50,y:50}},methods:{resizeTextarea(){let e=this.$refs["textarea"];e.style.height="18px",e.style.height=e.scrollHeight+"px"},textchange(){},onResize:function(e,t,o,i){this.$root.session.mindmap.selected.content.nodes[this.uuid].x=e,this.$root.session.mindmap.selected.content.nodes[this.uuid].y=t,this.$root.session.mindmap.selected.content.nodes[this.uuid].width=o,this.$root.session.mindmap.selected.content.nodes[this.uuid].height=i},onDrag:function(e,t){this.$root.session.mindmap.selected.content.nodes[this.uuid].x=e,this.$root.session.mindmap.selected.content.nodes[this.uuid].y=t},onActivated(e){this.$root.session.mindmap.currentnode=e},onDeactivated(){this.$root.session.mindmap.currentnode=null,this.savechange()},linker(e){if(this.$root.session.mindmap.nodelink){if(this.$root.session.mindmap.nodelink!=e){console.log("link ",this.$root.session.mindmap.nodelink," to ",e);let t={};t.type=this.$root.session.mindmap.linkstyle,t.from=this.$root.session.mindmap.nodelink,t.to=e,this.$root.session.mindmap.selected.content.links.push(t)}this.$root.session.mindmap.nodelink=null}else this.$root.session.mindmap.nodelink=e;this.savechange()},deleteNode(e){this.$swal({title:"Are you sure?",text:"You won't be able to undo this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((t=>{t.isConfirmed&&(this.$root.session.mindmap.selected.content.links=this.$root.session.mindmap.selected.content.links.filter((t=>{if(t.from!==e&&t.to!==e)return!0})),delete this.$root.session.mindmap.selected.content.nodes[e],this.savechange(),this.$swal("Deleted!","Your file has been deleted.","success"))}))},savechange(){console.log("list changed"),this.$root.UpdateRecord("Mindmap",this.$root.$data.session.mindmap.selected.uuid,this.$root.$data.session.mindmap.selected)},imageCallback(){console.log("Callback fired")},addImage(){this.$root.imagemanager={table:"Gridplanner",targetuuid:this.$root.$data.session.mindmap.selected.uuid,target:this.$root.session.mindmap.selected.content.nodes[this.uuid],updateObj:this.$root.session.mindmap.selected}}},mounted(){this.$root.session.mindmap.selected.content.nodes[this.uuid]||this.resizeTextarea()}};const Fu=(0,Y.Z)(qu,[["render",Pu],["__scopeId","data-v-545347c4"]]);var zu=Fu;const Gu=e=>((0,s.dD)("data-v-ca152e26"),e=e(),(0,s.Cn)(),e),Ru=["x1","y1","x2","y2"],Wu=Gu((()=>(0,s._)("marker",{id:"black-arrow",viewBox:"0 0 10 10",refX:"10",refY:"15",orient:"auto"},[(0,s._)("path",{d:"M 0 0 L 10 5 L 0 10 z"})],-1))),Ou=[Wu];function Ju(e,t,o,i,n,a){return(0,s.wg)(),(0,s.iD)("line",{class:(0,D.C_)(["link",o.mylink.type]),x1:this.$root.session.mindmap.selected.content.nodes[o.mylink.from].x+100,y1:this.$root.session.mindmap.selected.content.nodes[o.mylink.from].y+15,x2:this.$root.session.mindmap.selected.content.nodes[o.mylink.to].x+100,y2:this.$root.session.mindmap.selected.content.nodes[o.mylink.to].y+15,onClick:t[0]||(t[0]=(...e)=>a.deletelink&&a.deletelink(...e))},Ou,10,Ru)}var Ku={name:"LinkNodes",props:{mylink:Object,myindex:Number},methods:{deletelink(){console.log("delete",this.myindex),this.$root.session.mindmap.selected.content.links.splice(this.myindex,1),this.savechange()}},savechange(){console.log("list changed"),this.$root.UpdateRecord("Mindmap",this.$root.$data.session.mindmap.selected.uuid,this.$root.$data.session.mindmap.selected)}};const Qu=(0,Y.Z)(Ku,[["render",Ju],["__scopeId","data-v-ca152e26"]]);var Xu=Qu,eh={name:"WorkSpace",components:{NodeBox:zu,LinkNodes:Xu},mounted(){if(!this.$root.session.mindmap.selected.content){let e={nodes:{},links:[]};this.$root.session.mindmap.selected.content=e}console.log(this.$root.session.mindmap.selected)}};const th=(0,Y.Z)(eh,[["render",Mu],["__scopeId","data-v-57abaaa0"]]);var oh=th,ih={name:"MindMapHome",components:{WorkSpace:oh,ToolBox:$u},data(){return{title:null,description:null,showaddform:!1,MindMaps:this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Mindmap.toArray())))}},methods:{deleteItem(e){this.$swal({title:"Are you sure?",text:"You won't be able to undo this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((t=>{t.isConfirmed&&(this.$root.DeleteRecord("Mindmap",e.uuid),this.$swal("Deleted!","Your file has been deleted.","success"))}))},chooseItem(e){this.$root.session.mindmap.selected=this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Mindmap.get(e.uuid))))},addItem(){if(!this.title)return alert(this.$root.setlang.tools.warn),!1;let e={};e.title=this.title,e.description=this.description,e.uuid=this.$root.uuid(),this.$root.AddRecord("Mindmap",e),this.title="",this.description="",this.showaddform=!1}},created(){this.$root.session.mindmap||(this.$root.session.mindmap={},this.$root.session.mindmap.linkstyle="solid",this.$root.session.mindmap.currentnode=null)}};const sh=(0,Y.Z)(ih,[["render",uu]]);var nh=sh;const ah={key:0,id:"ToolHome"},lh={class:"wavemaker_info_box"},rh={style:{width:"100%"}},dh={style:{width:"50px"}},ch=(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M18,14H20V17H23V19H20V22H18V19H15V17H18V14M4,3H18A2,2 0 0,1 20,5V12.08C18.45,11.82 16.92,12.18 15.68,13H12V17H13.08C12.97,17.68 12.97,18.35 13.08,19H4A2,2 0 0,1 2,17V5A2,2 0 0,1 4,3M4,7V11H10V7H4M12,7V11H18V7H12M4,13V17H10V13H4Z"})],-1),uh=[ch],hh={key:0},ph=(0,s._)("hr",null,null,-1),gh=["placeholder"],mh={style:{"text-align":"right"}},wh=(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"})],-1),Ch=[wh],vh=(0,s._)("hr",null,null,-1),fh={key:1,style:{width:"100%"}},Lh={class:"title"},Hh=(0,s._)("br",null,null,-1),_h={style:{width:"50px"}},Vh=["onClick"],bh=(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"})],-1),yh=[bh],kh={style:{width:"50px"}},$h=["onClick"],xh={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Dh=(0,s._)("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"},null,-1),Mh=[Dh],Bh={key:1};function Ah(e,t,o,n,a,l){const r=(0,s.up)("Gridplanner");return(0,s.wg)(),(0,s.iD)(s.HY,null,[e.$root.session.gridplanner.selected?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ah,[(0,s._)("div",lh,[(0,s._)("table",rh,[(0,s._)("tr",null,[(0,s._)("td",null,[(0,s._)("h1",null,(0,D.zw)(this.$root.setlang.tools.gridplanner),1)]),(0,s._)("td",dh,[(0,s._)("button",{onClick:t[0]||(t[0]=e=>a.showaddform=!a.showaddform),class:"interfaceBtn"},uh)])])]),a.showaddform?((0,s.wg)(),(0,s.iD)("div",hh,[ph,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>a.title=e),placeholder:this.$root.setlang.tools.name,class:"formInput"},null,8,gh),[[i.nr,a.title]]),(0,s._)("div",mh,[(0,s._)("button",{onClick:t[2]||(t[2]=(...e)=>l.addItem&&l.addItem(...e)),class:"interfaceBtn"},Ch)])])):(0,s.kq)("",!0),vh,a.showaddform?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("table",fh,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.Gridplanners,((t,o)=>((0,s.wg)(),(0,s.iD)("tr",{key:o},[(0,s._)("td",null,[(0,s._)("div",Lh,(0,D.zw)(t.title),1),(0,s._)("i",null,[Hh,(0,s.Uk)(" "+(0,D.zw)(e.$root.niceDate(t.lastupdated)),1)])]),(0,s._)("td",_h,[(0,s._)("button",{onClick:e=>l.chooseItem(t),class:"interfaceBtn"},yh,8,Vh)]),(0,s._)("td",kh,[(0,s._)("button",{onClick:e=>l.deleteItem(t),class:"interfaceBtn deleteBtn"},[((0,s.wg)(),(0,s.iD)("svg",xh,Mh))],8,$h)])])))),128))]))])])),e.$root.session.gridplanner.selected?((0,s.wg)(),(0,s.iD)("div",Bh,[(0,s.Wm)(r)])):(0,s.kq)("",!0)],64)}const Ih=e=>((0,s.dD)("data-v-0d9ebffe"),e=e(),(0,s.Cn)(),e),Sh={class:"scroller"},Th={id:"toolbox"},Eh={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Uh=Ih((()=>(0,s._)("path",{d:"M22,10A2,2 0 0,1 20,12H4A2,2 0 0,1 2,10V3H4V5H8V3H10V5H14V3H16V5H20V3H22V10M4,10H8V7H4V10M10,10H14V7H10V10M20,10V7H16V10H20M11,14H13V17H16V19H13V22H11V19H8V17H11V14Z"},null,-1))),Zh=[Uh],Nh={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},jh=Ih((()=>(0,s._)("path",{d:"M11,2A2,2 0 0,1 13,4V20A2,2 0 0,1 11,22H2V2H11M4,10V14H11V10H4M4,16V20H11V16H4M4,4V8H11V4H4M15,11H18V8H20V11H23V13H20V16H18V13H15V11Z"},null,-1))),Yh=[jh],Ph={class:"handle"},qh={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Fh=Ih((()=>(0,s._)("path",{d:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"},null,-1))),zh=[Fh],Gh=["onClick"],Rh={viewBox:"0 0 24 24",style:{width:"18px",height:"18px"}},Wh=Ih((()=>(0,s._)("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1))),Oh=[Wh],Jh=["onUpdate:modelValue","placeholder"],Kh={class:"headerBlock v-handle"},Qh={class:"handle"},Xh={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},ep=Ih((()=>(0,s._)("path",{d:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"},null,-1))),tp=[ep],op=["onClick"],ip={viewBox:"0 0 24 24",style:{width:"18px",height:"18px"}},sp=Ih((()=>(0,s._)("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1))),np=[sp],ap=["onUpdate:modelValue","placeholder"];function lp(e,t,o,n,a,l){const r=(0,s.up)("VueDraggableNext"),d=(0,s.up)("GridPlannerCell");return(0,s.wg)(),(0,s.iD)("div",Sh,[(0,s._)("div",Th,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.$root.session.gridplanner.selected.title=t),class:"titleinput",onChange:t[1]||(t[1]=(...e)=>l.updateDatabase&&l.updateDatabase(...e))},null,544),[[i.nr,e.$root.session.gridplanner.selected.title]]),(0,s._)("button",{onClick:t[2]||(t[2]=(...e)=>l.addRow&&l.addRow(...e)),class:"toolbutton"},[((0,s.wg)(),(0,s.iD)("svg",Eh,Zh))]),(0,s._)("button",{onClick:t[3]||(t[3]=(...e)=>l.addCol&&l.addCol(...e)),class:"toolbutton"},[((0,s.wg)(),(0,s.iD)("svg",Nh,Yh))])]),this.$root.session.gridplanner.selected.content.headers?((0,s.wg)(),(0,s.iD)("table",{key:0,style:(0,D.j5)("width :"+l.tableWidth+"px;")},[(0,s._)("thead",null,[(0,s.Wm)(r,(0,s.dG)({modelValue:this.$root.session.gridplanner.selected.content.headers,"onUpdate:modelValue":t[5]||(t[5]=e=>this.$root.session.gridplanner.selected.content.headers=e),tag:"tr","component-data":{type:"transition-group",name:a.drag?null:"flip-list"},onStart:t[6]||(t[6]=e=>a.drag=!0),onEnd:t[7]||(t[7]=e=>a.drag=!1)},l.HeaderDragOptions,{handle:".handle",onChange:t[8]||(t[8]=e=>l.updateDatabase())}),{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default",{},(()=>[(0,s.Uk)(" ")]),!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.$root.session.gridplanner.selected.content.headers,((e,o)=>((0,s.wg)(),(0,s.iD)("th",{key:o,class:"headerBlock",scope:"col",style:(0,D.j5)("width :"+a.colwidth+"px;")},[(0,s._)("div",Ph,[((0,s.wg)(),(0,s.iD)("svg",qh,zh))]),(0,s._)("button",{class:"deleteIconButton",tabindex:"0",onClick:e=>l.deleteCol(o)},[((0,s.wg)(),(0,s.iD)("svg",Rh,Oh))],8,Gh),(0,s.wy)((0,s._)("input",{class:"headerInput",onChange:t[4]||(t[4]=e=>l.updateDatabase()),"onUpdate:modelValue":t=>e.title=t,placeholder:this.$root.setlang.gridplanner.newcol},null,40,Jh),[[i.nr,e.title]])],4)))),128))])),_:3},16,["modelValue","component-data"])]),(0,s.Wm)(r,(0,s.dG)({modelValue:this.$root.session.gridplanner.selected.content.rows,"onUpdate:modelValue":t[11]||(t[11]=e=>this.$root.session.gridplanner.selected.content.rows=e),tag:"tbody","component-data":{type:"transition-group",name:a.drag?null:"flip-list"},onStart:t[12]||(t[12]=e=>a.drag=!0),onEnd:t[13]||(t[13]=e=>a.drag=!1)},l.dragOptions,{handle:".handle",onChange:t[14]||(t[14]=e=>l.updateDatabase())}),{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.$root.session.gridplanner.selected.content.rows,((e,o)=>((0,s.wg)(),(0,s.iD)("tr",{key:o},[(0,s._)("th",Kh,[(0,s._)("div",Qh,[((0,s.wg)(),(0,s.iD)("svg",Xh,tp))]),(0,s._)("button",{class:"deleteIconButton",tabindex:"0",onClick:e=>l.deleteRow(o)},[((0,s.wg)(),(0,s.iD)("svg",ip,np))],8,op),(0,s.wy)((0,s._)("input",{class:"rowInput",onChange:t[9]||(t[9]=e=>l.updateDatabase()),"onUpdate:modelValue":t=>e.title=t,placeholder:this.$root.setlang.gridplanner.newrow},null,40,ap),[[i.nr,e.title]])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.$root.session.gridplanner.selected.content.headers,(o=>((0,s.wg)(),(0,s.iD)("td",{key:o},[(0,s.Wm)(d,{parentList:e.cells[o.uuid],onMakeChange:t[10]||(t[10]=e=>l.updateDatabase())},null,8,["parentList"])])))),128))])))),128))])),_:1},16,["modelValue","component-data"])],4)):(0,s.kq)("",!0)])}const rp=e=>((0,s.dD)("data-v-cfd48576"),e=e(),(0,s.Cn)(),e),dp={class:"clearInterfaceIconButton cardHandle"},cp={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},up=rp((()=>(0,s._)("path",{d:"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"},null,-1))),hp=[up],pp=["onClick"],gp={style:{width:"18px",height:"18px"},viewBox:"0 0 24 24"},mp=rp((()=>(0,s._)("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1))),wp=[mp],Cp={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},vp=rp((()=>(0,s._)("path",{d:"M13.09 20H4C2.9 20 2 19.11 2 18V6C2 4.89 2.9 4 4 4H20C21.11 4 22 4.89 22 6V13.81C21.12 13.3 20.09 13 19 13C15.69 13 13 15.69 13 19C13 19.34 13.04 19.67 13.09 20M18 15V18H15V20H18V23H20V20H23V18H20V15H18Z"},null,-1))),fp=[vp];function Lp(e,t,o,i,n,a){const l=(0,s.up)("CardViewer"),r=(0,s.up)("VueDraggableNext");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(r,(0,s.dG)({list:o.parentList,tag:"transition-group",group:"board",class:"list-group-card","component-data":{tag:"div",type:"transition-group",name:n.drag?null:"flip-list"},handle:".cardHandle"},a.dragOptions,{onStart:t[0]||(t[0]=e=>n.drag=!0),onEnd:t[1]||(t[1]=e=>n.drag=!1),emptyInsertThreshold:90,onChange:a.updateDatabase}),{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.parentList,((t,o)=>((0,s.wg)(),(0,s.iD)("div",{key:o,class:"list-group-card-item",tabindex:"0"},[((0,s.wg)(),(0,s.j4)(l,{cardid:t.uuid,allowlink:!0,onLinkcard:a.linkCard,key:e.$root.uuid()},null,8,["cardid","onLinkcard"])),(0,s._)("div",dp,[((0,s.wg)(),(0,s.iD)("svg",cp,hp))]),(0,s._)("button",{class:"deleteIconButton",onClick:e=>a.deleteNote(o),tabindex:"0"},[((0,s.wg)(),(0,s.iD)("svg",gp,wp))],8,pp)])))),128))])),_:1},16,["list","component-data","onChange"]),(0,s._)("button",{class:(0,D.C_)(["add-card",{bigbtn:!o.parentList.length}]),onClick:t[2]||(t[2]=e=>a.addCard(o.parentList))},[((0,s.wg)(),(0,s.iD)("svg",Cp,fp))],2)],64)}var Hp={name:"GridPlannerCell",emits:["MakeChange"],components:{VueDraggableNext:Bs.J,CardViewer:ia},props:{parentList:{type:Array,required:!0}},computed:{dragOptions(){return{animation:200,group:"Cards",disabled:!1,ghostClass:"ghost"}}},data(){return{drag:!1,colWidth:320}},methods:{linkCard(e,t){var o=this.parentList.find((e=>e.uuid===t));o.uuid=e,this.updateDatabase()},deleteNote(e){this.$swal({title:"Are you sure?",text:"You won't be able to undo this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((t=>{t.isConfirmed&&(this.parentList.splice(e,1),this.updateDatabase(),this.$swal("Deleted!","Your file has been deleted.","success"))}))},addCard(){let e={};e.uuid=this.$root.uuid(),this.parentList.push(e),this.updateDatabase()},updateDatabase(){this.$emit("MakeChange")}}};const _p=(0,Y.Z)(Hp,[["render",Lp],["__scopeId","data-v-cfd48576"]]);var Vp=_p,bp={name:"GridPlanner",components:{VueDraggableNext:Bs.J,GridPlannerCell:Vp},computed:{HeaderDragOptions(){return{animation:200,group:"headers",disabled:!1,ghostClass:"ghost"}},dragOptions(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}},tableWidth(){return(this.$root.session.gridplanner.selected.content.headers.length+1)*this.colwidth}},data(){return{colwidth:300,drag:!1}},methods:{updateDatabase(){console.log("Grid updateDatabase"),this.$root.UpdateRecord("Gridplanner",this.$root.session.gridplanner.selected.uuid,this.$root.session.gridplanner.selected)},addCol(){let e={};e.uuid=this.$root.uuid(),e.title="",this.$root.session.gridplanner.selected.content.headers.push(e),this.$root.session.gridplanner.selected.content.rows.forEach((t=>{t.cells[e.uuid]=[]})),this.updateDatabase()},addRow(){let e={title:"",cells:{}};this.$root.session.gridplanner.selected.content.headers.forEach((t=>{e.cells[t.uuid]=[]})),this.$root.session.gridplanner.selected.content.rows.push(e),this.updateDatabase()},deleteCol(e){this.$swal({title:"Are you sure?",text:"You won't be able to undo this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((t=>{if(t.isConfirmed){let t=this.$root.session.gridplanner.selected.content.headers[e].uuid;this.$root.session.gridplanner.selected.content.rows.forEach((e=>{delete e.cells[t]})),this.$root.session.gridplanner.selected.content.headers.splice(e,1),this.updateDatabase(),this.$swal("Deleted!","Your file has been deleted.","success")}}))},deleteRow(e){this.$swal({title:"Are you sure?",text:"You won't be able to undo this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((t=>{t.isConfirmed&&(this.$root.session.gridplanner.selected.content.rows.splice(e,1),this.updateDatabase(),this.$swal("Deleted!","Your file has been deleted.","success"))}))}}};const yp=(0,Y.Z)(bp,[["render",lp],["__scopeId","data-v-0d9ebffe"]]);var kp=yp,$p={name:"GridPlannerHome",components:{Gridplanner:kp},data(){return{title:null,description:null,showaddform:!1,Gridplanners:this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Gridplanner.toArray())))}},methods:{deleteItem(e){this.$swal({title:"Are you sure?",text:"You won't be able to undo this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((t=>{t.isConfirmed&&(this.$root.DeleteRecord("Gridplanner",e.uuid),this.$swal("Deleted!","Your file has been deleted.","success"))}))},chooseItem(e){this.$root.session.gridplanner.selected=this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Gridplanner.get(e.uuid))))},addItem(){if(!this.title)return alert(this.$root.setlang.tools.warn),!1;let e={};e.title=this.title,e.description=this.description,e.content={headers:[],rows:[]},e.uuid=this.$root.uuid(),this.$root.AddRecord("Gridplanner",e),this.title="",this.description="",this.showaddform=!1}},created(){this.$root.session.gridplanner||(this.$root.session.gridplanner={})}};const xp=(0,Y.Z)($p,[["render",Ah]]);var Dp=xp;const Mp=e=>((0,s.dD)("data-v-234c3e14"),e=e(),(0,s.Cn)(),e),Bp={class:"blackout",ref:"scrolltarget"},Ap={class:"distractionfree"},Ip={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},Sp=Mp((()=>(0,s._)("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z"},null,-1))),Tp=[Sp];function Ep(e,t,o,i,n,a){const l=(0,s.up)("EditorContent");return(0,s.wg)(),(0,s.iD)("div",Bp,[(0,s._)("div",Ap,[n.editor?((0,s.wg)(),(0,s.j4)(l,{key:0,editor:n.editor},null,8,["editor"])):(0,s.kq)("",!0)]),(0,s._)("button",{onClick:t[0]||(t[0]=e=>this.$root.session.selectedTool="writer"),class:"closebutton"},[((0,s.wg)(),(0,s.iD)("svg",Ip,Tp))])],512)}var Up={name:"DistractionFree",components:{EditorContent:ja.kg},data(){return{item:this.$root.useObservable(this.$root.liveQuery((async()=>await this.$root.db.Files.get(this.$root.session.writer.file.uuid)))),editor:null,updateUUID:null,mypos:0,keycount:1}},methods:{changed(){this.$root.UpdateRecord("Files",this.item.uuid,this.item)},repositionEditor(){if(this.mypos=this.getCaretPosition(),0!=this.mypos){let e=parseInt(this.mypos)+this.$refs.scrolltarget.scrollTop-window.innerHeight/2;this.$refs.scrolltarget.scrollTo({top:e,behavior:"smooth"})}},getCaretPosition(){var e,t,o=0;return e=window.getSelection(),t=e.getRangeAt(0),o=t.getBoundingClientRect(),o.y}},mounted(){this.updateUUID=this.$root.uuid(),this.$watch("item",((e,t)=>{if(!t)return this.editor.commands.setContent(e.content),!1;e.updateUUID!=this.updateUUID&&this.editor.commands.setContent(e.content)})),this.editor=new ja.ML({extensions:[Ya.Z,Pa.ZP,qa.ZP],content:"",onTransaction:()=>{this.repositionEditor()},onUpdate:()=>{this.$root.session.settings.documentprefs.typesound&&(window["typesound"+this.keycount].play(),9===this.keycount&&(this.keycount=0),this.keycount++),this.item.wordcount=this.$root.wordCounter(this.editor.getHTML()),this.item.content=this.editor.getHTML(),this.item.updateUUID=this.updateUUID,this.changed()}})},beforeUnmount(){this.editor&&this.editor.destroy()}};const Zp=(0,Y.Z)(Up,[["render",Ep],["__scopeId","data-v-234c3e14"]]);var Np=Zp,jp={name:"StartApp",components:{ToolBar:ri,ProjectInfo:_i,WriterMenu:Xa,PlanningBoardHome:fr,SnowFlake:Ad,TimeLine:Zc,MindMapHome:nh,CardsDatabaseHome:Hl,GridPlannerHome:Dp,DistractionFree:Np},methods:{},async mounted(){let e=new URLSearchParams(document.location.search),t=e.get("sc"),o=e.get("sel");e.delete("sc"),e.delete("sel"),"planningboard"===t&&(this.$root.session.writer={},this.$root.session.writer.selected=this.$root.useObservable(this.$root.liveQuery((()=>this.$root.db.Writer.get(o)))),this.$root.session.selectedTool=t),localStorage.getItem("wmDev")&&(this.session=JSON.parse(localStorage.getItem("wmDev")))}};const Yp=(0,Y.Z)(jp,[["render",ao],["__scopeId","data-v-cb874678"]]);var Pp=Yp,qp=o(7632),Fp=JSON.parse('{"en":{"info":{"name":"English","textdirection":"ltr"},"welcome":{"getstarted":"New Project","loadfile":"Load a file from your device","loadgoogle":"Load a file from Google Drive","info":"Create a new file, or load an existing one"},"start":{"projectlabel":"Your Project Name","welcome":"Welcome to Wavemaker Version 4","help":"Help & Guides on how to use Wavemaker"},"google":{"info":"Login to Google Drive","saveinfo":"Save Current Project","files":"Your Files","save":"Save File","search":"Search for Files","logout":"Log Out","close":"Close window"},"settings":{"title":"Settings","close":"Close this file","themes":"Choose a Theme","lang":"Choose a Language","clear":"This will clear the project"},"tools":{"writer":"Your Manuscripts","planningboard":"Your Planning Boards","mindmap":"Your Mindmaps","snowflake":"Your Snowflakes","timeline":"Your Timeline","gridplanner":"Your Grid Planners","cardsdatabase":"Your Cards","name":"Name","description":"Description (optional)","warn":"Please provide a Name"},"writer":{"settings":"Manuscript Settings","newfile":"New Section","deletewarn":"Do you want to delete this item? Any cards you have created will remain in the database","intro":"This is the main page for your document. Options are below.","docdownload":"Export a .doc file of this manuscript","words":"Words"},"mindmap":{"deletenodewarn":"Do you want to delete this node?"},"snowflake":{"title":"Title","deletewarn":"Are You sure you want to delete this card?","replacewarn":"This will replace your card with the three new ones."},"timeline":{"date":"Date/Time","title":"Title"},"gridplanner":{"newrow":"New Row","newcol":"New Column"},"db":{"search":"Search by keywords","clear":"Clear Tags","deletecolwarn":"Delete this column?","deleterowwarn":"Delete this row?"},"cards":{"createnewbtn":"Create New","linkexisting":"Link Existing Card","cardtitle":"Card Title","cardnotes":"Card Notes","cardtags":"Card Tags","moredetail":"More Detail","images":"Images (click on an image to select it)","openimagemanager":"Open Image Manager","close":"Close"}},"de":{"info":{"name":"Deutsch","textdirection":"ltr"},"welcome":{"getstarted":"Neues Projekt","loadfile":"Laden Sie eine Datei von Ihrem Gerät","loadgoogle":"Laden Sie eine Datei von Google Drive","info":"Erstellen Sie eine neue Datei oder laden Sie eine vorhandene"},"start":{"projectlabel":"Ihr Projektname","welcome":"Willkommen bei Wavemaker Version 4","help":"Hilfe und Anleitungen zur Verwendung von Wavemaker"},"google":{"info":"Bei Google Drive anmelden","saveinfo":"Aktuelles Projekt speichern","files":"Ihre Dateien","save":"Datei speichern","search":"Nach Dateien suchen","logout":"Abmelden","close":"Fenster schließen"},"settings":{"title":"Einstellungen","close":"Diese Datei schließen","themes":"Design auswählen","lang":"Sprache auswählen","clear":"Dadurch wird das Projekt gelöscht"},"tools":{"writer":"Ihre Manuskripte","planningboard":"Ihre Plantafeln","mindmap":"Ihre Mindmaps","snowflake":"Ihre Schneeflocken","timeline":"Ihre Zeitleiste","gridplanner":"Ihre Rasterplaner","cardsdatabase":"Ihre Karten","name":"Name","description":"Beschreibung (optional)","warn":"Bitte geben Sie einen Namen ein"},"writer":{"settings":"Manuskripteinstellungen","newfile":"Neuer Abschnitt","deletewarn":"Möchten Sie dieses Element löschen? Alle von Ihnen erstellten Karten bleiben in der Datenbank","intro":"Dies ist die Hauptseite für Ihr Dokument. Optionen sind unten.","docdownload":"Exportieren Sie eine .doc-Datei dieses Manuskripts","words":"Wörter"},"mindmap":{"deletenodewarn":"Möchten Sie diesen Knoten löschen?"},"snowflake":{"title":"Titel","deletewarn":"Möchten Sie diese Karte wirklich löschen?","replacewarn":"Dadurch wird Ihre Karte durch die drei neuen ersetzt."},"timeline":{"date":"Datum/Uhrzeit","title":"Titel"},"gridplanner":{"newrow":"Neue Zeile","newcol":"Neue Spalte"},"db":{"search":"Suche nach Schlüsselwörtern","clear":"Tags löschen","deletecolwarn":"Diese Spalte löschen?","deleterowwarn":"Diese Zeile löschen?"},"cards":{"createnewbtn":"Neu erstellen","linkexisting":"Vorhandene Karte verknüpfen","cardtitle":"Kartentitel","cardnotes":"Kartennotizen","cardtags":"Karten-Tags","moredetail":"Mehr Details","images":"Bilder (klicken Sie auf ein Bild, um es auszuwählen)","openimagemanager":"Bild-Manager öffnen","close":"Schließen"}},"es":{"info":{"name":"Español","textdirection":"ltr"},"welcome":{"getstarted":"Proyecto nuevo","loadfile":"Cargar un archivo desde su dispositivo","loadgoogle":"Cargar un archivo desde Google Drive","info":"Crear un archivo nuevo o cargar uno existente"},"start":{"projectlabel":"Nombre de su proyecto","welcome":"Bienvenido a la versión 4 de Wavemaker","help":"Ayuda y guías sobre cómo usar Wavemaker"},"google":{"info":"Iniciar sesión en Google Drive","saveinfo":"Guardar proyecto actual","files":"Sus archivos","save":"Guardar archivo","search":"Buscar archivos","logout":"Cerrar sesión","close":"Cerrar ventana"},"settings":{"title":"Configuración","close":"Cerrar este archivo","themes":"Elegir un tema","lang":"Elegir un idioma","clear":"Esto borrará el proyecto"},"tools":{"writer":"Sus manuscritos","planningboard":"Su Tableros de planificación","mindmap":"Sus mapas mentales","snowflake":"Sus copos de nieve","timeline":"Su línea de tiempo","gridplanner":"Sus planificadores de cuadrícula","cardsdatabase":"Sus tarjetas","name":"Nombre","description":"Descripción (opcional)","warn":"Proporcione un nombre"},"writer":{"settings":"Configuración del manuscrito","newfile":"Nueva sección","deletewarn":"¿Desea eliminar este elemento? Todas las tarjetas que haya creado permanecerán en la base de datos","intro":"Esta es la página principal de su documento. Las opciones están abajo.","docdownload":"Exportar un archivo .doc de este manuscrito","words":"Palabras"},"mindmap":{"deletenodewarn":"¿Desea eliminar este nodo?"},"snowflake":{"title":"Título","deletewarn":"¿Está seguro de que desea eliminar esta tarjeta?","replacewarn":"Esto reemplazará su tarjeta con las tres nuevas."},"timeline":{"date":"Fecha/hora","title":"Título"},"gridplanner":{"newrow":"Nueva fila","newcol":"Nueva columna"},"db":{"search":"Buscar por palabras clave","clear":"Borrar etiquetas","deletecolwarn":"¿Eliminar esta columna?","deleterowwarn":"¿Eliminar esta fila?"},"cards":{"createnewbtn":"Crear nueva","linkexisting":"Vincular tarjeta existente","cardtitle":"Título de tarjeta","cardnotes":"Notas de tarjeta","cardtags":"Etiquetas de tarjeta","moredetail":"Más detalles","images":"Imágenes (haga clic en una imagen para seleccionarla)","openimagemanager":"Abrir administrador de imágenes","close":"Cerrar\\n"}},"fr":{"info":{"name":"Français","textdirection":"ltr"},"welcome":{"getstarted":"Nouveau projet","loadfile":"Chargez un fichier depuis votre appareil","loadgoogle":"Chargez un fichier depuis Google Drive","info":"Créez un nouveau fichier ou chargez-en un existant"},"start":{"projectlabel":"Le nom de votre projet","welcome":"Bienvenue dans Wavemaker Version 4","help":"Aide et guides sur l\'utilisation de Wavemaker"},"google":{"info":"Se connecter à Google Drive","saveinfo":"Enregistrer le projet en cours","files":"Vos fichiers","save":"Enregistrer le fichier","search":"Rechercher des fichiers","logout":"Se déconnecter","close":"Fermer la fenêtre"},"settings":{"title":"Paramètres","close":"Fermer ce fichier","themes":"Choisir un thème","lang":"Choisir une langue","clear":"Cela effacera le projet"},"tools":{"writer":"Vos manuscrits","planningboard":"Vos Tableaux de planification","mindmap":"Vos cartes mentales","snowflake":"Vos flocons de neige","timeline":"Votre chronologie","gridplanner":"Vos planificateurs de grille","cardsdatabase":"Vos cartes","name":"Nom","description":"Description (facultatif)","warn":"Veuillez fournir un nom"},"writer":{"settings":"Paramètres du manuscrit","newfile":"Nouvelle section","deletewarn":"Voulez-vous supprimer cet élément ? Toutes les cartes que vous avez créées resteront dans la base de données","intro":"Il s\'agit de la page principale de votre document. Les options sont ci-dessous.","docdownload":"Exporter un fichier .doc de ce manuscrit","words":"Mots"},"mindmap":{"deletenodewarn":"Voulez-vous supprimer ce nœud ?"},"snowflake":{"title":"Titre","deletewarn":"Voulez-vous vraiment supprimer cette carte ?","replacewarn":"Cela remplacera votre carte par les trois nouvelles."},"timeline":{"date":"Date/Heure","title":"Titre"},"gridplanner":{"newrow":"Nouvelle ligne","newcol":"Nouvelle colonne"},"db":{"search":"Recherche par mots clés","clear":"Effacer les balises","deletecolwarn":"Supprimer cette colonne ?","deleterowwarn":"Supprimer cette ligne ?"},"cards":{"createnewbtn":"Créer un nouveau","linkexisting":"Lier une carte existante","cardtitle":"Titre de la carte","cardnotes":"Notes de la carte","cardtags":"Étiquettes de la carte","moredetail":"Plus de détails","images":"Images (cliquez sur une image pour la sélectionner)","openimagemanager":"Ouvrir le gestionnaire d\'images","close":"Fermer"}},"cy":{"info":{"name":"Cymraeg","textdirection":"ltr"},"welcome":{"getstarted":"Prosiect Newydd","loadfile":"Llwytho ffeil o\'ch dyfais","loadgoogle":"Llwytho ffeil o Google Drive","info":"Creu ffeil newydd, neu lwytho un sy\'n bodoli"},"start":{"projectlabel":"Enw eich Prosiect","welcome":"Croeso i Wavemaker Fersiwn 4","help":"Cymorth a Chanllawiau ar sut i ddefnyddio Wavemaker"},"google":{"info":"Mewngofnodi i Google Drive","saveinfo":"Cadw Prosiect Cyfredol","files":"Eich Ffeiliau","save":"Cadw Ffeil","search":"Chwilio am Ffeiliau","logout":"Allgofnodi","close":"Cau ffenestr"},"settings":{"title":"Gosodiadau","close":"Cau\'r ffeil","themes":"Dewis Thema","lang":"Dewis Iaith","clear":"Bydd hyn yn clirio\'r prosiect"},"tools":{"writer":"Eich Llawysgrifau","planningboard":"Eich Byrddau Cynllunio","mindmap":"Eich Mapiau Meddwl","snowflake":"Eich plu eira","timeline":"Eich Llinell Amser","gridplanner":"Eich Cynllunwyr Grid","cardsdatabase":"Eich Cardiau","name":"Enw","description":"Disgrifiad (dewisol)","warn":"Rhowch Enw"},"writer":{"settings":"Gosodiadau Llawysgrif","newfile":"Adran Newydd","deletewarn":"Ydych chi am ddileu\'r eitem hon? Bydd unrhyw gardiau rydych wedi\'u creu yn aros yn y gronfa ddata","intro":"Dyma brif dudalen eich dogfen. Mae\'r opsiynau isod.","docdownload":"Allforio ffeil .doc o\'r llawysgrif hon","words":"Geiriau"},"mindmap":{"deletenodewarn":"Ydych chi am ddileu\'r nod hwn?"},"snowflake":{"title":"Teitl","deletewarn":"Ydych chi\'n siŵr eich bod am ddileu\'r cerdyn hwn?","replacewarn":"Bydd hwn yn disodli\'ch cerdyn gyda\'r tri pheth newydd."},"timeline":{"date":"Dyddiad/Amser","title":"Teitl"},"gridplanner":{"newrow":"Rhes Newydd","newcol":"Colofn Newydd"},"db":{"search":"Chwilio yn ôl allweddeiriau","clear":"Clirio Tagiau","deletecolwarn":"Dileu’r golofn hon?","deleterowwarn":"Dileu\'r rhes hon?"},"cards":{"createnewbtn":"Creu Cyswllt Newydd","linkexisting":"Cerdyn Presennol","cardtitle":"Teitl y Cerdyn","cardnotes":"Nodiadau Cerdyn","cardtags":"Tagiau Cerdyn","moredetail":"Mwy o Fanylion","images":"Delweddau (cliciwch ar ddelwedd i\'w ddewis)","openimagemanager":"Agor Rheolwr Delwedd","close":"Cau"}}}');const zp=e=>((0,s.dD)("data-v-014a88a5"),e=e(),(0,s.Cn)(),e),Gp={key:0,class:"scrollHolder"},Rp=zp((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"})],-1))),Wp=[Rp],Op={class:"colorbox"},Jp={class:"inputHolder"},Kp={class:"inputHolder"},Qp={class:"inputHolder"},Xp=["onClick"],eg=zp((()=>(0,s._)("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24","data-v-024bf5af":""},[(0,s._)("path",{d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z","data-v-024bf5af":""})],-1))),tg=[eg],og={class:"inputHolder"},ig=zp((()=>(0,s._)("hr",null,null,-1))),sg={class:"inputHolder"},ng=["onClick"],ag=zp((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"})],-1))),lg=[ag],rg=["title"],dg=zp((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M7,15L11.5,9L15,13.5L17.5,10.5L21,15M22,4H14L12,2H6A2,2 0 0,0 4,4V16A2,2 0 0,0 6,18H22A2,2 0 0,0 24,16V6A2,2 0 0,0 22,4M2,6H0V11H0V20A2,2 0 0,0 2,22H20V20H2V6Z"})],-1))),cg=zp((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"})],-1)));function ug(e,t,o,n,a,l){const r=(0,s.up)("MiniEditor"),d=(0,s.up)("MiniImage");return(0,s.wg)(),(0,s.j4)(i.uT,{name:"bounce"},{default:(0,s.w5)((()=>[a.animate?((0,s.wg)(),(0,s.iD)("div",Gp,[(0,s._)("div",{id:"overlay",onClick:t[0]||(t[0]=t=>e.$root.$data.session.EditCard=null)}),a.cardInfo?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"cardEditorHolder",style:(0,D.j5)("background-color: var("+this.cardInfo.color+"); color : var("+this.cardInfo.color+"-f); fill : var("+this.cardInfo.color+"-f)")},[(0,s._)("button",{onClick:t[1]||(t[1]=t=>e.$root.$data.session.EditCard=null),class:"clearInterfaceIconButton closebtn"},Wp),(0,s._)("div",Op,[(0,s._)("button",{class:"c1",onClick:t[2]||(t[2]=e=>l.setCardColor(1))}),(0,s._)("button",{class:"c2",onClick:t[3]||(t[3]=e=>l.setCardColor(2))}),(0,s._)("button",{class:"c3",onClick:t[4]||(t[4]=e=>l.setCardColor(3))}),(0,s._)("button",{class:"c4",onClick:t[5]||(t[5]=e=>l.setCardColor(4))}),(0,s._)("button",{class:"c5",onClick:t[6]||(t[6]=e=>l.setCardColor(5))}),(0,s._)("button",{class:"c6",onClick:t[7]||(t[7]=e=>l.setCardColor(6))}),(0,s._)("button",{class:"c7",onClick:t[8]||(t[8]=e=>l.setCardColor(7))})]),(0,s._)("label",null,(0,D.zw)(this.$root.setlang.cards.cardtitle),1),(0,s._)("div",Jp,[(0,s.wy)((0,s._)("input",{class:"cardTitle",placeholder:"Title","onUpdate:modelValue":t[9]||(t[9]=e=>this.cardInfo.title=e),onChange:t[10]||(t[10]=(...e)=>l.updatecard&&l.updatecard(...e))},null,544),[[i.nr,this.cardInfo.title]])]),(0,s._)("label",null,[(0,s.Uk)((0,D.zw)(this.$root.setlang.cards.cardnotes)+" ",1),(0,s.wy)((0,s._)("input",{type:"checkbox",value:"true","onUpdate:modelValue":t[11]||(t[11]=e=>this.cardInfo.showdesc=e),onChange:t[12]||(t[12]=e=>l.updatecard())},null,544),[[i.e8,this.cardInfo.showdesc]])]),(0,s._)("div",Kp,[(0,s.Wm)(r,{modelValue:this.cardInfo.description,"onUpdate:modelValue":t[13]||(t[13]=e=>this.cardInfo.description=e),onUpdated:l.updatecard},null,8,["modelValue","onUpdated"])]),(0,s._)("label",null,(0,D.zw)(this.$root.setlang.cards.cardtags),1),(0,s._)("div",Qp,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.cardInfo.labels,((e,t)=>((0,s.wg)(),(0,s.iD)("span",{class:"tag",key:t},[(0,s.Uk)((0,D.zw)(e)+" ",1),(0,s._)("button",{onClick:e=>l.removetag(t)},tg,8,Xp)])))),128)),(0,s.wy)((0,s._)("input",{placeholder:"#",onChange:t[14]||(t[14]=(...e)=>l.tagger&&l.tagger(...e)),"onUpdate:modelValue":t[15]||(t[15]=e=>a.tag=e),class:"tagInput",style:(0,D.j5)("width: "+l.taginputwidth+"ch")},null,36),[[i.nr,a.tag]])]),(0,s._)("label",null,(0,D.zw)(this.$root.setlang.cards.moredetail),1),(0,s._)("div",og,[(0,s.Wm)(r,{modelValue:this.cardInfo.content,"onUpdate:modelValue":t[16]||(t[16]=e=>this.cardInfo.content=e),onUpdated:l.updatecard},null,8,["modelValue","onUpdated"])]),ig,(0,s._)("label",null,(0,D.zw)(this.$root.setlang.cards.images),1),(0,s._)("div",sg,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.cardInfo.images,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"imgHolder"},[(0,s._)("button",{class:"deleteBtn",onClick:e=>l.deleteImage(t),style:(0,D.j5)(this.cardInfo.showimage===e?"display:none":"")},lg,12,ng),(0,s.Wm)(d,{uuid:e,class:(0,D.C_)(this.cardInfo.showimage===e?"selectedImg":"unselectedImg"),onClick:t=>l.chooseImage(e)},null,8,["uuid","class","onClick"])])))),128))]),(0,s._)("button",{onClick:t[17]||(t[17]=e=>l.addImage()),class:"interfaceBtn",title:this.$root.setlang.settings.title},[dg,(0,s.Uk)(" "+(0,D.zw)(this.$root.setlang.cards.openimagemanager),1)],8,rg),(0,s._)("button",{onClick:t[18]||(t[18]=t=>e.$root.$data.session.EditCard=null),class:"interfaceBtn",style:{float:"right"}},[cg,(0,s.Uk)(" "+(0,D.zw)(this.$root.setlang.cards.close),1)])],4)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])),_:1})}var hg={name:"CardViewer",emits:["cardChange"],components:{MiniEditor:kd,MiniImage:ea},computed:{taginputwidth(){return this.tag&&this.tag.length>6?this.tag.length:6},imageList(){let e=[];return this.cardInfo&&this.cardInfo.images.forEach((async t=>{let o=await this.$root.getImage(t);o?e.push(o):this.cardInfo.images=this.cardInfo.images.filter((e=>e!==t))})),e}},data(){return{tag:null,animate:!1,cardInfo:null}},methods:{updatecard(){console.log("updating"),this.cardInfo.updateWindow=this.$root.windowID,this.$root.UpdateRecord("Cards",this.$root.$data.session.EditCard,this.cardInfo)},chooseImage(e){this.cardInfo.showimage!=e?this.cardInfo.showimage=e:this.cardInfo.showimage=null,console.log("image "+e),this.updatecard()},tagger(){this.tag&&(this.cardInfo.labels.push(this.tag),this.tag=null,this.updatecard())},removetag(e){this.cardInfo.labels.splice(e,1),this.updatecard()},setCardColor(e){this.cardInfo.color="--card"+e,this.updatecard()},addImage(){this.$root.imagemanager={table:"Cards",targetuuid:this.$root.$data.session.EditCard,target:this.cardInfo.images,updateObj:this.cardInfo}},deleteImage(e){this.cardInfo.images.splice(e,1),this.updatecard()}},mounted(){this.cardInfo=(0,w.mA)((0,u.Y1)((async()=>await h.Cards.get(this.$root.$data.session.EditCard)))),this.animate=!0},beforeUnmount(){this.animate=!1}};const pg=(0,Y.Z)(hg,[["render",ug],["__scopeId","data-v-014a88a5"]]);var gg=pg;const mg=e=>((0,s.dD)("data-v-8129ad4c"),e=e(),(0,s.Cn)(),e),wg=mg((()=>(0,s._)("div",{class:"backdrop"},null,-1))),Cg={key:0,class:"imageWindow"},vg={key:0,class:"imageScroller"},fg={class:"imgBox"},Lg=["src"],Hg={style:{"margin-top":"-10px","text-align":"right"}},_g=["onClick"],Vg=mg((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M19,19H5V5H19M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M13.96,12.29L11.21,15.83L9.25,13.47L6.5,17H17.5L13.96,12.29Z"})],-1))),bg=["onClick"],yg=mg((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"})],-1))),kg={key:1,class:"uploadFrame"},$g=["src"],xg=mg((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12.18 17C12.54 15.5 13.43 14.16 14.68 13.25L13.96 12.29L11.21 15.83L9.25 13.47L6.5 17H12.18M5 5V19H12.03C12.09 19.7 12.24 20.38 12.5 21H5C4.47 21 3.96 20.79 3.59 20.41C3.21 20.04 3 19.53 3 19V5C3 3.9 3.9 3 5 3H19C19.53 3 20.04 3.21 20.41 3.59C20.79 3.96 21 4.47 21 5V12.5C20.38 12.24 19.7 12.09 19 12.03V5H5M17.75 22L15 19L16.16 17.84L17.75 19.43L21.34 15.84L22.5 17.25L17.75 22Z"})],-1))),Dg=mg((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M13 19C13 19.7 13.13 20.37 13.35 21H5C3.9 21 3 20.11 3 19V5C3 3.9 3.9 3 5 3H19C20.11 3 21 3.9 21 5V13.35C20.37 13.13 19.7 13 19 13V5H5V19H13M11.21 15.83L9.25 13.47L6.5 17H13.35C13.75 15.88 14.47 14.91 15.4 14.21L13.96 12.29L11.21 15.83M22.54 16.88L21.12 15.47L19 17.59L16.88 15.47L15.47 16.88L17.59 19L15.47 21.12L16.88 22.54L19 20.41L21.12 22.54L22.54 21.12L20.41 19L22.54 16.88Z"})],-1))),Mg={class:"toolbar"},Bg=mg((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"})],-1))),Ag=[Bg],Ig={id:"imageCanvas",ref:"imageCanvas",style:{display:"none"}},Sg={key:0},Tg=mg((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M13 19C13 19.7 13.13 20.37 13.35 21H5C3.9 21 3 20.11 3 19V5C3 3.9 3.9 3 5 3H19C20.11 3 21 3.9 21 5V13.35C20.37 13.13 19.7 13 19 13V5H5V19H13M13.96 12.29L11.21 15.83L9.25 13.47L6.5 17H13.35C13.75 15.88 14.47 14.91 15.4 14.21L13.96 12.29M20 18V15H18V18H15V20H18V23H20V20H23V18H20Z"})],-1)));function Eg(e,t,o,n,a,l){const r=(0,s.up)("masonry-wall");return(0,s.wg)(),(0,s.iD)(s.HY,null,[wg,a.imagesArray?((0,s.wg)(),(0,s.iD)("div",Cg,[this.newimage.base64?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",vg,[(0,s.Wm)(r,{items:a.imagesArray,"ssr-columns":1,"column-width":300,gap:16},{default:(0,s.w5)((({item:e})=>[(0,s._)("div",fg,[(0,s._)("img",{src:"data:image/png;base64,"+e.base64},null,8,Lg),(0,s._)("div",Hg,[this.$root.imagemanager.targetuuid?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:t=>l.pickImage(e.uuid),class:"interfaceBtn chooseBtn"},[Vg,(0,s.Uk)(" Link this Image ")],8,_g)):(0,s.kq)("",!0),(0,s._)("button",{class:"interfaceBtn deleteBtn",onClick:t=>l.deleteImage(e.uuid)},[yg,(0,s.Uk)("   ")],8,bg)])])])),_:1},8,["items"])])),this.newimage.base64?((0,s.wg)(),(0,s.iD)("div",kg,[(0,s._)("img",{src:"data:image/png;base64,"+this.newimage.base64,style:{"max-width":"100%"}},null,8,$g),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>this.newimage.title=e),class:"formInput",placeholder:"File Name"},null,512),[[i.nr,this.newimage.title]]),(0,s._)("div",null,[(0,s._)("button",{onClick:t[1]||(t[1]=e=>l.addNewImage()),class:"interfaceBtn saveBtn"},[xg,(0,s.Uk)(" Save ")]),(0,s._)("button",{onClick:t[2]||(t[2]=e=>{this.newimage.title=null,this.newimage.base64=null}),class:"interfaceBtn cancelBtn"},[Dg,(0,s.Uk)(" Cancel ")])])])):(0,s.kq)("",!0),(0,s._)("div",Mg,[(0,s._)("button",{class:"interfaceBtn closeBtn topbar",onClick:t[3]||(t[3]=e=>l.closeImageManager())},Ag),(0,s._)("canvas",Ig,null,512),this.newimage.base64?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Sg,[(0,s._)("button",{onClick:t[4]||(t[4]=(...e)=>l.triggerUpload&&l.triggerUpload(...e)),class:"interfaceBtn topbar"},[Tg,(0,s.Uk)(" Upload an Image ")]),(0,s._)("input",{type:"file",ref:"imageloader",onChange:t[5]||(t[5]=(...e)=>l.updateCanvasImage&&l.updateCanvasImage(...e)),style:{display:"none"}},null,544)]))])])):(0,s.kq)("",!0)],64)}var Ug={name:"ImageViewer",components:{MasonryWall:vl.Z},data(){return{imagesArray:(0,w.mA)((0,u.Y1)((async()=>await h.ImageLibrary.toArray()))),newimage:{title:null,base64:null}}},methods:{triggerUpload(){this.$refs.imageloader.click()},closeImageManager(){this.$root.EditCardrefresh=this.$root.uuid(),this.$root.imagemanager=null},updateCanvasImage(e){var t=this,o=e.target.files,i=new FileReader;i.onload=e=>{var i=new Image;i.onload=function(){t.drawCanvasImage(i)},i.src=e.target.result,this.newimage.title=o[0].name},i.readAsDataURL(o[0])},drawCanvasImage(e){var t=this.$refs.imageCanvas;t.width=500,t.height=e.height/(e.width/500);var o=t.getContext("2d");o.drawImage(e,0,0,e.width,e.height,0,0,t.width,t.height),this.newimage.base64=t.toDataURL("image/jpeg").split(";base64,")[1]},async addNewImage(){let e=this.$root.uuid(),t={};t.uuid=e,t.title=this.newimage.title,t.base64=this.newimage.base64,await this.$root.AddRecord("ImageLibrary",t),this.newimage.title=null,this.newimage.base64=null},async deleteImage(e){this.$swal({title:"Are you sure?",text:"You won't be able to undo this!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((async t=>{t.isConfirmed&&(await this.$root.db.ImageLibrary.delete(e),this.$swal("Deleted!","Your file has been deleted.","success"))}))},pickImage(e){this.$root.imagemanager.targetuuid&&("Cards"===this.$root.imagemanager.table&&this.$root.imagemanager.target.push(e),"Gridplanner"===this.$root.imagemanager.table&&(this.$root.imagemanager.target.text=e),this.$root.UpdateRecord(this.$root.imagemanager.table,this.$root.imagemanager.targetuuid,this.$root.imagemanager.updateObj),this.closeImageManager())}}};const Zg=(0,Y.Z)(Ug,[["render",Eg],["__scopeId","data-v-8129ad4c"]]);var Ng=Zg;const jg=e=>((0,s.dD)("data-v-938cb06e"),e=e(),(0,s.Cn)(),e),Yg={class:"backdrop"},Pg={class:"window"},qg={style:{width:"100%"}},Fg=jg((()=>(0,s._)("td",{style:{width:"75%"}},null,-1))),zg=jg((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"})],-1))),Gg=jg((()=>(0,s._)("hr",null,null,-1))),Rg=jg((()=>(0,s._)("h1",null,"Version 3 Converter",-1))),Wg=jg((()=>(0,s._)("p",null,[(0,s.Uk)(" Hi, this is a legacy tool to allow you to load your old "),(0,s._)("strong",null,"wavemaker version 3"),(0,s.Uk)(" files into the new version. ")],-1))),Og=jg((()=>(0,s._)("p",null," As the behind the scenes database has changed quite a bit this is a one-way process. ",-1))),Jg=jg((()=>(0,s._)("p",null,'You will need your DATABASE file (go to the main menu by clicking on the logo in wavemaker 3 then export the database) You should then have a file with the extension ".wmdata"',-1))),Kg=jg((()=>(0,s._)("p",null," You will need to import each project and save it to it's own file as they are all seperate in the new version ",-1))),Qg=jg((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z"})],-1))),Xg={key:1},em=jg((()=>(0,s._)("label",null,"Choose a Project to import",-1))),tm=["onClick"],om=jg((()=>(0,s._)("svg",{viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M6 2C4.89 2 4 2.9 4 4V20C4 21.11 4.89 22 6 22H12V20H6V4H13V9H18V12H20V8L14 2M18 14C17.87 14 17.76 14.09 17.74 14.21L17.55 15.53C17.25 15.66 16.96 15.82 16.7 16L15.46 15.5C15.35 15.5 15.22 15.5 15.15 15.63L14.15 17.36C14.09 17.47 14.11 17.6 14.21 17.68L15.27 18.5C15.25 18.67 15.24 18.83 15.24 19C15.24 19.17 15.25 19.33 15.27 19.5L14.21 20.32C14.12 20.4 14.09 20.53 14.15 20.64L15.15 22.37C15.21 22.5 15.34 22.5 15.46 22.5L16.7 22C16.96 22.18 17.24 22.35 17.55 22.47L17.74 23.79C17.76 23.91 17.86 24 18 24H20C20.11 24 20.22 23.91 20.24 23.79L20.43 22.47C20.73 22.34 21 22.18 21.27 22L22.5 22.5C22.63 22.5 22.76 22.5 22.83 22.37L23.83 20.64C23.89 20.53 23.86 20.4 23.77 20.32L22.7 19.5C22.72 19.33 22.74 19.17 22.74 19C22.74 18.83 22.73 18.67 22.7 18.5L23.76 17.68C23.85 17.6 23.88 17.47 23.82 17.36L22.82 15.63C22.76 15.5 22.63 15.5 22.5 15.5L21.27 16C21 15.82 20.73 15.65 20.42 15.53L20.23 14.21C20.22 14.09 20.11 14 20 14M19 17.5C19.83 17.5 20.5 18.17 20.5 19C20.5 19.83 19.83 20.5 19 20.5C18.16 20.5 17.5 19.83 17.5 19C17.5 18.17 18.17 17.5 19 17.5Z"})],-1)));function im(e,t,o,i,n,a){return(0,s.wg)(),(0,s.iD)("div",Yg,[(0,s._)("div",Pg,[(0,s._)("table",qg,[(0,s._)("tr",null,[Fg,(0,s._)("td",null,[(0,s._)("button",{onClick:t[0]||(t[0]=t=>e.$root.v3import=!1),class:"interfaceBtn fullw text-left"},[zg,(0,s.Uk)(" Close")])])])]),Gg,Rg,Wg,Og,Jg,Kg,n.wm3file?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:t[1]||(t[1]=(...e)=>a.file_loadDB&&a.file_loadDB(...e)),class:"interfaceBtn fullw text-left"},[Qg,(0,s.Uk)(" Upload a Wavemaker 3 file")])),n.wm3file?((0,s.wg)(),(0,s.iD)("div",Xg,[em,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.wm3file.projects,((e,t)=>((0,s.wg)(),(0,s.iD)("button",{key:t,onClick:e=>a.startimport(t),class:"interfaceBtn fullw text-left"},[om,(0,s.Uk)(" "+(0,D.zw)(e.title),1)],8,tm)))),128))])):(0,s.kq)("",!0)]),(0,s._)("input",{type:"file",id:"wavemaker3HiddenPicker",name:"upload",accept:".wmdata",onChange:t[2]||(t[2]=(...e)=>a.file_load&&a.file_load(...e)),style:{display:"none"}},null,32)])}var sm=o(3787),nm=o.n(sm),am={name:"App",data(){return{wm3file:null,proj:null,filearray:[],copysettings:{}}},methods:{file_loadDB(){document.getElementById("wavemaker3HiddenPicker").click()},file_load(e){var t=new FileReader;t.onload=async e=>{this.wm3file=JSON.parse(e.target.result),console.log("Data File Recieved",this.wm3file)},t.readAsText(e.target.files.item(0))},startimport(e){this.$root.clearDatabase(),this.proj=this.wm3file.projects[e];let t=JSON.parse(JSON.stringify(this.$root.SettingsTemplate));t.uuid=this.$root.uuid(),t.ProjectName=this.proj.title,this.copysettings=t,this.$root.AddRecord("Settings",t);let o=this.$root.uuid();this.filearray=[],this.loopfiles(this.proj.data.writer,this.filearray,o);let i={};i.title=this.proj.title,i.description="",i.files=JSON.parse(JSON.stringify(this.filearray)),i.uuid=o,this.$root.AddRecord("Writer",i),this.processCards(),this.processSnowflakes(),this.processgridplanner(),this.processmindmaps(),this.processtimeline(),this.$root.v3import=!1,this.$root.getSettings()},loopfiles(e,t,o){e.forEach((e=>{let i={uuid:this.$root.uuid(),type:"file",children:[],open:!1},s={};if(s.uuid=i.uuid,s.writerid=o,e.data.content){let t=new(nm().Converter),o=t.makeHtml(e.data.content);s.content=o,s.wordcount=this.$root.wordCounter(o)}else s.content="",s.wordcount=0;s.title=e.title,s.notes=[],e.data.notes.length&&e.data.notes.forEach((e=>{0===parseInt(e.backgroundColor)&&(e.backgroundColor=1),6===parseInt(e.backgroundColor)&&(e.backgroundColor=5),e.backgroundColor||(e.backgroundColor=1);let t={};t.uuid=this.$root.uuid(),t.title=e.title,t.description=e.content,t.showdesc=!0,t.content="",t.labels=[],t.images=[],t.style="",t.options={},t.color="--card"+e.backgroundColor,s.notes.push({uuid:t.uuid}),this.$root.AddRecord("Cards",t)})),this.$root.AddRecord("Files",s),e.children&&e.children.length&&this.loopfiles(e.children,i.children,o),t.push(i)}))},processCards(){if(!this.proj.data.cards||!this.proj.data.cards.length)return!1;this.proj.data.cards.forEach((e=>{let t=[];e.images&&e.images.forEach((e=>{let o=this.$root.uuid(),i={},s=e.slice(22);i.uuid=o,i.title="imported",i.base64=s,this.$root.AddRecord("ImageLibrary",i),t.push(o)})),0===e.backgroundColor&&(e.backgroundColor=1),6===e.backgroundColor&&(e.backgroundColor=5);let o=this.nl2br(e.content),i={};i.uuid=this.$root.uuid(),i.title=e.title,i.description=o,i.showdesc=!0,i.content="",i.labels=JSON.parse(JSON.stringify(e.tags)),i.images=t,i.style="",i.options={},i.color="--card1",t.length&&(i.showimage=t[0]),this.$root.AddRecord("Cards",i)}))},nl2br(e,t){if("undefined"===typeof e||null===e)return"";var o=t||"undefined"===typeof t?"<br />":"<br>";return(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+o+"$2")},processSnowflakes(){if(!this.proj.data.snowflake)return console.log("no snowflake"),!1;let e=this.$root.uuid(),t={};t.uuid=e,t.title="Imported Snowflake",t.content=[],this.proj.data.snowflake.forEach((e=>{let o={};o.title=e.title,o.content=e.content,o.children=[{title:e.subcard1.title,content:e.subcard1.content,children:[]},{title:e.subcard2.title,content:e.subcard2.content,children:[]},{title:e.subcard3.title,content:e.subcard3.content,children:[]}],t.content.push(o)})),this.$root.AddRecord("Snowflake",t)},processgridplanner(){if(!this.proj.data.gridplanner)return!1;let e={};e.uuid=this.$root.uuid(),e.title="Imported";let t=this.proj.data.gridplanner,o=null,i=[];t.forEach(((e,t)=>{0===t?o=e:i.push(e)})),e.content={},e.content.headers=[],o.forEach(((t,o)=>{0!=o&&e.content.headers.push({uuid:this.$root.uuid(),title:t.title})})),e.content.rows=[],i.forEach((t=>{let o={};t.forEach(((t,i)=>{if(0===i)o.title=t.title,o.cells={};else{let s=e.content.headers[i-1].uuid;o.cells[s]=[],t.content.forEach((e=>{let t=this.nl2br(e),i={};i.uuid=this.$root.uuid(),i.title="Grid import",i.description=t,i.showdesc=!0,i.content="",i.labels=[],i.images=[],i.style="",i.options={},i.color="--card1",o.cells[s].push({uuid:i.uuid}),this.$root.AddRecord("Cards",i)}))}})),e.content.rows.push(o)})),this.$root.AddRecord("Gridplanner",JSON.parse(JSON.stringify(e)))},processmindmaps(){if(!this.proj.data.mindmaps)return!1;let e=this.proj.data.mindmaps;e.forEach((e=>{let t={};t.title=e.title,t.uuid=this.$root.uuid(),t.content={},t.content.links=[],t.content.nodes={},e.links.forEach((e=>{let o={};o.from=e.start,o.to=e.end,o.type="solid",t.content.links.push(o)})),e.items.forEach((e=>{if(t.content.nodes[e.id]={x:e.left,y:e.top,w:"auto",type:e.type},"image"!=e.type)t.content.nodes[e.id].text=this.nl2br(e.content);else{let o=this.$root.uuid(),i={},s=e.content.slice(22);i.uuid=o,i.title="imported",i.base64=s,this.$root.AddRecord("ImageLibrary",i),t.content.nodes[e.id].text=o}})),this.$root.AddRecord("Mindmap",JSON.parse(JSON.stringify(t)))}))},processtimeline(){if(!this.proj.data.timeline)return!1;let e=this.proj.data.timeline;console.log(">>>>",e);let t={};t.uuid=this.$root.uuid(),t.title="Imported",t.description="Your WM3 timeline",t.content=[],e.forEach((e=>{t.content.push({title:e.title,text:e.content,event:"Your Event"})})),this.$root.AddRecord("Timeline",JSON.parse(JSON.stringify(t)))}}};const lm=(0,Y.Z)(am,[["render",im],["__scopeId","data-v-938cb06e"]]);var rm=lm,dm={name:"App",mixins:[c,v,_,L],components:{PopupManager:Nt,WelcomeScreen:so,Start:Pp,CardModal:gg,ImageManager:Ng,Version3Import:rm},data(){return{myPackage:r,EditCardrefresh:null,theme:"default",themeList:[{name:"Default Wavemaker",file:"wavemaker"},{name:"Light Theme",file:"light"},{name:"Blue Sky",file:"bluesky"}],lhspin:!0,rhspin:!0,navbar:!1,togglenav:!0,show:!1,popup:{name:null},lang:"en",language:Fp,setlang:null,uuid:qp.Z,session:{},navshow:!0,imagemanager:!1,v3import:!1,fullWordCount:0}},methods:{async calcFullWordCount(){let e=0;if(this.$root.session.writer.selected){let t=await this.$root.db.Files.where({writerid:this.$root.session.writer.selected.uuid}).toArray();console.log("Wordcounter called for doc ",t),t.forEach((t=>{let o=0;t.wordcount&&(o=parseInt(t.wordcount)),e+=parseInt(o)}))}this.fullWordCount=e},switchLang(){localStorage.setItem("wmLang",this.lang),this.updateLang()},updateLang(){this.setlang=this.$root.language[this.$root.lang]},openInNew(e){var t=window.innerWidth-window.innerWidth/100*5,o=window.innerHeight-window.innerHeight/100*5;if("planningboard"===e)return window.open("/?sc="+e+"&sel="+this.$root.session.writer.selected.uuid,"PlanningBoard","width="+t+"px,height="+o+"px"),!1;window.open(e,"Info","width="+t+"px,height="+o+"px")},wordCounter(e){return e=e.replace(/(<([^>]+)>)/gi," "),e.split(" ").filter((function(e){return""!=e})).length},niceDate(e){var t=new Date(e);return t.getDate()+"/"+t.getMonth()+"/"+t.getFullYear()+" - "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},screensizefixes(){let e=window.innerWidth;e<720&&(this.lhspin=!1,this.rhspin=!1,this.navbar=!1,this.togglenav=!0),e>720&&(this.lhspin=!0,this.rhspin=!0,this.navbar=!0,this.togglenav=!1)},SpecialKeys(e){e.shiftKey&&"Enter"===e.key&&console.log("Session :",JSON.parse(JSON.stringify(this.session)))},switchTheme(){document.getElementById("themeSwitch").href="themes/"+this.theme+".css",localStorage.setItem("wmTheme",this.theme)},unloadEvent(e){e.preventDefault(),e.returnValue=""}},async mounted(){let e=await this.$root.db.Settings.toArray();e&&(this.$root.session.settings=e[0]),localStorage.getItem("wmTheme")&&(this.theme=localStorage.getItem("wmTheme"),this.switchTheme()),localStorage.getItem("wmLang")&&"undefined"!=localStorage.getItem("wmLang")?this.lang=localStorage.getItem("wmLang"):this.lang="en",this.updateLang(),window.addEventListener("keydown",this.SpecialKeys),document.body.dir=this.$root.setlang.textdirection,this.screensizefixes()},created(){window.addEventListener("resize",this.screensizefixes)},unmount(){window.removeEventListener("resize",this.screensizefixes)}};const cm=(0,Y.Z)(dm,[["render",l]]);var um=cm,hm=o(5205);(0,hm.z)("service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh."),alert("Wavemaker has updated,  your browser will now reload")&&window.location.reload()},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var pm=o(3543),gm={install:e=>{e.component("vue-draggable-resizable",pm.Z)}},mm=o(3982),wm=o.n(mm);(0,i.ri)(um).use(gm).use(wm()).mount("#app")}},t={};function o(i){var s=t[i];if(void 0!==s)return s.exports;var n=t[i]={exports:{}};return e[i].call(n.exports,n,n.exports,o),n.exports}o.m=e,function(){var e=[];o.O=function(t,i,s,n){if(!i){var a=1/0;for(c=0;c<e.length;c++){i=e[c][0],s=e[c][1],n=e[c][2];for(var l=!0,r=0;r<i.length;r++)(!1&n||a>=n)&&Object.keys(o.O).every((function(e){return o.O[e](i[r])}))?i.splice(r--,1):(l=!1,n<a&&(a=n));if(l){e.splice(c--,1);var d=s();void 0!==d&&(t=d)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[i,s,n]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,i){var s,n,a=i[0],l=i[1],r=i[2],d=0;if(a.some((function(t){return 0!==e[t]}))){for(s in l)o.o(l,s)&&(o.m[s]=l[s]);if(r)var c=r(o)}for(t&&t(i);d<a.length;d++)n=a[d],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(c)},i=self["webpackChunkwavemakercards_v4"]=self["webpackChunkwavemakercards_v4"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=o.O(void 0,[998],(function(){return o(4826)}));i=o.O(i)})();